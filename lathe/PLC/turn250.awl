[Info]
Version=2.01
CheckChange=5436a26b
//
//   ***********************************************************************
//   *                                                                     *
//   *                SPS-PROGRAMM FÜR DIE CT250                           *
//   *                   MIT SIEMENS-Antriebe                              *
//   *                   DIGITALER Hauptantrieb                            *
//   *      Designed by Friedrich Schörghofer          21.05.2007          *
//   *                                                                     *
//   *                                                                     *
//   *                                                                     *
//   ***********************************************************************
//
//   INHALTSVERZEICHNIS:
//      FC 0    WERKZEUGWENDER SAUTER
//      FC 90   WERKZEUGWENDER SAUTER MIT KUPPELBAREN AWZ-ANTRIEB
//      FC 91   AWZ STEUERUNG MIT KUPPELBARER SPINDEL1 (M3/M4/M5)
//      FC 92   AWZ EINKUPPELN
//      FC 100  WERKZEUGWENDER EMCO
//      FC 1    SCHMIERMITTEL und PNEUMATKÖLSTANDÜBERWACHUNG
//      FC 2    STÜCKZÄHLER
//      FC 30
//      FC 3    HA STEUERUNG und LEISTUNG SPINDEL0 (M3/M4/M5)
//      FC 33   AWZ STEUERUNG SPINDEL1 (M3/M4/M5)
//      FC 4    X,Z-ACHSE, Bremssteuerung, Imp.und Reglerfreigabe
//      FC 5    JOG ACHSEN
//      FC 6    REF ACHSEN
//      FC 7    AUX-ON
//      FC 8    NC-STARTVERR. UND BEDIENTASTEN
//      FC 9    RESET
//      FC 10   BEI PROGRAMM ENDE RESET ODER NEUSTART
//      FC 11   Neues Sicherheitskonzept
//      FC 12   SONDERBETRIEB
//      FC 13   INITIALISIERUNGEN ÜBERWACHUNGEN UND ALARME
//      FC 14   PLC NC-ÜBERGABE UND AFG/EFG/SFG
//      FC 15   MELDUNGEN 7000
//      FC 16   INC ACHSEN
//      FC 17   UE Modul Netzeinspeisung
//      FC 18   KÜHLMITTEL (M8/M9)
//      FC 19   SPINDEL HALT/START
//      FC 20   VORSCHUB HALT/START
//      FC 21   FUSZTASTER FÜR PNEUMATISCHES SPANNMITTEL
//      FC 22   PNEUM. AUFFANGSCHALE
//      FC 23   PNEUM. RÖHM SPANNMITTEL
//      FC 24   Späneförderer
//      FC 25   AUSBLASEINRICHTUNG
//      FC 26   PNEUM. PINOLE
//      FC 27   TÜRAUTOMATIK
//      FC 28   WARNLEUCHTE
//      FC 31
//      FC 32   LED ANSTEUERUNG
//      FC 34   ZUWEISEN DER EINGÄNGE AC95 - ACC
//      FC 35   ZUWEISEN DER AUSGÄNGE AC95 - ACC
//      FC 40   ROBOTIK-INTERFACE
//      FC 51   STEUERUNG ZUM SCHWENKEN DES WERKZEUGWENDERS
//      FC 52   SCHWENKEN DES WERKZEUGWENDERS IN PLUSRICHTUNG
//      FC 53   SCHWENKEN DES WERKZEUGWENDERS IN MINUSRICHTUNG
//      FC 60   FREI PROGRAMMIERBARE M-BEFEHLE
//      FC 61   AUSWERTUNG DER H-BEFEHLE
//      FC 62   LEISTUNSANZEIGE ACC
//      FC 63
//      FC 65   HANDRAD
//      FC 70   LADEMAGAZIN UND 1x TASTE
//      OB 1    ORGANISATIONSBAUSTEIN
//
//
//   SET; = 1
//   CLR; = 0
//
//   TIMER:
//   SI = IMPULS
//        DIE MAXIMALE IMPULSLÄNGE ENTSPRICHT DER PROGRAMMIERTEN ZEIT
//        DIE MINIMALE IMPULSLÄNGE ENTSPRICHT DER LÄNGE DES EINGANGSSIGNALES
//
//   SV = IMPULS (VERLÄNGERT)
//        DIE IMPULSLÄNGE ENTSPRICHT DER PROGRAMMIERTEN ZEIT
//        DIE DAUER DES EINGANGSSIGNALES HAT KEINEN EINFLUSS
//
//   SE = EINSCHALTVERZÖGERUNG
//        DIE VERZÖGERUNGSDAUER ENTSPRICHT DER PROGRAMMIERTEN ZEIT
//        DAS EINGANGSSIGNAL MUSS MINDESTENS SOLANGE ANLIEGEN
//
//   SS = EINSCHALTVERZÖGERUNG (SPEICHERND)
//        DIE VERZÖGERUNGSDAUER ENTSPRICHT DER PROGRAMMIERTEN ZEIT
//        DIE DAUER DES EINGANGSSIGNALES HAT KEINEN EINFLUSS
//
//   SA = AUSSCHALTIMPULS
//        DIE IMPULSLÄNGE ENTSPRICHT DER PROGRAMMIERTEN ZEIT
//        DER TIMER WECHSELT VON "0"AUF "1" UND DIE ZEIT WIRD GESTARTET
//            WENN DAS EINGANGSSIGNAL VON "1" AUF "0" GEHT.
//
// ZEITBASIS     BELEGUNG DES ZEITWORTES
//               15......8  7.......0
//    0,01 S     0000 0000  0000 0000
//    0,1  S     0001 0000  0000 0000
//    1    S     0010 0000  0000 0000
//   10    S     0011 0000  0000 0000
//                     H     Z     E   = ZEITWERT IM BCD-FORMAT
//                 00                  = BINÄRCODE FÜR ZEITBASIS
//
//
//
//  ÄNDERUNGEN ODER PROBLEME BEI 8**********
//  TESTMERKER AB M 200.0
//  TESTZÄHLER FÜR KUPPELBAREN AWZ  IST IN MW 300
//
//
//
//  ÄNDERUNGEN zu Version
//
//
//
//******************   EIN UND AUSGÄNGE ACC FÜR ET325II UND TURN155    *************************
//
//
//
//  1. STECKERBELEGUNG Digitale Servomodule Y5A028000
//
//
//  -A111 X-ACHSE
//
//  X3:5  Led H2   E 0.0  =        //     X-ACHSE SERVO-READY
//  X3:11 Led H1   A 0.0  = +24V Ausgang  X-ACHSE Reglerfreigabe
//  X3:12 Led H3   A 11.0 = +24V Ausgang  Kopplung aktiv
//  X3:13 Led H4   A 11.1 // Parkende X-Achse
//
//  -A113 Z-ACHSE
//
//  X3:5  Led H2   E 0.2  =        //     Z-ACHSE SERVO-READY
//  X3:11 Led H1   A 0.2  = +24V Ausgang  Z-ACHSE Reglerfreigabe
//  X3:12 Led H3   A 11.3 = +24V Ausgang  Kopplung aktiv
//  X3:13 Led H4   A 11.4 // Parkende Z-Achse
//
//  -A114 Hauptantrieb
//
//  X3:1  Stromistwert HAUPTSPINDEL
//  X3:2  GND
//  X3:5  Led H2   E 0.3  =        // Hauptantrieb SERVO-READY
//  X3:11 Led H1   A 0.3  = M 54.0 // +24V Ausgang  Hauptantrieb Reglerfreigabe
//  X3:12 Led H3   A 11.5 = M 54.1 // +24V Ausgang  Handradbetrieb aktivieren für Spindelbetrieb
//  X3:13 Led H4   A 11.6 = M 54.2 // +24V Ausgang  Parametersatz Umschaltung für C-Achsbetrieb
//
//  -A115 AWZ-Antrieb
//
//  X3:5  Led H2   E 0.4  =        //     AWZ-Antrieb SERVO-READY
//  X3:11 Led H1   A 0.4  = +24V Ausgang  AWZ-Antrieb Reglerfreigabe
//  X3:12 Led H3   A 11.7 = +24V Ausgang  Kopplung aktiv
//  X3:13 Led H4   A 12.0 = +24V Ausgang  res.
//
//
//
//  4. EIN UND AUSGANGSBELEGUNG AUF DEM REF-MODUL Y5A017000
//
//  -A131
//
//  X5:1     E16.0   REF1     // REF Schalter X-Achse
//  X5:2     E16.1   REF2
//  X5:3     E16.2   REF3     // REF Schalter Z-Achse
//  X5:4     E16.3   REF4
//  X5:5     E16.4   REF5
//  X5:6     E17.0   SYNC1    // SYNC BERO X-Achse
//  X5:7     E17.1   SYNC2
//  X5:8     E17.2   SYNC3    // SYNC BERO Z-Achse
//  X5:9     E17.3   SYNC4
//  X5:10    E17.4   SYNC5
//  X5:11    E 2.3 = M 51.2   // Zustimmtaste Maschinenständer
//  X6:1     E 2.0  // TÜR geschlossen von Türsicherheitsverriegelung ÜK
//  X6:2     E 2.1  // TÜR verriegelt von Verriegelungsmagnet SK
//  X6:3     E 2.2  // NICHT NOT-AUS
//  X6:4     E 2.4  // Störung Kühlmittelpumpe
//  X6:5     E 2.5  // Störung Lüfter Hauptmotor
//  X6:6     E 2.6  // Spannmitteltaste Maschinenständer
//  X6:7     E 2.7   5V  EINGANG
//  X6:8     E 3.0   5V  EINGANG
//  X6:9     A 3.5  // AUX ON Schütz
//  X6:10    A 3.4  // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000
//  X6:11    A 3.3  // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4A135000M
//
//
//  5. PINBELEGUNG AUF ERSTEM EINGANGS-MODUL Y5A018000
//
//  -A132
//
//  X5:1     E 4.0       // Sauter408 WZW Positionsgeber Bit0
//  X5:2     E 4.1       // Sauter408 WZW Positionsgeber Bit1
//  X5:3     E 4.2       // Sauter408 WZW Positionsgeber Bit2
//  X5:4     E 4.3       // Sauter408 WZW Positionsgeber Bit3
//  X5:5     E 4.4       // Sauter408 WZW Strobe
//  X5:6     E 4.5       // Sauter408 WZW Bero Vorindexierung
//  X5:7     E 4.6       // THERMISCHE STÖRUNG WERKZEUGWENDER
//  X5:8     E 4.7       // Wartung und Überlastschalter Späneförderer
//  X5:9     E 5.0       // Überwachung NOT AUS -Relais
//  X5:10    E 5.1       // Überwachung von K2 und K3 auf Sicherheitsmodul Y4A135000
//  X5:11    E 5.2       // Überwachung von K4, K5 und AS-Signale auf Sicherheitsmodul Y4A135000
//  X6:1     E 5.3       // AUFFANGSCHALE HINTEN
//  X6:2     E 5.4       // Füllstandsschalter PNEUMATIKÖLER
//  X6:3     E 5.5       // UE-Modul betriebsbereit
//  X6:4     E 5.6       // DRUCKSCHALTER SCHMIERMITTEL
//  X6:5     E 5.7       // Schwimmerschalter Schmiermittelpumpe
//  X6:6     E 6.0       // Türautomatik Enschalter Tür offen
//  X6:7     E 6.1       // Türautomatik Sicherheitstürschaltleiste ausgelöst
//  X6:8     E 6.2       // DRUCKSCHALTER DRUCKLUFT VORHANDEN
//  X6:9     E 6.3       // Endlage vorne  FUTTER: FUTTER OFFEN ZANGE: KEIN TEIL GESPANNT
//  X6:10    E 6.4       // Endlage hinten FUTTER: KEIN TEIL GESPANNT ZANGE: ZANGE 0FFEN
//  X6:11    E 6.5       // PINOLE GESPANNT
//  6. PINBELEGUNG AUF DEM ZWEITEM EINGANGS-MODUL Y5A018000
//
//  -A133
//
//  X5:1     E 6.6        // PINOLE HINTERE ENDLAGE
//  X5:2     E 6.7        // PINOLE KEIN TEIL GESPANNT
//  X5:3     E 7.0        // Start nach Stangenwechsel
//  X5:4     E 7.1        // Stangenende
//  X5:5     E 7.2        // Lader hat vorgeschoben
//  X5:6     E 7.3        // Störung Lademagazin
//  X5:7     E 7.4        // Fußtaster Spannmittel ZU
//  X5:8     E 7.5        // Fußtaster Spannmittel auf
//  X5:9     E 7.6        // Fußtaster Pinole vor
//  X5:10    E 7.7        // Fußtaster Pinole zurück
//  X5:11    E 8.0  8****      // Druckschalter Türautomatik (Testeingang)
//  X6:1     E 8.1 = M 51.6 // ROBOTIK AUX-ON
//  X6:2     E 8.2 = M 51.7 // ROBOTIK AUTOMATIK/REFERENZBETRIEB UMSCHALTEN
//  X6:3     E 8.3 = M 52.0 // ROBOTIK REFERENZPUNKT ANFAHREN STARTEN
//  X6:4     E 8.4 = M 52.1 // ROBOTIK PROGRAMM START
//  X6:5     E 8.5 = M 52.2 // ROBOTIK VORSCHUB-STOP
//  X6:6     E 8.6 = M 52.3 // ROBOTIK SPANNMITTEL SCHLIEßEN
//  X6:7     E 8.7 = M 52.4 // ROBOTIK SPANNMITTEL ÖFFNEN
//  X6:8     E 9.0 = M 52.5 // ROBOTIK PINOLE VOR
//  X6:9     E 9.1 = M 52.6 // ROBOTIK PINOLE ZURÜCK
//  X6:10    E 9.2 = M 52.7 // ROBOTIK TÜR ÖFFNEN
//  X6:11    E 9.3 = M 51.5 // ROBOTIK TÜR SCHLIESSEN
//
//
//
//  7. PINBELEGUNG EINGÄNGE AUF DER BACK-PLANE Y5A023000
//
//  -A100
//
//  X422:1   E 3.1 = M 51.0  Thermo Lenze Hauptmotor CT250TC
//      :1   E 3.1 = M 51.3  SAUTER473.512 WZW AWZ-EINGEKUPPELT
//  X422:2   E 3.2 = M 51.4  SAUTER473.512 WZW AWZ-AUSGEKUPPELT
//  X422:3   E 3.3 8**** Überwachung Spänefördererschütze
//  X422:4   E 3.4 Bremse öffnen von X-Achsreglerbaugruppe
//  X422:5   E 3.5 Refpkt.AWZ erreicht
//  X422:6   E 3.6 n=0 AWZ
//  X422:7   E 3.7 HA Drehzahl=0 von Relais
//  X422:8   E 9.4 Rückmeldung Netzschütz UE-Modul abgefallen
//  X422:9   E 9.5 Handrad Takteingang !!!!Problem!!!! Druckschalter Türautomatik Überwachung Y3 Magnetventil
//  X422:10  E 9.6 Handrad Richtungseingang
//  X422:11  E 9.7 = M 62.0 // NOT AUS EINGANG FÜR FREI PROGRAMMIERBARE AUSGÄNGE
//
//
//
//  8. PINBELEGUNG AUSGÄNGE AUF DER BACK-PLANE Y5A023000
//
//  -A100
//
//  X421:1   +24 V     24V VERSORGUNG VON NOTAUSTASTER
//  X421:2   +24 V
//  X421:3   GND
//  X421:4   A 9.0 // NOT AUS für NE Modul Klemme 64
//  X421:5   A 9.1 =  M 55.1 // Bremse X-Achse
//  X421:6   A 9.2 // Verriegelunsmagnet Maschinentür entriegeln (ohne Türautomatik)
//                 // Sicherheits-Testventil Y3 (bei Türautomatik)
//  X421:7   A 9.3 =  M 55.3 // WZW-VORWÄRTSSCHÜTZ  (Schütz Sauter408 WZW von Pos. 1 auf 2 schwenken)
//  X421:8   A 9.4    M 55.4 // WZW-RÜCKWÄRTSSCHÜTZ (Schütz Sauter408 WZW von Pos. 2 auf 1 schwenken)
//  X421:9   A 9.5 =  M 55.5 // WZW VORINDEXIERMAGNET (E-Magnet Sauter408 WZW Vorindexierung)
//  X421:10  A 9.6 =  M 57.0 // LEISTUNG TÜR ZU
//  X421:11  A 9.7 =  M 57.1 // LEISTUNG TÜR AUF
//
//
//  X420:1   +24 V     24V VERSORGUNG VON TÜR ZU
//  X420:2   +24 V
//  X420:3   GND
//  X420:4   A 10.0 // Impulsfreigabe Hauptantrieb und AWZ
//  X420:5   A 10.1 // Parkende Achse AWZ
//  X420:6   A 10.2 = M 56.2 // MV AUFFANGSCHALE AUFFANGEN
//  X420:7   A 10.3 = M 56.3 // MV AUFFANGSCHALE ZURÜCK
//  X420:8   A 10.4 Späneförderer vorwärts
//  X420:9   A 10.5 Späneförderer rückwärts
//  X420:10  A 10.6 = M 56.6 // LEISTUNG KÜHLMITTEL
//  X420:11  A 10.7 = M 56.7 // LEISTUNG SCHMIERMITTEL
//
//
//  9. PINBELEGUNG AUF DEM ERSTEM AUSGANGS-MODUL Y5A019000
//
//  -A134
//
//  X5:1     A 4.0 // Kopplung aktivieren für C-Achsbetrieb
//  X5:2     A 4.1 // Hauptantrieb Parkende Achse
//  X5:3     A 4.2 // Impulsfreigabe UE-Modul und LEISTUNG Zwischenkreis
//  X5:4     A 4.3 = M 57.3 // LEISTUNG ZUGROHR NACH LINKS (ZUGSPANNMITTEL)
//  X5:5     A 4.4 = M 57.4 // LEISTUNG ZUGROHR NACH RECHTS (DRUCKSPANNMITTEL)
//  X5:6     A 4.5 = M 57.5 // AUSBLASMAGNETVENTIL FÜR SPANNMITTEL (OPTION)
//  X5:7     A 4.6 = M 57.6 // LEISTUNG PINOLE VOR
//  X5:8     A 4.7 = M 57.7 // LEISTUNG PINOLE ZURÜCK
//  X5:9     A 5.0 = M 58.0 // LADEMAGAZIN VORSCHUB
//  X5:10    A 5.1 = M 58.1 // STANGE WECHSELN AKTIV
//
//
//  X6:1     A 5.2 = M 58.2 // SPANNMITTEL OFFEN
//  X6:2     A 5.3 = M 58.3 // WEISSE WARNLEUCHTE LADEMAGAZIN STEHT
//  X6:3     A 5.4 = M 58.4 // GRÜNE WARNLEUCHTE AUTOMATIK
//  X6:4     A 5.5 = M 58.5 // ROTE WARNLEUCHTE ALARM
//  X6:5     A 5.6 = M 58.6 // frei WZW AWZ-AUSKUPPELN
//  X6:6     A 5.7 = M 54.4 // frei WZW AWZ-EINKUPPELN
//  X6:7     A 6.0 = M 54.3 // ALARMAUSGANGANG
//  X6:8     A 6.1 = M 61.1 // M/M73
//  X6:9     A 6.2 = M 61.2 // M74/M75
//  X6:10    A 6.3 = M 61.3 // M76/M77
//
//
//
//  10. PINBELEGUNG AUF DEM ZWEITEM AUSGANGS-MODUL Y5A019000
//
//  -A135
//
//  X5:1     A 6.4  // Minimalschmierung
//  X5:2     A 6.5 = M 59.3 // ROBOTIK NOT-AUS AKTIV
//  X5:3     A 6.6 = M 59.4 // ROBOTIK MASCHINE BETRIEBSBEREIT
//  X5:4     A 6.7 = M 59.5 // ROBOTIK BETRIEBSART REFERENZ
//  X5:5     A 7.0 = M 59.6 // ROBOTIK M0,M1,M2,ODER M30 AKTIV
//  X5:6     A 7.1 = M 60.0 // ROBOTIK SPANNMITTEL GESPANNT
//  X5:7     A 7.2 = M 60.1 // ROBOTIK SPANNMITTEL OFFEN
//  X5:8     A 7.3 = M 60.2 // ROBOTIK SPANNMITTEL KEIN TEIL GESPANNT
//  X5:9     A 7.4 = M 60.3 // ROBOTIK PINOLE GESPANNT
//  X5:10    A 7.5 = M 60.4 // ROBOTIK PINOLE ENDLAGE HINTEN
//
//
//  X6:1     A 7.6 = M 60.5 // ROBOTIK PINOLE KEIN TEIL GESPANNT
//  X6:2     A 7.7 = M 60.6 // ROBOTIK MASCHINENTÜR GESCHLOSSEN
//  X6:3     A 8.0 = M 60.7 // ROBOTIK MASCHINENTÜR OFFEN
//  X6:4     A 8.1 = M 59.7 // ROBOTIK ACHSEN STEHEN AUF REF.PKT.
//  X6:5     A 8.2 = M 61.4 // M78/M79
//  X6:6     A 8.3 = M 61.5 // M80/M81
//  X6:7     A 8.4 = M 61.6 // M82/M83
//  X6:8     A 8.5 = M 61.7 // M84/M85
//  X6:9     A 8.6
//  X6:10    A 8.7
//
//  DB20.DBX 833.0  = M 50.1  RAFI Tastatur X2.1/2 Schlüsselschalter auf Sonderbetrieb
//  DB20.DBX 833.2  RAFI Tastatur X2.3/4 SCHLÜSSELSCHALTER ENDLAGENÜBERWACHUNG DEAKTIVIEREN
//  DB20.DBX 833.3  RAFI Tastatur X3.1/2 CYCLE START Taste
//  DB20.DBX 833.4  RAFI Tastatur X4.1/2 Einzelstücktaste
//  DB20.DBX 833.6  RAFI Tastatur X5.1/2 Spannmitteltaste
//  X6:6     E 2.6  Spannmitteltaste Maschinenständer
//  DB20.DBX 834.0  = M 51.2  RAFI Tastatur X6.1/2 Zustimmtaste Maschinenständer
//  X5:11    E 2.3  = M 51.2  Zustimmtaste Maschinenständer
;  BITNUMMERN DER PC-UND MASCHINENSTEUERTAFEL TASTEN:
;  BITNR.:        PC:     MSTT:      MSTT:
;DB1.DBX 1374.0   -----     1        ----------
;DB1.DBX 1374.1   -----     2        | 1| 2| 3|
;DB1.DBX 1374.7   -----     3        ----------
;DB1.DBX 1374.6   -----     6        | 4| 5| 6|
;DB20.DBX 294.7   -----    11        ----------
;DB20.DBX 295.0   -----    12        | 7| 8| 9|
;DB20.DBX 294.2   CTRL ^    5        ----------
;DB20.DBX 294.5   CTRL 1    9        |10|11|12|
;DB20.DBX 294.6   CTRL 2   10        ----------
;DB20.DBX 294.1   CTRL 3    4        |13|  |14|
;DB20.DBX 295.1   CTRL 4    -        ----------
;DB20.DBX 295.2   CTRL 5    -
;DB20.DBX 295.3   CTRL 6    -
;DB20.DBX 295.4   CTRL 7    -
;DB1.DBX 1374.4   CTRL 8   14
;DB20.DBX 294.4   CTRL 9    8
;DB20.DBX 294.3   CTRL 0    7
;DB1.DBX 1374.3   CTRL ß   13
;DB1.DBX 1374.2   CTRL `    -
FUNCTION FC 24 : VOID
NAME: Späneförderer
BEGIN
;//  X420:8   A 10.4 Späneförderer vorwärts
;//  X420:9   A 10.5 Späneförderer rückwärts
;//  X422:3   E 3.3  Überwachung Spänefördererschütze
;//  X5:8     E 4.7       // Wartung und Überlastschalter Späneförderer
;//  DB10.DBX 76=64   Bit 6 = 1 Späneförderer ohne el. Überlastschutz
;//  DB10.DBX 76=64   Bit 6 = 0 Späneförderer mit el. Überlastschutz
NETWORK
TITLE = 6090 Späneförderer Schützüberwachung
UN  A 10.4          // Späneförderer vorwärts
UN  A 10.5          // Späneförderer rückwärts
UN  E 3.3           // Spänefördererschütze Öffnerkontakt
L   S5T#300MS       //
SE  T 16            //
U   T 16            //
S   DB2.DBX 11.2;   // 6090 Spänefördererschütz nicht abgefallen
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 11.2;   // 6090 Spänefördererschütz nicht abgefallen
NETWORK
TITLE = Freigabe Späneförderer
U   M 12.0          // Tür zu und Verriegelt
U   M 110.0;        // AUX-ON
U   E 2.2           // NICHT NOT-AUS
U(
UN  DB10.DBX 76.6;  // Späneförderer ohne el. Überlastschutz
U   E 4.7           // Wartung und Überlastschalter Späneförderer
O   DB10.DBX 76.6;  // Späneförderer ohne el. Überlastschutz
)
=   M 82.0          // Freigabe Späneförderer
U   DB20.DBX 827.2  // Taste Späneförderer
UN  DB20.DBX 324.0; // Programm läuft
FP  M 82.3          // FM Taste Späneförderer
U   M 82.3          // FM Taste Späneförderer
S   M 82.4          // HM FM Taste Späneförderer
UN  DB20.DBX 827.2  // Taste Späneförderer
R   M 82.4          // HM FM Taste Späneförderer
U   DB20.DBX 827.2  // Taste Späneförderer
UN  DB20.DBX 324.0; // Programm läuft
FN  M 82.1          // /FM Taste Späneförderer
U   M 82.1          // /FM Taste Späneförderer
U   M 82.0          // Freigabe Späneförderer
UN  T 42
UN  T 76
S   M 82.2          // HM Späneförderer vorwärts
U   DB20.DBX 827.2  // Taste Späneförderer
L   S5T#1S          // Tastenumschaltzeit vor/rückwärts
SE  T 42
U   M 82.2          // HM Späneförderer vorwärts
L   S5T#35S          // Laufzeit vom Späneförderer
SE  T 43;           // STARTEN
O   T 43;           // STARTEN
ON  M 82.0          // Freigabe Späneförderer
R   M 82.2          // HM Späneförderer vorwärts
O   M 82.2          // HM Späneförderer vorwärts
O   T 74;           // IMPULSDAUER
UN  A 10.5          // Späneförderer rückwärts
U   M 82.0          // Freigabe Späneförderer
R   M 82.4          // HM FM Taste Späneförderer
=   A 10.4          // Späneförderer vorwärts
U   M 82.4          // HM FM Taste Späneförderer
U   T 42
U   M 82.0          // Freigabe Späneförderer
UN  A 10.4          // Späneförderer vorwärts
=   A 10.5          // Späneförderer rückwärts
U   A 10.5          // Späneförderer rückwärts
L   S5T#1S          // Sicherheitsumschaltzeit für Wendeschützschaltung
SA  T 76
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
O   DB1.DBX 1440.0; // RESET AUGELÖST
ON  M 82.0          // Freigabe Späneförderer
R   M 82.4          // HM FM Taste Späneförderer
R   M 82.2          // HM Späneförderer vorwärts
U   DB20.DBX 324.0; // Programm läuft
UN  DB20.DBX 324.1; // STOP-ZUSTAND
U   M 82.0          // Freigabe Späneförderer
=   M 82.5          // Automatischer Spänefördererbetrieb
NETWORK
TITLE = IMPULSDAUER
U   M 82.5          // Automatischer Spänefördererbetrieb
UN  T 75;           // PAUSENDAUER
L   S5T#35S         // Laufzeit vom Späneförderer
SV  T 74;           // STARTEN ALS VERLÄNGERTER IMPULS
NETWORK
TITLE = PAUSENDAUER
U   M 82.5          // Automatischer Spänefördererbetrieb
UN  T 74;           // IMPULSDAUER
L   S5T#70S         // Pausenzeit vom Späneförderer
SV  T 75;           // STARTEN ALS VERLÄNGERTER IMPULS
UN  M 82.5          // Automatischer Spänefördererbetrieb
R   T 74;           // STARTEN ALS VERLÄNGERTER IMPULS
R   T 75;           // STARTEN ALS VERLÄNGERTER IMPULS
END_FUNCTION
FUNCTION FC 11 : VOID
NAME: Neues Sicherheitskonzept
BEGIN
NETWORK
TITLE = NOT-AUS Überlistungsschutz
//  X421:4   A 9.0 // NOT AUS für NE Modul Klemme 64
U   E 2.2           // NICHT NOT-AUS
U   M 110.0;        // AUX-ON
U   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
U(
O   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
O   M 4.0           // CT250 TC  ohne AWZ
)
S   A 9.0           // NOT AUS für NE Modul Klemme 64
UN  E 2.2           // NICHT NOT-AUS
R   A 9.0           // NOT AUS für NE Modul Klemme 64
// NOT AUS TEST:
//  X6:3  E 2.2            // NICHT NOT-AUS
//  X5:9  E 5.0            // Überwachung NOT AUS-Relais K1 auf Sicherheitsmodul
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
S   M 11.0          // HM NOT AUS Test Ersteinschaltung
S   M 11.4          // HM Tür auf/zu-Test Ersteinschaltung
U   M 11.1          // FM Test NOT-AUS Schalter und Relais
R   M 11.2
R   M 11.3
NETWORK
TITLE = Test NOT-AUS Schalter und Relais
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
U   E 2.2           // NICHT NOT-AUS
UN  E 5.0           // Überwachung NOT AUS-Relais K1 auf Sicherheitsmodul
S   M 11.2
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
UN  E 2.2           // NICHT NOT-AUS
U   E 5.0           // Überwachung NOT AUS-Relais K1 auf Sicherheitsmodul
S   M 11.3
UN  E 2.2           // NICHT NOT-AUS
U   E 5.0           // Überwachung NOT AUS-Relais K1 auf Sicherheitsmodul
U   M 11.2
O(
U   E 2.2           // NICHT NOT-AUS
UN  E 5.0           // Überwachung NOT AUS-Relais K1 auf Sicherheitsmodul
U   M 11.3
)
FP  M 11.1          // FM Test NOT-AUS Schalter und Relais
NETWORK
TITLE = 6000 ALARM NOT-AUS
UN  E 2.2           // NICHT NOT-AUS
O   M 11.0          // HM NOT AUS Test Ersteinschaltung
S   DB2.DBX 0.0;    // 6000  NOT-AUS
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
UN  M 11.2
UN  M 11.3
R   DB2.DBX 0.0;    // 6000 ALARM NOT-AUS
R   M 11.0          // HM NOT AUS Test Ersteinschaltung
NETWORK
TITLE = Alarm 6006 Überwachung NOT AUS-Relais K1 auf Sicherheitsmodul
U   E 2.2           // NICHT NOT-AUS
U   E 5.0           // Überwachung NOT AUS-Relais K1 auf Sicherheitsmodul
O(
UN  E 2.2           // NICHT NOT-AUS
UN  E 5.0           // Überwachung NOT AUS-Relais K1 auf Sicherheitsmodul
)
L   S5T#500MS;      // 200MS
SE  T 80;           // STARTEN  ALS EINSCHALTVERZ.
U   T 80;           // STARTEN  ALS EINSCHALTVERZ.
S   DB2.DBX 0.6;    // A 6006  NOT AUS-Relais K1 auf Sicherheitsmodul nicht Abgefallen
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 0.6;    // A 6006  NOT AUS-Relais K1 auf Sicherheitsmodul nicht Abgefallen
// TÜR auf/zu TEST:
//  Türsicherheitsschalter:
//  X6:1     E 2.0 // TÜR geschlossen von Türsicherheitsverriegelung ÜK
//  X6:2     E 2.1 // Tür verriegelt von Verriegelungsmagnet SK
//  X421:6   A 9.2 // Verriegelunsmagnet Maschinentür entriegeln
//  Sicherheitsmodul:
//  X421:10  A 3.4 // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000
//  X421:11  A 3.3 // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4A135000
//  X5:10    E 5.1 // Überwachung von K2 und K3 auf Sicherheitsmodul Y4A135000
//  X5:11    E 5.2 // Überwachung von K4, K5 und AS-Signale auf Sicherheitsmodul Y4A135000
//  DB20.DBX 834.0   = M 51.2   // RAFI Tastatur X6.1/2 Zustimmtaste
//  X5:11    E 2.3   = M 51.2   // Zustimmtaste Maschinenständer
//  X422:4   E 3.4 Bremse öffnen von X-Achsreglerbaugruppe 01.A
//  M 12.0    // Tür zu und Verriegelt
//  M 12.1    // Tür offen
U   E 2.0;          // TÜR geschlossen von Türsicherheitsverriegelung ÜK
U(
U   DB10.DBX 75.0;  // SPS-MSD /TÜRAUTOMATIK
U   M 57.0;         // AUSGANGSMERKER LEISTUNG TÜR ZU
O   E 2.1;          // Tür verriegelt von Verriegelungsmagnet SK
)
=   M 12.0          // Tür zu und Verriegelt
UN  M 12.0          // Tür zu und Verriegelt
=   M 12.1          // Tür offen
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
U   M 12.1          // Tür offen
S   M 12.4          // HM Tür offen
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
U   M 12.0          // Tür zu und Verriegelt
S   M 12.5          // HM Tür zu und Verriegelt
U   M 12.4          // HM Tür offen
U   M 12.0          // Tür zu und Verriegelt
O(
U   M 12.5          // HM Tür zu und Verriegelt
U   M 12.1          // Tür offen
)
FP  M 12.3          // FM Tür auf/zu
NETWORK
TITLE = FREIGABE ZUM TÜRENTRIEGELN
U(
O   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
ON  M 145.7         // HM REGLERFREIGABE FÜR HAUPTANTRIEB
)
U(
O   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
O   M 4.0           // CT250 TC  ohne AWZ
ON  M 40.7          // HM REGLERFREIGABE FÜR AWZ-MOTOR
)
UN  M 152.0;        // WERKZEUGWECHSEL AKTIV
UN  M 167.3;        // Spindel drehen/pendeln aktiv
U(
ON  DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
ON  DB20.DBX 324.0; // PROGRAMM LÄUFT: RÜCKSETZEN MIT PROGRAMM ENDE BZW. RESET.
O   DB20.DBX 324.1; // STOP-ZUSTAND
O   DB20.DBX 325.1; // STOP-ZUSTAND DURCH SINGLE
)
U(
ON  DB20.DBX 326.2; // BETRIEBSART MDI
ON  DB20.DBX 324.0; // PROGRAMM LÄUFT: RÜCKSETZEN MIT PROGRAMM ENDE BZW. RESET.
O   DB20.DBX 324.1; // STOP-ZUSTAND
O   DB20.DBX 325.1; // STOP-ZUSTAND DURCH SINGLE
)
UN  M 131.7;        // ACHSEN IN BEWEGUNG
=   M 55.7;         // FREIGABE ZUM TÜRENTRIEGELN
NETWORK
TITLE = Verriegelunsmagnet Maschinentür entriegeln
O   M 51.2;         // ZUSTIMMTASTEN GEDRÜCKT
ON  E 2.0;          // TÜR geschlossen von Türsicherheitsverriegelung ÜK
UN  DB2.DBX 0.0;    // 6000  NOT-AUS
U   M 55.7;         // FREIGABE ZUM TÜRENTRIEGELN
UN  E 0.0;          // X-ACHSE SERVO-READY
UN  E 0.2;          // Z-ACHSE SERVO-READY
UN  E 3.4           // Bremse öffnen von X-Achsreglerbaugruppe
O   DB10.DBX 75.0;  // SPS-MSD /TÜRAUTOMATIK
=   A 9.2;          // Verriegelunsmagnet Maschinentür entriegeln
NETWORK
TITLE = MELDUNG 7042  MASCHINENTÜR INIT.
O   M 11.4          // HM Tür auf/zu-Test Ersteinschaltung
UN  M 11.0          // HM NOT AUS Test Ersteinschaltung
S   M 21.2;         // HM MELDUNG 7042  MASCHINENTÜR INIT.
U   M 12.3          // FM Tür auf/zu
R   M 21.2;         // HM 7042  MASCHINENTÜR INIT.
R   M 11.4          // HM Tür auf/zu-Test Ersteinschaltung
R   M 12.4          // HM Tür offen
R   M 12.5          // HM Tür zu und Verriegelt
NETWORK
TITLE = MELDUNG 7040  MASCHINENTÜR OFFEN
U   M 12.1          // Tür offen
UN  A 3.3;          // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4A135000
=   M 21.0;         // HM MELDUNG 7040  MASCHINENTÜR OFFEN
=   M 110.1;        // MASCHINENTÜR OFFEN
NETWORK
TITLE = ALARM 6005  K2 oder K3 auf Sicherheitsmodul nicht Abgefallen
UN  E 2.0;          // TÜR geschlossen von Türsicherheitsverriegelung ÜK
UN  E 5.1;          // Überwachung von K2 und K3 auf Sicherheitsmodul Y4A135000
UN  A 3.3;          // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4A135000
UN  DB10.DBX 75.0;  // SPS-MSD /TÜRAUTOMATIK
L   S5T#500MS;      // 200MS
SE  T 81;           // STARTEN  ALS EINSCHALTVERZ.
U   T 81;           // STARTEN  ALS EINSCHALTVERZ.
S   DB2.DBX 0.5;    // 6005  K2 oder K3 auf Sicherheitsmodul nicht Abgefallen
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 0.5;    // 6005  K2 oder K3 auf Sicherheitsmodul nicht Abgefallen
NETWORK
TITLE = K3 auf Sicherheitsmodul einschalten
U   M 12.0          // Tür zu und Verriegelt
UN  E 5.1;          // Überwachung von K2 und K3 auf Sicherheitsmodul Y4A135000
U   E 2.2;          // NICHT NOT-AUS
U   A 9.0           // NOT AUS für NE Modul Klemme 64
S   A 3.3;          // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4A135000
U   M 12.0          // Tür zu und Verriegelt
U   A 3.3;          // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4A135000
S   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
S   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET
ON  E 2.2;          // NICHT NOT-AUS
O   M 12.1          // Tür offen
U   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
U(
O   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
O   M 4.0           // CT250 TC  ohne AWZ
)
R   A 3.3;          // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4A135000
R   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
R   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET
; Freigaben Antriebe ein:
//  X5:11    E 5.2       // Überwachung von K4, K5 und AS-Signale auf Sicherheitsmodul Y4A135000
//  X421:10  A 3.4       // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000
NETWORK
TITLE = ALARM 6018 AS Signale und K4 und K5 auf Sicherheitsmodul Y4A135000 abgefallen
U   M 12.1          // Tür offen
UN  A 3.4           // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000
UN  A 3.3;          // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4A135000
UN(
U   E 2.2           // NICHT NOT-AUS
U   M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
U   M 51.2;         // ZUSTIMMTASTE GEDRÜCKT
)
L   S5T#2000MS;     // 200MS
SE  T 82;           // STARTEN  ALS EINSCHALTVERZ.
UN  E 5.2           // Überwachung von K4, K5 und AS-Signale auf Sicherheitsmodul Y4A135000
L   S5T#500MS;      // 200MS
SE  T 84;           // STARTEN  ALS EINSCHALTVERZ.
U   T 82;           // STARTEN  ALS EINSCHALTVERZ.
U   T 84;           // STARTEN  ALS EINSCHALTVERZ.
S   DB2.DBX 2.2;    // 6018   K4 oder K5 auf Sicherheitsmodul oder AS-Signale nicht Abgefallen
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 2.2;    // 6018   K4 oder K5 auf Sicherheitsmodul oder AS-Signale nicht Abgefallen
NETWORK
TITLE = Antriebsfreigaberelais K5 einschalten auf Sicherheitsmodul Y4A135000
UN  M 11.0          // HM NOT AUS Test Ersteinschaltung
UN  M 11.4          // HM Tür auf/zu-Test Ersteinschaltung
UN  DB2.DBX 2.2;    // 6018   K4 oder K5 auf Sicherheitsmodul oder AS-Signale nicht Abgefallen
U   M 12.0          // Tür zu und Verriegelt
U   A 3.3;          // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4A135000
O   M 113.0;        // SONDERBETRIEB AKTIV
UN  E 5.2           // Überwachung von K4, K5 und AS-Signale auf Sicherheitsmodul Y4A135000
U   M 131.0;        // UE Modul BETRIEBSBEREIT
S   A 3.4;          // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000
U   A 3.4;          // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000
L   S5T#200MS;      // 200MS
SE  T 83;//200mS EINSCHALTVERZ.Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000
O   M 110.1;        // MASCHINENTÜR OFFEN
UN  M 113.0;        // SONDERBETRIEB AKTIV
ON  M 131.0;        // UE Modul BETRIEBSBEREIT
UN  M 131.7;        // ACHSEN IN BEWEGUNG
R   A 3.4;            // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000
END_FUNCTION
FUNCTION FC 65 : VOID
NAME: HANDRAD
BEGIN
NETWORK
TITLE = Handradachse löschen
O     M 89.6;             // Handrad-BA
FN    M 89.4;             // Neg. FM Handrad-BA aus
U     M 89.4;             // Neg. FM Handrad-BA aus
SPBN M001;
=     DB20.DBX 348.5;      // Aktuelle Handradachse löschen
M001:  NOP 0;
NETWORK
TITLE = Funktionen für Handrad
O     DB20.DBX 326.5;     // BA INC1 von Kern
O     DB20.DBX 326.6;     // BA INC10 von Kern
O     DB20.DBX 326.7;     // BA INC100 von Kern
O     DB20.DBX 327.0;     // BA INC1000 von Kern
=     M 89.6;             // Handrad-BA
U(    ;
O(    ;
U     M 89.6;             // Handrad-BA
UN    M 89.7;             // HM Handrad aktiv
)     ;
O     M 89.0;             // Fl. Anwahl INC1
O     M 89.1;             // Fl. Anwahl INC10
O     M 89.2;             // Fl. Anwahl INC100
O     M 89.3;             // Fl. Anwahl INC1000
)     ;
=     DB1.DBX 1440.2;     // Handrad Anwahl
ON    M 89.6;             // Handrad-BA
U     M 89.7;             // HM Handrad aktiv
=     DB1.DBX 1440.3;     // Handrad Abwahl
U     DB1.DBX 1440.2;     // Handrad Anwahl
S     M 89.7;             // HM Handrad aktiv
U     DB1.DBX 1440.3;     // Handrad Abwahl
R     M 89.7;             // HM Handrad aktiv
// INC-Schrittweite bei BA-Wechsel mitführen
U     DB20.DBX 326.5;     // BA INC1 von Kern
FP    M 89.0;             // Fl. Anwahl INC1
UN    M 89.0;
SPB   INC1;
L     +1.0E-06;
T     DB20.DBD 16;        // INC Schrittweite
INC1: NOP   0;
U     DB20.DBX 326.6;     // BA INC10 von Kern
FP    M 89.1;             // Fl. Anwahl INC10
UN    M 89.1;
SPB   INC2;
L     +1.0E-05;
T     DB20.DBD 16;        // INC Schrittweite
INC2: NOP   0;
U     DB20.DBX 326.7;     // BA INC100 von Kern
FP    M 89.2;             // Fl. Anwahl INC100
UN    M 89.2;
SPB   INC3;
L     +1.0E-04;
T     DB20.DBD 16;        // INC Schrittweite
INC3: NOP   0;
U     DB20.DBX 327.0;     // BA INC1000 von Kern
FP    M 89.3;             // Fl. Anwahl INC1000
UN    M 89.3;
SPB   INC4;
L     +1.0E-03;
T     DB20.DBD 16;        // INC Schrittweite
INC4: NOP   0;
END_FUNCTION
FUNCTION FC 34 : VOID
NAME: ZUWEISEN DER EINGÄNGE AC 95 - ACC
BEGIN
// EINGÄNGE:
NETWORK
TITLE = SCHLÜSSELSCHALTER AUF SONDERBETRIEB ZUWEISUNG
U   DB20.DBX 833.0  // RAFI Tastatur X2.1/2 Schlüsselschalter auf Sonderbetrieb
=   M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
NETWORK
TITLE = ZUSTIMMTASTE GEDRÜCKT
O   DB20.DBX 834.0  // RAFI Tastatur X6.1/2 Zustimmtaste
O   E 2.3;          // Zustimmtaste Maschinenständer
=   M 51.2;         // ZUSTIMMTASTEN GEDRÜCKT
NETWORK
TITLE = SAUTER473.512 WZW AWZ-EINGEKUPPELT oder Thermo Hauptmotor bei CT250TC
U   E 3.1;          // SAUTER473.512 WZW AWZ-EINGEKUPPELT
U   M 4.1           // CT250 TCM mit AWZ
L   S5T#0S300MS;    // 300MS
SE  T 69;           // STARTEN T 69 ALS EINSCHALTVERZ.
U   T 69;           // STARTEN T 69 ALS EINSCHALTVERZ.
=   M 51.3;         // SAUTER473.512 WZW AWZ-EINGEKUPPELT
UN   E 3.1           // Thermo Hauptmotor bei CT250TC
U   M 4.0           // CT250 TC  ohne AWZ
=   M 51.0;         // Thermo Lenze Hauptmotor CT250TC
NETWORK
TITLE = SAUTER473.512 WZW AWZ-AUSGEKUPPELT
U   E 3.2;          // SAUTER473.512 WZW AWZ-AUSGEKUPPELT
L   S5T#0S300MS;    // 300MS
SE  T 68;           // STARTEN T 68 ALS EINSCHALTVERZ.
U   T 68;           // STARTEN T 68 ALS EINSCHALTVERZ.
=   M 51.4;         // SAUTER473.512 WZW AWZ-AUSGEKUPPELT
NETWORK
TITLE = ROBOTIK AUX-ON
U   E 8.1;          // ROBOTIK AUX-ON
=   M 51.6;         // ROBOTIK AUX-ON
NETWORK
TITLE = ROBOTIK AUTOMATIK/REFERENZBETRIEB UMSCHALTEN
U   E 8.2;          // ROBOTIK AUTOMATIK/REFERENZBETRIEB UMSCHALTEN
=   M 51.7;         // ROBOTIK AUTOMATIK/REFERENZBETRIEB UMSCHALTEN
NETWORK
TITLE = ROBOTIK REFERENZPUNKT ANFAHREN STARTEN
U   E 8.3;          // ROBOTIK REFERENZPUNKT ANFAHREN STARTEN
=   M 52.0;         // ROBOTIK REFERENZPUNKT ANFAHREN STARTEN
NETWORK
TITLE = ROBOTIK PROGRAMM START
U   E 8.4;          // ROBOTIK PROGRAMM START
=   M 52.1;         // ROBOTIK PROGRAMM START
NETWORK
TITLE = ROBOTIK VORSCHUB-STOP
U   E 8.5;          // ROBOTIK VORSCHUB-STOP
=   M 52.2;         // ROBOTIK VORSCHUB-STOP
NETWORK
TITLE = ROBOTIK SPANNMITTEL SCHLIEßEN
U   E 8.6;          // ROBOTIK SPANNMITTEL SCHLIEßEN
=   M 52.3;         // ROBOTIK SPANNMITTEL SCHLIEßEN
NETWORK
TITLE = ROBOTIK SPANNMITTEL ÖFFNEN
U   E 8.7;          // ROBOTIK SPANNMITTEL ÖFFNEN
=   M 52.4;         // ROBOTIK SPANNMITTEL ÖFFNEN
NETWORK
TITLE = ROBOTIK PINOLE VOR
U   E 9.0;          // ROBOTIK PINOLE VOR
=   M 52.5;         // ROBOTIK PINOLE VOR
NETWORK
TITLE = ROBOTIK PINOLE ZURÜCK
U   E 9.1;          // ROBOTIK PINOLE ZURÜCK
=   M 52.6;         // ROBOTIK PINOLE ZURÜCK
NETWORK
TITLE = ROBOTIK TÜR ÖFFNEN
U   E 9.2;          // ROBOTIK TÜR ÖFFNEN
=   M 52.7;         // ROBOTIK TÜR ÖFFNEN
NETWORK
TITLE = ROBOTIK TÜR SCHLIESSEN
U   E 9.3;          // ROBOTIK TÜR SCHLIESSEN
=   M 51.5;         // ROBOTIK TÜR SCHLIESSEN
NETWORK
TITLE = NOT AUS EINGANG FÜR FREI PROGRAMMIERBARE AUSGÄNGE
U   E 9.7;          // NOT AUS EINGANG FÜR FREI PROGRAMMIERBARE AUSGÄNGE
=   M 62.0;         // NOT AUS EINGANG FÜR FREI PROGRAMMIERBARE AUSGÄNGE
END_FUNCTION
FUNCTION FC 35 : VOID
NAME: ZUWEISEN DER AUSGÄNGE AC95 - ACC
BEGIN
;// ACC  REGLERFREIGABE FÜR LENZESTELLER ZUWEISEN
;
;       U   M 54.0          // AUSGANGSMERKER REGLERFREIGABE FÜR LENZESTELLER
;       =   A0.3;           // REGLERFREIGABE FÜR LENZESTELLER
;
;// ACC  DCTRL1-PAR 2/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR  E 3
;
;       U   M 54.1          // AUSGANGSMERKER DCTRL1-PAR 2/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR
;       =   A11.5;          // DCTRL1-PAR 2/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR  E 3
;
;// ACC  DCTRL1-PAR 3/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR  E 2
;
;       U   M 54.2          // AUSGANGSMERKER DCTRL1-PAR 3/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR
;       =   A11.6;          // DCTRL1-PAR 3/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR  E 2
;
// ACC  ALARMAUSGANGANG
U   M 54.3          // AUSGANGSMERKER ALARMAUSGANGANG
=   A 6.0           // ALARMAUSGANGANG
;// ACC  WZW AWZ-EINKUPPELN
;
;       U   M 54.4          // AUSGANGSMERKER WZW AWZ-EINKUPPELN
;       =   A 5.7;          // WZW AWZ-EINKUPPELN
;
;// ACC
;
;;       U   M 54.6;        // AUSGANGSMERKER
;
;
;//**************    NOT AUS BYTE    **********************
;
;// ACC  LEISTUNG LENZE FREQUENZUMRICHTER
;
// ACC  WZW LEISTUNG VORWÄRTS
U   M 55.3          // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
=   A 9.3;           // WZW-VORWÄRTSSCHÜTZ
// ACC  WZW LEISTUNG RÜCKWÄRTS // EMCO WZW LEISTUNG VW
U   M 55.4          // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
=   A 9.4;           // WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
// ACC  WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
U   M 55.5          // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
=   A 9.5;           // WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
;// ACC  SONDERBETRIEB EIN VON SPS
;
;       U   M 55.6          // AUSGANGSMERKER FREIGABESIGNAL FÜR SONDERBETRIEB BEI OFFENER TÜR
;       =   A 9.6;           // FREIGABESIGNAL FÜR SONDERBETRIEB BEI OFFENER TÜR
//**************    TÜR ZU BYTE    **********************
// ACC  SCHÜTZ HAUPTSPINDELMOTOR
;       U   M 56.0          // AUSGANGSMERKER SCHÜTZ HAUPTSPINDELMOTOR
;       =   A10.0;          // SCHÜTZ HAUPTSPINDELMOTOR
// ACC  MV AUFFANGSCHALE AUFFANGEN
U   M 56.2          // AUSGANGSMERKER MV AUFFANGSCHALE AUFFANGEN
=   A 10.2;          // MV AUFFANGSCHALE AUFFANGEN
// ACC  MV AUFFANGSCHALE ZURÜCK
U   M 56.3          // AUSGANGSMERKER MV AUFFANGSCHALE ZURÜCK
=   A 10.3;          // MV AUFFANGSCHALE ZURÜCK
// ACC  LEISTUNG KÜHLMITTEL
U   M 56.6          // AUSGANGSMERKER KÜHLMITTEL LEISTUNG
=   A 10.6;          // KÜHLMITTEL LEISTUNG
// ACC  LEISTUNG TÜR ZU (OPTION)
U   M 57.0          // AUSGANGSMERKER LEISTUNG TÜR ZU
=   A 9.6           // LEISTUNG TÜR ZU
// ACC  LEISTUNG TÜR AUF (OPTION)
U   M 57.1          // AUSGANGSMERKER LEISTUNG TÜR AUF
=   A 9.7           // LEISTUNG TÜR AUF
// ACC  LEISTUNG ZUGROHR NACH LINKS
U   M 57.3          // AUSGANGSMERKER LEISTUNG ZUGROHR NACH LINKS
=   A 4.3;           // LEISTUNG ZUGROHR NACH LINKS
// ACC  LEISTUNG ZUGROHR NACH RECHTS
U   M 57.4          // AUSGANGSMERKER LEISTUNG ZUGROHR NACH RECHTS
=   A 4.4;           // LEISTUNG ZUGROHR NACH RECHTS
// ACC  LEISTUNG AUSBLASVENTIL (OPTION)
U   M 57.5          // AUSGANGSMERKER AUSBLASMAGNETVENTIL FÜR SPANNMITTEL (OPTION)
=   A 4.5;           // AUSBLASMAGNETVENTIL FÜR SPANNMITTEL (OPTION)
// ACC  LEISTUNG PINOLE VOR (OPTION)
U   M 57.6          // AUSGANGSMERKER LEISTUNG PINOLE VOR
=   A 4.6;           // LEISTUNG PINOLE VOR
// ACC  LEISTUNG PINOLE ZURÜCK (OPTION)
U   M 57.7          // AUSGANGSMERKER LEISTUNG PINOLE ZURÜCK
=   A 4.7;           // LEISTUNG PINOLE ZURÜCK
// ACC  LADEMAGAZIN VORSCHUB
U   M 58.0          // AUSGANGSMERKER LADEMAGAZIN VORSCHUB
=   A 5.0;           // LADEMAGAZIN VORSCHUB
// ACC  STANGE WECHSELN AKTIV
U   M 58.1          // AUSGANGSMERKER STANGE WECHSELN AKTIV
=   A 5.1;           // STANGE WECHSELN AKTIV
// ACC  SPANNMITTEL OFFEN
U   M 58.2          // AUSGANGSMERKER SPANNMITTEL OFFEN
=   A 5.2;           // SPANNMITTEL OFFEN
// ACC  WEISSE WARNLEUCHTE LADEMAGAZIN STEHT
U   M 58.3          // AUSGANGSMERKER WEISSE WARNLEUCHTE LADEMAGAZIN STEHT
=   A 5.3;           // WEISSE WARNLEUCHTE LADEMAGAZIN STEHT
// ACC  GRÜNE WARNLEUCHTE AUTOMATIK
U   M 58.4          // AUSGANGSMERKER GRÜNE WARNLEUCHTE AUTOMATIK
=   A 5.4;           // GRÜNE WARNLEUCHTE AUTOMATIK
// ACC  ROTE WARNLEUCHTE ALARM
U   M 58.5          // AUSGANGSMERKER ROTE WARNLEUCHTE ALARM
=   A 5.5;           // ROTE WARNLEUCHTE ALARM
;// ACC  WZW AWZ-AUSKUPPELN
;
;       U   M 58.6          // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
;       =   A5.6;           // WZW AWZ-AUSKUPPELN
;
;// ACC  LAMPE SPANNMITTELTASTE
;
;       U   M 58.7          // AUSGANGSMERKER LAMPE SPANNMITTELTASTE
;       =   A 3.4;           // LAMPE SPANNMITTELTASTE
;
;
// ACC  ROBOTIK NOT-AUS AKTIV
U   M 59.3          // AUSGANGSMERKER ROBOTIK NOT-AUS AKTIV
=   A6.5;           // ROBOTIK NOT-AUS AKTIV
// ACC  ROBOTIK MASCHINE BETRIEBSBEREIT
U   M 59.4          // AUSGANGSMERKER ROBOTIK MASCHINE BETRIEBSBEREIT
=   A6.6;           // ROBOTIK MASCHINE BETRIEBSBEREIT
// ACC  ROBOTIK BETRIEBSART REFERENZ
U   M 59.5          // AUSGANGSMERKER ROBOTIK BETRIEBSART REFERENZ
=   A6.7;           // ROBOTIK BETRIEBSART REFERENZ
// ACC  ROBOTIK M0,M1,M2,ODER M30 AKTIV
U   M 59.6          // AUSGANGSMERKER ROBOTIK M0,M1,M2,ODER M30 AKTIV
=   A7.0;           // ROBOTIK M0,M1,M2,ODER M30 AKTIV
// ACC
U   M 59.7         // ROBOTIK ACHSEN STEHEN AUF REF.PKT.
=   A8.1           // ROBOTIK ACHSEN STEHEN AUF REF.PKT.
// ACC  ROBOTIK SPANNMITTEL GESPANNT
U   M 60.0          // AUSGANGSMERKER ROBOTIK SPANNMITTEL GESPANNT
=   A7.1;           // ROBOTIK SPANNMITTEL GESPANNT
// ACC  ROBOTIK SPANNMITTEL OFFEN
U   M 60.1          // AUSGANGSMERKER ROBOTIK SPANNMITTEL OFFEN
=   A7.2;           // ROBOTIK SPANNMITTEL OFFEN
// ACC  ROBOTIK SPANNMITTEL KEIN TEIL GESPANNT
U   M 60.2          // AUSGANGSMERKER ROBOTIK SPANNMITTEL KEIN TEIL GESPANNT
=   A7.3;           // ROBOTIK SPANNMITTEL KEIN TEIL GESPANNT
// ACC  ROBOTIK PINOLE GESPANNT
U   M 60.3          // AUSGANGSMERKER ROBOTIK PINOLE GESPANNT
=   A7.4;           // ROBOTIK PINOLE GESPANNT
// ACC  ROBOTIK PINOLE ENDLAGE HINTEN
U   M 60.4          // AUSGANGSMERKER ROBOTIK PINOLE ENDLAGE HINTEN
=   A7.5;           // ROBOTIK PINOLE ENDLAGE HINTEN
// ACC  ROBOTIK PINOLE KEIN TEIL GESPANNT
U   M 60.5          // AUSGANGSMERKER ROBOTIK PINOLE KEIN TEIL GESPANNT
=   A7.6;           // ROBOTIK PINOLE KEIN TEIL GESPANNT
// ACC  ROBOTIK MASCHINENTÜR GESCHLOSSEN
U   M 60.6          // AUSGANGSMERKER ROBOTIK MASCHINENTÜR GESCHLOSSEN
=   A7.7;           // ROBOTIK MASCHINENTÜR GESCHLOSSEN
// ACC  ROBOTIK MASCHINENTÜR OFFEN
U   M 60.7          // AUSGANGSMERKER ROBOTIK MASCHINENTÜR OFFEN
=   A8.0;           // ROBOTIK MASCHINENTÜR OFFEN
;
;
;//*************    FREI PROGRAMMIERBARE M_BEFEHLE    ***********************
;
;
;// ACC  M72/M73
;
;       U   M 61.1          // AUSGANGSMERKER M72/M73
;       =   A 6.1;          // M72/M73
;
;// ACC  M74/M75
;
;       U   M 61.2          // AUSGANGSMERKER M74/M75
;       =   A 6.2;          // M74/M75
;
;// ACC  M76/M77
;
;       U   M 61.3          // AUSGANGSMERKER M76/M77
;       =   A 6.3;          // M76/M77
;
;// ACC  M78/M79
;
;       U   M 61.4          // AUSGANGSMERKER M78/M79
;       =   A 8.2;          // M78/M79
;
;// ACC  M80/M81
;
;       U   M 61.5          // AUSGANGSMERKER M80/M81
;       =   A 8.3;          // M80/M81
;
;// ACC  M82/M83
;
;       U   M 61.6          // AUSGANGSMERKER M82/M83
;       =   A 8.4;          // M82/M83
;
;// ACC  M84/M85
;
;       U   M 61.7          // AUSGANGSMERKER M84/M85
;       =   A 8.5;          // M84/M85
END_FUNCTION
FUNCTION FC 70 : VOID
NAME: LADEMAGAZIN UND 1x TASTE
BEGIN
NETWORK
TITLE = M57 Spindel drehen ein
U   DB20.DBX 199.1; // M57 dyn.
S   M 167.3;        // Spindel drehen/pendeln aktiv
SPBN   M571;
S   DB20.DBX 2.3;   // NC-Kommando Drehzahl setzen
L   0;              // Nr. der Hauptspindel
T   DB20.DBW 594;   // Spindelnummer f. Drehzahlkommando
L   +3.0E+00;
T   DB20.DBD 160;   // Drehzahl in [U/s]
M571: NOP  0;
NETWORK
TITLE = M58 Spindel drehen aus
O   DB20.DBX 199.2; // M58 dyn.
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
ON  E 7.3;          // STÖRUNG LADEMAGAZIN
R   M 167.3;        // Spindel drehen/pendeln aktiv
S   M 167.4;        // Spindel drehen aus
NETWORK
TITLE = AUSWERTUNG DER 1X TASTE
O   DB20.DBX 833.4; // RAFI Tastatur X4.1/2 Einzelstücktaste
O   DB20.DBX 827.3; // 1X-TASTE
U   DB10.DBX 77.2;  // LADEMAGAZIN AKTIVIEREN
U   M 5.3;          // ANWAHL STV/LM DAMIT M32 EINEN NEUSTART AUSLÖST
U   DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
FP  M 8.0           // FM 1X-TASTE
U   M 8.0           // FM 1X-TASTE
UN  M 8.2           // 1X AKTIV
O   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
ON  M 5.3;          // ANWAHL STV/LM DAMIT M32 EINEN NEUSTART AUSLÖST
ON  DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
O   M 21.3;         // HM 7043  SOLLSTÜCKZAHL ERREICHT
O   M 18.3          // HM MELDUNG 7019  PNEUMATIKÖLER LEER
O   M 20.6;         // HM 7038  DRUCKSCHALTER SCHM. DEFEKT
O   M 20.7;         // HM 7039  SCHMIERMITTEL DEFEKT
S   M 8.2           // 1X AKTIV
S   M 8.1           // HM
U   M 8.0           // FM 1X-TASTE
UN  M 8.1           // HM
R   M 8.2           // 1X AKTIV
SET
R   M 8.1           // HM
//  X301.1  E 7.0 // Start nach Stangenwechsel
//  X301.2  E 7.1 // Stangenende
//  X301.3  E 7.2 // Lader hat vorgeschoben
//  X301.4  E 7.3 // Störung Lademagazin
//  X502.1  M 58.0;         // AUSGANGSMERKER LADEMAGAZIN VORSCHUB
//  X502.2  M 58.1;         // AUSGANGSMERKER STANGE WECHSELN AKTIV
//  X502.3  M 58.2;         // AUSGANGSMERKER SPANNMITTEL OFFEN
NETWORK
TITLE =Vorschubbefehl
U(  ;
O   DB20.DBX 200.3; // M67 dyn.
O(  ;
U   M 58.0;         // AUSGANGSMERKER LADEMAGAZIN VORSCHUB
UN  DB20.DBX 200.4; // M68 dyn.
U(  ;
ON  E 7.0;          // Start nach Stangenwechsel
)   ;
)   ;
U   M 110.0;        // AUX-ON
;8+++       U   DB20.DBX 326.4;// BETRIEBSART AUTOMATIK
UN  DB20.DBX 324.2; // DRY
U   E 7.3;          // STÖRUNG LADEMAGAZIN
UN  DB1.DBX 1370.3; // RESET TASTE GEDRÜCKT
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
=   M 58.0;         // AUSGANGSMERKER LADEMAGAZIN VORSCHUB
NETWORK
TITLE =Lader hat vorgeschoben
;       U   M 58.0;         // AUSGANGSMERKER LADEMAGAZIN VORSCHUB
;       U   E 7.2;          // Lader hat vorgeschoben
;       S   DB1.DBX 1534.7; // $A_IN[8] Lader hat vorgeschoben
;
;       UN  M 58.0;         // AUSGANGSMERKER LADEMAGAZIN VORSCHUB
;       R   DB1.DBX 1534.7; // $A_IN[8] Lader hat vorgeschoben
U   E 7.2;          // Lader hat vorgeschoben
=   DB1.DBX 1534.7; // $A_IN[8] Lader hat vorgeschoben
NETWORK
TITLE =Stange wechseln
U   DB20.DBX 200.5; // M69 dyn.
UN  DB20.DBX 324.2; // DRY
S   M 58.1;         // AUSGANGSMERKER STANGE WECHSELN AKTIV
O   E 7.0;          // Start nach Stangenwechsel
O   DB1.DBX 1370.3; // RESET TASTE GEDRÜCKT
ON  M 110.0;        // AUX-ON
ON  E 7.3;          // STÖRUNG LADEMAGAZIN
R   M 58.1;         // AUSGANGSMERKER STANGE WECHSELN AKTIV
U   M 58.1;         // AUSGANGSMERKER STANGE WECHSELN AKTIV
=   DB1.DBX 1534.6; // $A_IN[7] Start nach Stangenwechsel
;       U   E 7.0;          // Start nach Stangenwechsel
;       =   DB1.DBX 1534.6; // $A_IN[7] Start nach Stangenwechsel
NETWORK
TITLE =Stangenende
UN  E 7.1;          // Stangenende
=   DB1.DBX 1534.5; // $A_IN[6] Stangenende
NETWORK
TITLE =  ALARM 6065  STÖRUNG LADEMAGAZIN
UN  E 7.3;          // STÖRUNG LADEMAGAZIN
S   DB2.DBX 8.1;    // 6065  STÖRUNG LADEMAGAZIN
O   DB1.DBX 1370.3; // RESET TASTE GEDRÜCKT
R   DB2.DBX 8.1;    // 6065  STÖRUNG LADEMAGAZIN
NETWORK
TITLE = SPANNMITTEL OFFEN
U     M 138.4;        // SPANNMITTEL ENTSPANNT
=     M 58.2;         // AUSGANGSMERKER SPANNMITTEL OFFEN
END_FUNCTION
FUNCTION FC 61: VOID
NAME: AUSWERTUNG DER H-BEFEHLE
BEGIN
NETWORK
TITLE =Konfiguration durch  H0 BIS H5 M99 UND M90 BIS M95
UN  DB1.DBX 1402.1  // FANUC 0
UN  DB1.DBX 1403.0  // FANUC 21
U   DB20.DBX 204.3; // M99 dyn.
O   DB20.DBX 203.2; // M90 dyn  HANDSPANNFUTTER
O   DB20.DBX 203.3; // M91 dyn  ZUGSPANNMITTEL
O   DB20.DBX 203.4; // M92 dyn  DRUCKSPANNMITTEL
O   DB20.DBX 203.5; // M93 dyn  ENDLAGENÜBERWACHUNG deaktivieren
O   DB20.DBX 203.6; // M94 dyn  STANGENBEARBEITUNG AKTIVIERT
O   DB20.DBX 203.7; // M95 dyn  STANGENBEARBEITUNG DEAKTIVIERT
SPBN   M003;
NETWORK
TITLE = H0 M99  SPM links Handspannfutter
L   DB20.DBW 186;
L   0;
==I ;
U   DB20.DBX 204.3; // M99 dyn.
O   DB20.DBX 203.2; // M90 dyn  HANDSPANNFUTTER
R   M 5.0;          // ZUGROHR NACH LINKS
R   M 5.1;          // ZUGROHR NACH RECHTS
R   M 5.2;          // ENDLAGENÜBERWACHUNG deaktivieren
NETWORK
TITLE = H1 M99  SPM links ZUGSPANNMITTEL ZUGROHR NACH LINKS
L   DB20.DBW 186;
L   1;
==I ;
U   DB20.DBX 204.3; // M99 dyn.
O   DB20.DBX 203.3; // M91 dyn  ZUGSPANNMITTEL
S   M 5.0;          // ZUGROHR NACH LINKS
R   M 5.1;          // ZUGROHR NACH RECHTS
R   M 5.2;          // ENDLAGENÜBERWACHUNG deaktivieren
NETWORK
TITLE = H2 M99  SPM links DRUCKSPANNMITTEL ZUGROHR NACH RECHTS
L   DB20.DBW 186;
L   2;
==I ;
U   DB20.DBX 204.3; // M99 dyn.
O   DB20.DBX 203.4; // M92 dyn  DRUCKSPANNMITTEL
S   M 5.1;          // ZUGROHR NACH RECHTS
R   M 5.0;          // ZUGROHR NACH LINKS
R   M 5.2;          // ENDLAGENÜBERWACHUNG deaktivieren
NETWORK
TITLE = H3 M99  SPM1 links ENDLAGENÜBERWACHUNG deaktivieren
L   DB20.DBW 186;
L   3;
==I ;
U   DB20.DBX 204.3; // M99 dyn.
O   DB20.DBX 203.5; // M93 dyn  ENDLAGENÜBERWACHUNG deaktivieren
S   M 5.2;          // ENDLAGENÜBERWACHUNG deaktivieren
NETWORK
TITLE = H4 M99 Anwahl STV/LM DAMIT M32 EINEN NEUSTART AUSLÖST
L   DB20.DBW 186;
L   4;
==I ;
U   DB20.DBX 204.3; // M99 dyn.
O   DB20.DBX 203.6; // M94 dyn  STANGENBEARBEITUNG AKTIVIERT
S   M 5.3;
NETWORK
TITLE = H5 M99 Abwahl STV/LM
L   DB20.DBW 186;
L   5;
==I ;
U   DB20.DBX 204.3; // M99 dyn.
O   DB20.DBX 203.7; // M95 dyn  STANGENBEARBEITUNG DEAKTIVIERT
R   M 5.3;
NETWORK
TITLE = H6 M99 Handling aktivieren
L   DB20.DBW 186;
L   6;
==I ;
S   M 5.4;
NETWORK
TITLE = H7 M99 Handling deaktivieren
L   DB20.DBW 186;
L   7;
==I ;
R   M 5.4;
NETWORK
TITLE = Konfiguration sofort in Settingdaten speichern
L   MW 5;               // akt. Maschinenkonfiguration
T   DB15.DBW 20;        // Maschinenkonfig. in SE-Daten
SET;
=   DB20.DBX 348.3; // ANFORDERUNG ZUM SOFORTIGEN SETTINGDATENSICHERN
NETWORK
TITLE =Signale mit M96 H0 von Teileprogramm an PLC (M96 VON CYCLUS L700)
M003:  ON  DB20.DBX 204.0;// M96
SPB M987;
NETWORK
TITLE =BM7043 Sollstückzahl erreicht
L   DB20.DBW 186;  // H-Wort (word)
L   0;
==I ;
S   M 21.3;         // HM 7043  SOLLSTÜCKZAHL ERREICHT
M987: NOP 0
END_FUNCTION
FUNCTION FC 0: VOID
NAME: WERKZEUGWENDER
BEGIN
; BIT BESCHREIBUNG FÜR WZW :
;      M 150.0  FM STROBE POSITIV
;      M 150.1  FM STROBE NEGATIV
;      M 150.2  FM BERO VORINDEXIERUNG POSITIV
;      M 150.3  FM BERO VORINDEXIERUNG NEGATIV
;      M 150.4  FM WZW TASTE
;      M 150.5  FM WZW STARTBEFEHL IN PLUSRICHTUNG
;      M 150.6  FM WZW STARTBEFEHL IN MINUSRICHTUNG
;      M 150.7  FM MELDUNG 7021 "WERKZEUGWENDER FREIFAHREN"
;      M 151.0  WERKZEUGWENDER FREIGABE
;      M 151.1  WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
;      M 151.2  WERKZEUGWENDER START VON WZW-TASTE
;      M 151.3  ZWISCHENMERKER VORINDEXIERUNG
;      M 151.4  HM WERKZEUGWENDEN ABGESCHLOSSEN
;      M 151.5  Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
;      M 151.6
;      M 151.7
;      M 152.0  WERKZEUGWENDEN AKTIV
;      M 152.1  FLANKENMERKER
;      M 152.2  FLANKENMERKER
;      M 152.3  FLANKENMERKER
;      M 152.4  FLANKENMERKER
;      M 152.7  FM WERKZEUGWENDEN SOFORT ABBRECHEN BEI RESET, /NOT AUS,/TÜR AUF,/AUXON
;      M 153.0  WZW ABBRUCH MERKER AUS DEN SETTINGDATEN
;      M 154.0  POSITION  0
;      M 154.1  POSITION 15
;      M 154.2  POSITION 14
;      M 154.3  POSITION 13
;      M 155.0  T-WORT GRÖSSER 12
;      M 155.1  T-WORT KLEINER 1
;      M 155.2  T-WORT UNGLEICH ISTZÄHLER
;      M 155.3  NEUE WZW POSITION IST IN PLUSRICHTUNG
;      M 155.4  NEUE WZW POSITION IST IN MINUSRICHTUNG
;      M 155.5  SOLLZÄHLER GLEICH ISTZÄHLER
;      MW 156    MERKERWORT FÜR RICHTUNGSLOGIK
;      Z 50     WZW ISTPOSITIONSZÄHLER
;      Z 52     WZW SOLLPOSITIONSZÄHLER
;      T 50     // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
TITLE = ALARM 6042 THERMISCHE STÖRUNG WERKZEUGWENDER
UN  E 4.6     ;     // THERMISCHE STÖRUNG WERKZEUGWENDER
S   DB2.DBX 5.2;    // ALARM 6042 THERMISCHE STÖRUNG WERKZEUGWENDER
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.2;    // ALARM 6042 THERMISCHE STÖRUNG WERKZEUGWENDER
NETWORK
TITLE = WZW ABBRUCH MERKER AUS DEN SETTINGDATEN SETZEN  FREIFAHREN!!
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
U   DB15.DBX 40.0;  // WZW ABGEBROCHEN IN DEN SETTINGDATEN GESPEICHERT
S   M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
NETWORK
TITLE = WERKZEUGWENDEN SOFORT ABBRECHEN BEI RESET, /NOT AUS,/TÜR AUF,/AUXON
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
O   DB1.DBX 1440.0; // RESET AUGELÖST
ON  E 2.2 ;         // NICHT NOT-AUS
ON  M 110.0;        // AUX-ON
ON  M 151.0;        // WZW FREIGABE
U   M 152.0;        // WERKZEUGWECHSEL AKTIV
FP  M 152.7;     // FM WERKZEUGWENDEN SOFORT ABBRECHEN BEI RESET, /NOT AUS,/TÜR AUF,/AUXON
O   M 152.7;     // FM WERKZEUGWENDEN SOFORT ABBRECHEN BEI RESET, /NOT AUS,/TÜR AUF,/AUXON
O   M 150.7;     // FM MELDUNG 7021 "WERKZEUGWENDER FREIFAHREN"
SPBN M001
S   M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
R   M 55.3;         // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
R   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
R   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
R   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
R   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
R   M 151.3         // ZWISCHENMERKER VORINDEXIERUNG
R   M 152.0;        // WERKZEUGWECHSEL AKTIV
R   M 151.5         // Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
S   DB15.DBX 40.0   // WZW ABGEBROCHEN IN DEN SETTINGDATEN SPEICHERN
=   DB20.DBX 348.3; // ANFORDERUNG ZUM SOFORTIGEN SETTINGDATENSICHERN
M001:  NOP 0
NETWORK
TITLE = WZW FREIGABE
U(
O   M 149.0         // FREIGABE VON SICHERHEITSEINRICHTUNGEN
O(
U   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
)
)
UN  DB20.DBX 326.1; // BETRIEBSART EDIT
UN  M 90.0;         // AUX-ON  AFG/EFG
;       U(;
;       ON  DB10.DBX 75.1;  // SPS-MSD /PINOLE
;       O   M 141.2;        // PINOLE ENDLAGE HINTEN
;       O   M 141.3;        // PINOLE GESPANNT
;       );
UN  M 91.1;         // SUM ALARME  AFG/EFG
=   M 151.0;        // WZW FREIGABE
NETWORK
TITLE = FM TASTE WZW (MSTT/PC)
U   DB20.DBX 294.5; // TASTE WZW (MSTT/PC)
FP  M 150.4;        // FM WZW-TASTE
NETWORK
TITLE = FM STROBE POSITIV
U   E 4.4;          // WZW STROBE
FP  M 150.0;        // FM STROBE POSITIV
NETWORK
TITLE = FM STROBE NEGATIV
U   E 4.4;          // WZW STROBE
FN  M 150.1;        // FM STROBE NEGATIV
NETWORK
TITLE = FM BERO VORINDEXIERUNG POSITIV
U   E 4.5;          // BERO VORINDEXIERUNG
FP  M 150.2;        // FM BERO VORINDEXIERUNG POSITIV
NETWORK
TITLE = FM BERO VORINDEXIERUNG NEGATIV
U   E 4.5;          // BERO VORINDEXIERUNG
FN  M 150.3;        // FM BERO VORINDEXIERUNG NEGATIV
NETWORK
TITLE = WZW/SCHWENKEN VON WZW-TASTE
U   M 150.4;        // FM WZW-TASTE
UN  DB20.DBX 326.1; // BETRIEBSART EDIT
UN  DB20.DBX 326.2; // BETRIEBSART MDI
UN  DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
UN  DB20.DBX 327.2; // BETRIEBSART REFERENZ
UN  M 152.0;        // WERKZEUGWECHSEL AKTIV
UN  M 91.1;         // SUM ALARME  AFG/EFG
O
U   DB20.DBX 302.0; // DNC/WZW SCHWENKEN
UN  M 91.1;         // SUM ALARME  AFG/EFG
=   M 151.2         // WERKZEUGWENDER START VON WZW-TASTE
NETWORK
TITLE = SCHWENKRICHTUNG MIT DER EILGANGSÜBERLAGERUNGSTASTE BESTIMMEN
U   M 151.2;        // WERKZEUGWENDER START VON WZW-TASTE
U   M 151.0;        // WZW FREIGABE
R   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
R   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
SPBN   M002;
S   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
U   DB20.DBX 295.0  // TASTE 12 AUF MSTT
SPBN   M002;
S   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
R   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
M002:  NOP 0;
NETWORK
TITLE = SOLLZÄHLER VON WZW-TASTE SETZEN
CLR
S   Z 52;           // WZW SOLLPOSITIONSZÄHLER
U   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
UN  M 152.0;        // WERKZEUGWECHSEL AKTIV
ZV  Z 52;           // WZW SOLLPOSITIONSZÄHLER
L   Z 52;           // WZW SOLLPOSITIONSZÄHLER
L   13;
>=I;
L   Z#1;            // LADE ZÄHLERKONSTANTE 1 IN AKKU 1 (16 BIT)
S   Z 52;           // WZW SOLLPOSITIONSZÄHLER
U   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
UN  M 152.0;        // WERKZEUGWECHSEL AKTIV
ZR  Z 52;           // WZW SOLLPOSITIONSZÄHLER
L   Z 52;           // WZW SOLLPOSITIONSZÄHLER
L   0;
==I;
L   Z#12;            // LADE ZÄHLERKONSTANTE 8 IN AKKU 1 (16 BIT)
S   Z 52;           // WZW SOLLPOSITIONSZÄHLER
NETWORK
TITLE = SETZE ISTZÄHLER MIT POSITIONEN
SET;
R   Z 50;           // ISTZÄHLER
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
L   W#16#1;         // LADE KONSTANTE HEX1
S   Z 50;           // ISTZÄHLER=1
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
L   W#16#2;         // LADE KONSTANTE HEX2
S   Z 50;           // ISTZÄHLER=2
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
L   W#16#3;         // LADE KONSTANTE HEX3
S   Z 50;           // ISTZÄHLER=3
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
L   W#16#4;         // LADE KONSTANTE HEX4
S   Z 50;           // ISTZÄHLER=4
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
L   W#16#5;         // LADE KONSTANTE HEX5
S   Z 50;           // ISTZÄHLER=5
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
L   W#16#6;         // LADE KONSTANTE HEX6
S   Z 50;           // ISTZÄHLER=6
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
L   W#16#7;         // LADE KONSTANTE HEX7
S   Z 50;           // ISTZÄHLER=7
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
L   W#16#8;         // LADE KONSTANTE HEX8
S   Z 50;           // ISTZÄHLER=8
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
L   W#16#9;         // LADE KONSTANTE HEX9
S   Z 50;           // ISTZÄHLER=9
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
L   W#16#A;         // LADE KONSTANTE HEXA
S   Z 50;           // ISTZÄHLER=10
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
L   W#16#B;         // LADE KONSTANTE HEXB
S   Z 50;           // ISTZÄHLER=11
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
L   W#16#C;         // LADE KONSTANTE HEXC
S   Z 50;           // ISTZÄHLER=12
NETWORK
TITLE = 6046  WZW ENCODER DEFEKT
;POSITION 0:
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
=   M 154.0
;POSITION 15:
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
=   M 154.1
;POSITION 14:
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
=   M 154.2
;POSITION 13:
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
=   M 154.3
O   M 154.0
O   M 154.1
O   M 154.2
O   M 154.3
L   S5T#200MS;      // 200MS
SE  T 1;            // STARTEN T 1 ALS EINSCHALTVERZ.
U   T 1;            // STARTEN T 1 ALS EINSCHALTVERZ.
S   DB2.DBX 5.6;    // 6046  WZW ENCODER DEFEKT
R   Z 50;           // ISTZÄHLER
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.6;    // 6046  WZW ENCODER DEFEKT
NETWORK
TITLE = SOLLZÄHLER VON ISTZÄHLER SETZEN
CLR
S   Z 52;           // SOLLZÄHLER
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
UN  M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
UN  DB2.DBX 5.6;    // 6046  WZW ENCODER DEFEKT
SPBN   M003
L   Z 50;           // ISTZÄHLER
S   Z 52;           // SOLLZÄHLER
T   DB20.DBW 356;   // AKTIVES WERKZEUG IN DB20
M003:  NOP 0
NETWORK
TITLE = SOLLZÄHLER AUS DEN SETTINGDATEN SETZEN
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
U   M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
UN  DB2.DBX 5.6;    // 6046  WZW ENCODER DEFEKT
SPBN   M004
L   DB15.DBW 25;    // WERKZEUGPOSITION IN DEN SETTINGDATEN
L   W#16#2;         // LADE HEX 2
+I;
S   Z 52;           // SOLLZÄHLER
M004:  NOP 0
NETWORK
TITLE = T-WORT KLEINER 1
L   DB20.DBW 184;   // LADE T-WORT
L   W#16#1;         // LADE KONSTANTE HEX 1
<I;                 // VERGLEICH AUF KLEINER
U   DB20.DBX 182.0; // NEUES T-WORT
=   M 155.1         // T-WORT KLEINER 1
NETWORK
TITLE = T-WORT GRÖSSER 8
L   DB20.DBW 184;   // LADE T-WORT
L   W#16#12;         // LADE KONSTANTE HEX 12
>I;                 // VERGLEICH AUF GRÖSSER
U   DB20.DBX 182.0; // NEUES T-WORT
=   M 155.0         // T-WORT GRÖSSER 12
NETWORK
TITLE = 7000  FALSCHES T-WORT
O   M 155.1         // T-WORT KLEINER 1
O   M 155.0         // T-WORT GRÖSSER 12
S   M 16.0;         // HM 7000  FALSCHES T-WORT
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   M 16.0;         // 7000  FALSCHES T-WORT
NETWORK
TITLE = T-WORT UNGLEICH ISTZÄHLER
L   DB20.DBW 184;   // T-WORT
L   Z50;            // ISTZÄHLER
<>I;                // VERGLEICH AUF UNGLEICH
=   M 155.2         // T-WORT UNGLEICH ISTZÄHLER
NETWORK
TITLE = WZW/T-WORT GÜLTIG
U   DB20.DBX 182.0; // NEUES T-WORT
UN  M 155.1         // T-WORT KLEINER 1
UN  M 155.0         // T-WORT GRÖSSER 12
U   M 155.2         // T-WORT UNGLEICH ISTZÄHLER
UN  M 152.0         // WERKZEUGWENDEN AKTIV
UN  M 16.0;         // HM 7000  FALSCHES T-WORT
UN  M 18.5;         // HM 7021  WERKZEUGWENDER FREIFAHREN
=   M 151.1;        // WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
NETWORK
TITLE = SOLLZÄHLER LADEN VON GÜLTIGEM T-WORT
U   M 151.0;        // WZW FREIGABE
U   M 151.1;        // WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
SPBN   M005;
SET;
L   DB20.DBW 184;   // LADE T-WORT
S   Z 52;           // LADE SOLLZÄHLER
M005:  NOP 0;
NETWORK
TITLE = SOLLZÄHLER=ISTZÄHLER
L   Z 50;           // LADE ISTZÄHLER
L   Z 52;           // LADE SOLLZÄHLER
==I;                // VERGLEICH AUF GLEICH
=   M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
NETWORK
TITLE = STEUERUNG ZUM SCHWENKEN DES WERKZEUGWENDERS
U   M 151.1;        // WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
CC    FC 51;          // STEUERUNG ZUM SCHWENKEN DES WERKZEUGWENDERS
NETWORK
TITLE = ANZEIGE AKTUELLE WERKZEUGNUMMER
U   M 151.4         // HM WERKZEUGWENDEN ABGESCHLOSSEN
R   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
R   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
R   M 152.0;        // WERKZEUGWECHSEL AKTIV
SPBN   M006;           // SPRUNG BEDINGT
L   Z 50            // WZW ISTPOSITIONSZÄHLER
T   DB20.DBW 356;   // AKTIVES WERKZEUG IN DB20
T   DB15.DBW 25;    // WERKZEUGPOSITION IN DEN SETTINGDATEN
L   0
T   DB15.DBB 40     // WZW ABGEBROCHEN IN DEN SETTINGDATEN SPEICHERN
=   DB20.DBX 348.3; // ANFORDERUNG ZUM SOFORTIGEN SETTINGDATENSICHERN
R   M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
R   M 151.4         // HM WERKZEUGWENDEN ABGESCHLOSSEN
M006:  NOP 0;
NETWORK
TITLE = AFG UND EFG WEGNEHMEN
O   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
FP  M 150.5;        // FM WZW STARTBEFEHL IN PLUSRICHTUNG
O   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
FP  M 150.6;        // FM WZW STARTBEFEHL IN MINUSRICHTUNG
O   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
O   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
S   M 152.0;        // WERKZEUGWECHSEL AKTIV
U   M 152.0;        // WERKZEUGWENDEN AKTIV
L   S5T#300MS;     //
SA  T 7
O   M 152.0;        // WERKZEUGWENDEN AKTIV
O   T 7
=   M 90.3;         // WZW  AFG/EFG
NETWORK
TITLE = WERKZEUGPOSITION IN DEN SETTINGDATEN SPEICHERN
O   M 150.5;        // FM WZW STARTBEFEHL IN PLUSRICHTUNG
O   M 150.6;        // FM WZW STARTBEFEHL IN MINUSRICHTUNG
SPBN   M007;
L   Z 50;           // LADE ISTZÄHLER
T   DB15.DBW 25;    // WERKZEUGPOSITION IN DEN SETTINGDATEN
S   DB15.DBX 40.0   // WZW ABGEBROCHEN IN DEN SETTINGDATEN SPEICHERN
=   DB20.DBX 348.3; // ANFORDERUNG ZUM SOFORTIGEN SETTINGDATENSICHERN
M007:  NOP 0;
NETWORK
TITLE = STEUERUNG ZUM SCHWENKEN DES WERKZEUGWENDERS IN PLUSRICHTUNG
U   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
UN  M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
CC    FC 52;          // SCHWENKEN DES WERKZEUGWENDERS IN PLUSRICHTUNG
NETWORK
TITLE = STEUERUNG ZUM SCHWENKEN DES WERKZEUGWENDERS IN MINUSRICHTUNG
U   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
UN  M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
CC    FC 53;          // SCHWENKEN DES WERKZEUGWENDERS IN MINUSRICHTUNG
NETWORK
TITLE = SPS/OB-->WZW VERRIEGELT
U   M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
U   E 4.5;          // BERO VORINDEXIERUNG
=   DB20.DBX 310.0; // SPS/RM-->WZW VERRIEGELT
NETWORK
TITLE = WZW/FC DNC-QUITTUNG
U   DB1.DBX 1366.0; // DNC-BETRIEB AKTIV
U   DB20.DBX 302.0; // DNC/WZW SCHWENKEN
UN  M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
UN  M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
S   DB1.DBX 1398.1; // WZW/FC DNC-QUITTUNG
NETWORK
TITLE = MELDUNG 7021  WERKZEUGWENDER FREIFAHREN
U   M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
=   M 18.5;         // HM 7021  WERKZEUGWENDER FREIFAHREN
FP  M 150.7         // FM MELDUNG 7021 "WERKZEUGWENDER FREIFAHREN"
NETWORK
TITLE = Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
U   M 151.4         // HM WERKZEUGWENDEN ABGESCHLOSSEN
S   M 151.5         // Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
O   M 151.1;        // WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
O   M 151.2;        // WERKZEUGWENDER START VON WZW-TASTE
R   M 151.5         // Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
NETWORK
TITLE = ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
ON  M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
ON  E 4.5;          // BERO VORINDEXIERUNG
ON  E 4.4;          // WZW STROBE
UN  M 152.0;        // WERKZEUGWENDEN AKTIV
UN  M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
U   M 151.5         // Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
L   S5T#300MS;      // 300MS
SE  T 71;           // STARTEN ALS EINSCHALTVERZ.
U   T 71;
S   DB2.DBX 5.0;    // 6040 STAT.VERRIEGELUNGSÜBERW.
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.0;    // 6040 STAT.VERRIEGELUNGSÜBERW.
NETWORK
TITLE = // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
U   M 152.0;        // WERKZEUGWENDEN AKTIV
L   S5T#10S;         // 4S
SE  T 50;           // STARTEN ALS EINSCHALTVERZ.
U   T 50;           // STARTEN ALS EINSCHALTVERZ.
S   DB2.DBX 5.1;    // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.1;    // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
END_FUNCTION
FUNCTION FC 90: VOID
NAME: WERKZEUGWENDER Sauter473.512 ET325II mit kuppelbaren Werkzeugantrieb
BEGIN
; BIT BESCHREIBUNG FÜR WZW :
;      M 150.0  FM STROBE POSITIV
;      M 150.1  FM STROBE NEGATIV
;      M 150.2  FM BERO VORINDEXIERUNG POSITIV
;      M 150.3  FM BERO VORINDEXIERUNG NEGATIV
;      M 150.4  FM WZW TASTE
;      M 150.5  FM WZW STARTBEFEHL IN PLUSRICHTUNG
;      M 150.6  FM WZW STARTBEFEHL IN MINUSRICHTUNG
;      M 150.7  FM MELDUNG 7021 "WERKZEUGWENDER FREIFAHREN"
;      M 151.0  WERKZEUGWENDER FREIGABE
;      M 151.1  WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
;      M 151.2  WERKZEUGWENDER START VON WZW-TASTE
;      M 151.3  ZWISCHENMERKER VORINDEXIERUNG
;      M 151.4  HM WERKZEUGWENDEN ABGESCHLOSSEN
;      M 151.5  Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
;      M 151.6
;      M 151.7
;      M 152.0  WERKZEUGWENDEN AKTIV
;      M 152.1  FLANKENMERKER
;      M 152.2  FLANKENMERKER
;      M 152.3  FLANKENMERKER
;      M 152.4  FLANKENMERKER
;      M 152.7  FM WERKZEUGWENDEN SOFORT ABBRECHEN BEI RESET, /NOT AUS,/TÜR AUF,/AUXON
;      M 153.0  WZW ABBRUCH MERKER AUS DEN SETTINGDATEN
;      M 154.0  POSITION  0
;      M 154.1  POSITION 15
;      M 154.2  POSITION 14
;      M 154.3  POSITION 13
;      M 155.0  T-WORT GRÖSSER 12
;      M 155.1  T-WORT KLEINER 1
;      M 155.2  T-WORT UNGLEICH ISTZÄHLER
;      M 155.3  NEUE WZW POSITION IST IN PLUSRICHTUNG
;      M 155.4  NEUE WZW POSITION IST IN MINUSRICHTUNG
;      M 155.5  SOLLZÄHLER GLEICH ISTZÄHLER
;      MW 156    MERKERWORT FÜR RICHTUNGSLOGIK
;      Z 50     WZW ISTPOSITIONSZÄHLER
;      Z 52     WZW SOLLPOSITIONSZÄHLER
;      T 50     // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
TITLE = KUPP  ALARM 6042 THERMISCHE STÖRUNG WERKZEUGWENDER
UN  E 4.6     ;     // THERMISCHE STÖRUNG WERKZEUGWENDER
S   DB2.DBX 5.2;    // ALARM 6042 THERMISCHE STÖRUNG WERKZEUGWENDER
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.2;    // ALARM 6042 THERMISCHE STÖRUNG WERKZEUGWENDER
NETWORK
TITLE = KUPP  WZW ABBRUCH MERKER AUS DEN SETTINGDATEN SETZEN  FREIFAHREN!!
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
U   DB15.DBX 40.0;  // WZW ABGEBROCHEN IN DEN SETTINGDATEN GESPEICHERT
S   M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
NETWORK
TITLE = KUPP  WERKZEUGWENDEN SOFORT ABBRECHEN BEI RESET, /NOT AUS,/TÜR AUF,/AUXON
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
O   DB1.DBX 1440.0; // RESET AUGELÖST
ON  E 2.2 ;         // NICHT NOT-AUS
ON  M 110.0;        // AUX-ON
ON  M 151.0;        // WZW FREIGABE
U   M 152.0;        // WERKZEUGWECHSEL AKTIV
FP  M 152.7;     // FM WERKZEUGWENDEN SOFORT ABBRECHEN BEI RESET, /NOT AUS,/TÜR AUF,/AUXON
O   M 152.7;     // FM WERKZEUGWENDEN SOFORT ABBRECHEN BEI RESET, /NOT AUS,/TÜR AUF,/AUXON
O   M 150.7;     // FM MELDUNG 7021 "WERKZEUGWENDER FREIFAHREN"
SPBN M001
S   M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
R   M 55.3;         // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
R   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
R   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
R   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
R   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
R   M 151.3         // ZWISCHENMERKER VORINDEXIERUNG
R   M 152.0;        // WERKZEUGWECHSEL AKTIV
R   M 151.5         // Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
S   DB15.DBX 40.0   // WZW ABGEBROCHEN IN DEN SETTINGDATEN SPEICHERN
=   DB20.DBX 348.3; // ANFORDERUNG ZUM SOFORTIGEN SETTINGDATENSICHERN
M001:  NOP 0
NETWORK
TITLE = KUPP  WZW FREIGABE
U(
O   M 149.0         // FREIGABE VON SICHERHEITSEINRICHTUNGEN
O(
U   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
)
)
UN  DB20.DBX 326.1; // BETRIEBSART EDIT
UN  M 90.0;         // AUX-ON  AFG/EFG
;       U(;
;       ON  DB10.DBX 75.1;  // SPS-MSD /PINOLE
;       O   M 141.2;        // PINOLE ENDLAGE HINTEN
;       O   M 141.3;        // PINOLE GESPANNT
;       );
UN  M 91.1;         // SUM ALARME  AFG/EFG
U   M 51.4;         // SAUTER473.512 WZW AWZ-AUSGEKUPPELT
U   M 58.6;         // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
=   M 151.0;        // WZW FREIGABE
NETWORK
TITLE = KUPP  FM TASTE WZW (MSTT/PC)
U   DB20.DBX 294.5; // TASTE WZW (MSTT/PC)
FP  M 150.4;        // FM WZW-TASTE
NETWORK
TITLE = KUPP  FM STROBE POSITIV
U   E 4.4;          // WZW STROBE
FP  M 150.0;        // FM STROBE POSITIV
NETWORK
TITLE = KUPP  FM STROBE NEGATIV
U   E 4.4;          // WZW STROBE
FN  M 150.1;        // FM STROBE NEGATIV
NETWORK
TITLE = KUPP  FM BERO VORINDEXIERUNG POSITIV
U   E 4.5;          // BERO VORINDEXIERUNG
FP  M 150.2;        // FM BERO VORINDEXIERUNG POSITIV
NETWORK
TITLE = KUPP  FM BERO VORINDEXIERUNG NEGATIV
U   E 4.5;          // BERO VORINDEXIERUNG
FN  M 150.3;        // FM BERO VORINDEXIERUNG NEGATIV
NETWORK
TITLE = KUPP  WZW/SCHWENKEN VON WZW-TASTE
U   M 150.4;        // FM WZW-TASTE
UN  DB20.DBX 326.1; // BETRIEBSART EDIT
UN  DB20.DBX 326.2; // BETRIEBSART MDI
UN  DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
UN  DB20.DBX 327.2; // BETRIEBSART REFERENZ
UN  M 152.0;        // WERKZEUGWECHSEL AKTIV
=   M 151.2         // WERKZEUGWENDER START VON WZW-TASTE
NETWORK
TITLE = KUPP  SCHWENKRICHTUNG MIT DER EILGANGSÜBERLAGERUNGSTASTE BESTIMMEN
U   M 151.2;        // WERKZEUGWENDER START VON WZW-TASTE
U   M 151.0;        // WZW FREIGABE
R   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
R   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
SPBN   M002;
S   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
U   DB20.DBX 295.0  // TASTE 12 AUF MSTT
SPBN   M002;
S   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
R   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
M002:  NOP 0;
NETWORK
TITLE = KUPP  SOLLZÄHLER VON WZW-TASTE SETZEN
CLR
S   Z 52;           // WZW SOLLPOSITIONSZÄHLER
U   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
UN  M 152.0;        // WERKZEUGWECHSEL AKTIV
ZV  Z 52;           // WZW SOLLPOSITIONSZÄHLER
L   Z 52;           // WZW SOLLPOSITIONSZÄHLER
L   13;
>=I;
L   Z#1;            // LADE ZÄHLERKONSTANTE 1 IN AKKU 1 (16 BIT)
S   Z 52;           // WZW SOLLPOSITIONSZÄHLER
U   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
UN  M 152.0;        // WERKZEUGWECHSEL AKTIV
ZR  Z 52;           // WZW SOLLPOSITIONSZÄHLER
L   Z 52;           // WZW SOLLPOSITIONSZÄHLER
L   0;
==I;
L   Z#12;            // LADE ZÄHLERKONSTANTE 8 IN AKKU 1 (16 BIT)
S   Z 52;           // WZW SOLLPOSITIONSZÄHLER
NETWORK
TITLE = KUPP  SETZE ISTZÄHLER MIT POSITIONEN
SET;
R   Z 50;           // ISTZÄHLER
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
=   M 87.0;          // WZW POSITION 1
L   W#16#1;         // LADE KONSTANTE HEX1
S   Z 50;           // ISTZÄHLER=1
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
L   W#16#2;         // LADE KONSTANTE HEX2
S   Z 50;           // ISTZÄHLER=2
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
=   M 87.1;          // WZW POSITION 3
L   W#16#3;         // LADE KONSTANTE HEX3
S   Z 50;           // ISTZÄHLER=3
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
L   W#16#4;         // LADE KONSTANTE HEX4
S   Z 50;           // ISTZÄHLER=4
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
=   M 87.2;          // WZW POSITION 5
L   W#16#5;         // LADE KONSTANTE HEX5
S   Z 50;           // ISTZÄHLER=5
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
L   W#16#6;         // LADE KONSTANTE HEX6
S   Z 50;           // ISTZÄHLER=6
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
=   M 87.3;          // WZW POSITION 7
L   W#16#7;         // LADE KONSTANTE HEX7
S   Z 50;           // ISTZÄHLER=7
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
L   W#16#8;         // LADE KONSTANTE HEX8
S   Z 50;           // ISTZÄHLER=8
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
=   M 87.4;          // WZW POSITION 9
L   W#16#9;         // LADE KONSTANTE HEX9
S   Z 50;           // ISTZÄHLER=9
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
L   W#16#A;         // LADE KONSTANTE HEXA
S   Z 50;           // ISTZÄHLER=10
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
=   M 87.5;          // WZW POSITION 11
L   W#16#B;         // LADE KONSTANTE HEXB
S   Z 50;           // ISTZÄHLER=11
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
L   W#16#C;         // LADE KONSTANTE HEXC
S   Z 50;           // ISTZÄHLER=12
NETWORK
TITLE = KUPP  6046  WZW ENCODER DEFEKT
;POSITION 0:
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
UN  E 4.2;          // WZW ENCODER BIT2
UN  E 4.3;          // WZW ENCODER BIT3
=   M 154.0
;POSITION 15:
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
=   M 154.1
;POSITION 14:
U   E 4.4;          // WZW STROBE
UN  E 4.0;          // WZW ENCODER BIT0
U   E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
=   M 154.2
;POSITION 13:
U   E 4.4;          // WZW STROBE
U   E 4.0;          // WZW ENCODER BIT0
UN  E 4.1;          // WZW ENCODER BIT1
U   E 4.2;          // WZW ENCODER BIT2
U   E 4.3;          // WZW ENCODER BIT3
=   M 154.3
O   M 154.0
O   M 154.1
O   M 154.2
O   M 154.3
L   S5T#200MS;      // 200MS
SE  T 1;            // STARTEN T 1 ALS EINSCHALTVERZ.
U   T 1;            // STARTEN T 1 ALS EINSCHALTVERZ.
S   DB2.DBX 5.6;    // 6046  WZW ENCODER DEFEKT
R   Z 50;           // ISTZÄHLER
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.6;    // 6046  WZW ENCODER DEFEKT
NETWORK
TITLE = KUPP  SOLLZÄHLER VON ISTZÄHLER SETZEN
CLR
S   Z 52;           // SOLLZÄHLER
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
UN  M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
UN  DB2.DBX 5.6;    // 6046  WZW ENCODER DEFEKT
SPBN   M003
L   Z 50;           // ISTZÄHLER
S   Z 52;           // SOLLZÄHLER
T   DB20.DBW 356;   // AKTIVES WERKZEUG IN DB20
M003:  NOP 0
NETWORK
TITLE = KUPP  SOLLZÄHLER AUS DEN SETTINGDATEN SETZEN
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
U   M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
UN  DB2.DBX 5.6;    // 6046  WZW ENCODER DEFEKT
SPBN   M004
L   DB15.DBW 25;    // WERKZEUGPOSITION IN DEN SETTINGDATEN
L   W#16#2;         // LADE HEX 2
+I;
S   Z 52;           // SOLLZÄHLER
M004:  NOP 0
NETWORK
TITLE = KUPP  T-WORT KLEINER 1
L   DB20.DBW 184;   // LADE T-WORT
L   W#16#1;         // LADE KONSTANTE HEX 1
<I;                 // VERGLEICH AUF KLEINER
U   DB20.DBX 182.0; // NEUES T-WORT
=   M 155.1         // T-WORT KLEINER 1
NETWORK
TITLE = KUPP  T-WORT GRÖSSER 8
L   DB20.DBW 184;   // LADE T-WORT
L   W#16#12;         // LADE KONSTANTE HEX 12
>I;                 // VERGLEICH AUF GRÖSSER
U   DB20.DBX 182.0; // NEUES T-WORT
=   M 155.0         // T-WORT GRÖSSER 12
NETWORK
TITLE = KUPP  7000  FALSCHES T-WORT
O   M 155.1         // T-WORT KLEINER 1
O   M 155.0         // T-WORT GRÖSSER 12
S   M 16.0;         // HM 7000  FALSCHES T-WORT
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   M 16.0;         // 7000  FALSCHES T-WORT
NETWORK
TITLE = KUPP  T-WORT UNGLEICH ISTZÄHLER
L   DB20.DBW 184;   // T-WORT
L   Z50;            // ISTZÄHLER
<>I;                // VERGLEICH AUF UNGLEICH
=   M 155.2         // T-WORT UNGLEICH ISTZÄHLER
NETWORK
TITLE = KUPP  WZW/T-WORT GÜLTIG
U   DB20.DBX 182.0; // NEUES T-WORT
UN  M 155.1         // T-WORT KLEINER 1
UN  M 155.0         // T-WORT GRÖSSER 12
U   M 155.2         // T-WORT UNGLEICH ISTZÄHLER
UN  M 152.0         // WERKZEUGWENDEN AKTIV
UN  M 16.0;         // HM 7000  FALSCHES T-WORT
UN  M 18.5;         // HM 7021  WERKZEUGWENDER FREIFAHREN
S   M 86.0;         // WZW/T-WORT GÜLTIG
S   M 90.3;         // WZW  AFG/EFG
U   M 86.0;         // WZW/T-WORT GÜLTIG
UN  M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
S   M 86.1          // AWZ AUSSCHALTEN
U   M 86.0;         // WZW/T-WORT GÜLTIG
U   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
UN  M 51.4;         // SAUTER473.512 WZW AWZ-AUSGEKUPPELT
R   M 54.4;         // AUSGANGSMERKER WZW AWZ-EINKUPPELN
S   M 58.6;         // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
U   M 86.0;         // WZW/T-WORT GÜLTIG
U   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
U   M 51.4;         // SAUTER473.512 WZW AWZ-AUSGEKUPPELT
U   M 58.6;         // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
U   M 51.4          // SAUTER473.512 WZW AWZ-AUSGEKUPPELT
R   M 86.0;         // WZW/T-WORT GÜLTIG
=   M 151.1;        // WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
NETWORK
TITLE = KUPP  SOLLZÄHLER LADEN VON GÜLTIGEM T-WORT
U   M 151.0;        // WZW FREIGABE
U   M 151.1;        // WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
SPBN   M005;
SET;
L   DB20.DBW 184;   // LADE T-WORT
S   Z 52;           // LADE SOLLZÄHLER
M005:  NOP 0;
NETWORK
TITLE = KUPP  SOLLZÄHLER=ISTZÄHLER
L   Z 50;           // LADE ISTZÄHLER
L   Z 52;           // LADE SOLLZÄHLER
==I;                // VERGLEICH AUF GLEICH
=   M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
NETWORK
TITLE = KUPP  STEUERUNG ZUM SCHWENKEN DES WERKZEUGWENDERS
U   M 151.1;        // WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
CC    FC 51;          // STEUERUNG ZUM SCHWENKEN DES WERKZEUGWENDERS
NETWORK
TITLE = KUPP  ANZEIGE AKTUELLE WERKZEUGNUMMER
U   M 151.4         // HM WERKZEUGWENDEN ABGESCHLOSSEN
R   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
R   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
R   M 152.0;        // WERKZEUGWECHSEL AKTIV
SPBN   M006;           // SPRUNG BEDINGT
L   Z 50            // WZW ISTPOSITIONSZÄHLER
T   DB20.DBW 356;   // AKTIVES WERKZEUG IN DB20
T   DB15.DBW 25;    // WERKZEUGPOSITION IN DEN SETTINGDATEN
L   0
T   DB15.DBB 40     // WZW ABGEBROCHEN IN DEN SETTINGDATEN SPEICHERN
=   DB20.DBX 348.3; // ANFORDERUNG ZUM SOFORTIGEN SETTINGDATENSICHERN
R   M 90.3;         // WZW  AFG/EFG
R   M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
R   M 151.4         // HM WERKZEUGWENDEN ABGESCHLOSSEN
M006:  NOP 0;
NETWORK
TITLE = KUPP  AFG UND EFG WEGNEHMEN
O   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
FP  M 150.5;        // FM WZW STARTBEFEHL IN PLUSRICHTUNG
O   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
FP  M 150.6;        // FM WZW STARTBEFEHL IN MINUSRICHTUNG
O   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
O   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
S   M 152.0;        // WERKZEUGWECHSEL AKTIV
NETWORK
TITLE = KUPP  WERKZEUGPOSITION IN DEN SETTINGDATEN SPEICHERN
O   M 150.5;        // FM WZW STARTBEFEHL IN PLUSRICHTUNG
O   M 150.6;        // FM WZW STARTBEFEHL IN MINUSRICHTUNG
SPBN   M007;
L   Z 50;           // LADE ISTZÄHLER
T   DB15.DBW 25;    // WERKZEUGPOSITION IN DEN SETTINGDATEN
S   DB15.DBX 40.0   // WZW ABGEBROCHEN IN DEN SETTINGDATEN SPEICHERN
=   DB20.DBX 348.3; // ANFORDERUNG ZUM SOFORTIGEN SETTINGDATENSICHERN
M007:  NOP 0;
NETWORK
TITLE = KUPP  STEUERUNG ZUM SCHWENKEN DES WERKZEUGWENDERS IN PLUSRICHTUNG
U   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
UN  M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
CC    FC 52;          // SCHWENKEN DES WERKZEUGWENDERS IN PLUSRICHTUNG
NETWORK
TITLE = KUPP  STEUERUNG ZUM SCHWENKEN DES WERKZEUGWENDERS IN MINUSRICHTUNG
U   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
UN  M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
CC    FC 53;          // SCHWENKEN DES WERKZEUGWENDERS IN MINUSRICHTUNG
NETWORK
TITLE = KUPP  SPS/OB-->WZW VERRIEGELT
U   M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
U   E 4.5;          // BERO VORINDEXIERUNG
=   DB20.DBX 310.0; // SPS/RM-->WZW VERRIEGELT
NETWORK
TITLE = KUPP  WZW/FC DNC-QUITTUNG
U   DB1.DBX 1366.0; // DNC-BETRIEB AKTIV
U   DB20.DBX 302.0; // DNC/WZW SCHWENKEN
UN  M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
UN  M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
S   DB1.DBX 1398.1; // WZW/FC DNC-QUITTUNG
NETWORK
TITLE = KUPP  MELDUNG 7021  WERKZEUGWENDER FREIFAHREN
U   M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
=   M 18.5;         // HM 7021  WERKZEUGWENDER FREIFAHREN
FP  M 150.7         // FM MELDUNG 7021 "WERKZEUGWENDER FREIFAHREN"
NETWORK
TITLE = KUPP Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
U   M 151.4         // HM WERKZEUGWENDEN ABGESCHLOSSEN
S   M 151.5         // Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
O   M 151.1;        // WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
O   M 151.2;        // WERKZEUGWENDER START VON WZW-TASTE
R   M 151.5         // Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
NETWORK
TITLE = KUPP  ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
ON  M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
ON  E 4.5;          // BERO VORINDEXIERUNG
ON  E 4.4;          // WZW STROBE
UN  M 152.0;        // WERKZEUGWENDEN AKTIV
UN  M 153.0;        // WERKZEUWENDEN ABGEBROCHEN
U   M 151.5         // Freigabe für ALARM 6040 STAT.VERRIEGELUNGSÜBERW.
L   S5T#300MS;      // 300MS
SE  T 71;           // STARTEN ALS EINSCHALTVERZ.
U   T 71;
S   DB2.DBX 5.0;    // 6040 STAT.VERRIEGELUNGSÜBERW.
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.0;    // 6040 STAT.VERRIEGELUNGSÜBERW.
NETWORK
TITLE = KUPP  // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
U   M 152.0;        // WERKZEUGWENDEN AKTIV
L   S5T#10S;         // 4S
SE  T 50;           // STARTEN ALS EINSCHALTVERZ.
U   T 50;           // STARTEN ALS EINSCHALTVERZ.
S   DB2.DBX 5.1;    // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.1;    // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
END_FUNCTION
FUNCTION FC 51 : VOID
NAME: STEUERUNG ZUM SCHWENKEN DES WERKZEUGWENDERS
BEGIN
NETWORK
TITLE = SCHWENKRICHTUNG LÖSCHEN
SET;
R   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
R   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
NETWORK
TITLE = DIFFERENZ T-WORT/ISTZÄHLER
L   DB20.DBW 184;   // LADE T-WORT
L   Z 50;           // LADE ISTZÄHLER
-I;                 // SUBTRAKTION
T   MW 156;         // TRANSFERIERE MW156
NETWORK
TITLE = ZÄHLERDIFFERENZ < 0
L   MW 156;         // LADE MW 156
L   0;              // LADE KONSTANTE DEZ 0
>=I;                // VERGLEICH AUF GRÖSSER GLEICH
SPB   M001;
L   MW 156;         // LADE MW 156
L   12;             // LADE KONSTANTE DEZ 12
+I;                 // ADDITION
T   MW 156;         // TRANSFERIERE IN MW 156
M001:  NOP 0;
NETWORK
TITLE = ZÄHLERDIFFERENZ > 4
L   MW 156;         // LADE MW 156
L   6;              // LADE KONSTANTE DEZ 6
<=I;                // VERGLEICH AUF KLEINER GLEICH
S   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
SPB   M002;
S   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
M002:  NOP 0;
END_FUNCTION
FUNCTION FC 52 : VOID
NAME: SCHWENKEN DES WERKZEUGWENDERS IN PLUSRICHTUNG
BEGIN
NETWORK
TITLE = VORWÄRTSSCHÜTZ EINSCHALTEN
U   M 150.5;        // FM WZW STARTBEFEHL IN PLUSRICHTUNG
S   M 55.3          // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
NETWORK
TITLE = 1. VORINDEXIERMAGNET EINSCHALTEN
U   M 55.3          // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
U   M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
S   M 151.3         // ZWISCHENMERKER VORINDEXIERUNG
U   M 151.3         // ZWISCHENMERKER VORINDEXIERUNG
U   M 150.1;        // FM STROBE NEGATIV
R   M 151.3         // ZWISCHENMERKER VORINDEXIERUNG
S   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
FP  M 152.1;
NETWORK
TITLE = 2. RÜCKWÄRTSSCHÜTZ EINSCHALTEN
UN  M 152.1;
U   M 55.3          // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
U   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
U   M 150.3;        // FM BERO VORINDEXIERUNG NEGATIV
R   M 55.3          // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
S   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
FP  M 152.2;
NETWORK
TITLE = 3. RÜCKWÄRTSSCHÜTZ UND VORINDEXIERMAGNET AUSSCHALTEN
UN  M 152.2;
U   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
U   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
U   M 150.0;        // FM STROBE POSITIV
U   M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
R   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
R   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
NETWORK
TITLE = WERKZEUGWENDER VERRIEGELUNGSKONTROLLE
U   M 155.3;        // NEUE WZW POSITION IST IN PLUSRICHTUNG
U   M 150.2;        // FM BERO VORINDEXIERUNG POSITIV
U   M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
UN  M 55.3          // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
UN  M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
UN  M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
S   M 151.4         // HM WERKZEUGWENDEN ABGESCHLOSSEN
END_FUNCTION
FUNCTION FC 53 : VOID
NAME: SCHWENKEN DES WERKZEUGWENDERS IN MINUSRICHTUNG
BEGIN
NETWORK
TITLE = RÜCKWÄRTSSCHÜTZ EINSCHALTEN
O   M 150.6;        // FM WZW STARTBEFEHL IN MINUSRICHTUNG
S   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
NETWORK
TITLE = 1. VORINDEXIERMAGNET EINSCHALTEN
U   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
U   M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
S   M 151.3         // ZWISCHENMERKER VORINDEXIERUNG
U   M 151.3         // ZWISCHENMERKER VORINDEXIERUNG
U   M 150.1;        // FM STROBE NEGATIV
R   M 151.3         // ZWISCHENMERKER VORINDEXIERUNG
S   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
FP  M 152.3;
NETWORK
TITLE = 2. VORWÄRTSSCHÜTZ EINSCHALTEN
UN  M 152.3;
U   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
U   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
U   M 150.3;        // FM BERO VORINDEXIERUNG NEGATIV
R   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
;       S   M 250.1
;
;       U   M 250.1
;       L   S5T#20MS;       // 20MS
;       SE  T 21
;
;       U   T 21
S   M 55.3          // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
;       R   M 250.1
FP  M 152.4;
NETWORK
TITLE = 3. VORWÄRTSSCHÜTZ UND VORINDEXIERMAGNET AUSSCHALTEN
UN  M 152.4;
U   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
U   M 55.3          // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
U   M 150.0;        // FM STROBE POSITIV
U   M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
R   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
R   M 55.3          // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
NETWORK
TITLE = WERKZEUGWENDER VERRIEGELUNGSKONTROLLE
U   M 155.4;        // NEUE WZW POSITION IST IN MINUSRICHTUNG
U   M 150.2;        // FM BERO VORINDEXIERUNG POSITIV
U   M 155.5         // SOLLZÄHLER GLEICH ISTZÄHLER
UN  M 55.3          // AUSGANGSMERKER WZW-VORWÄRTSSCHÜTZ
UN  M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
UN  M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
S   M 151.4         // HM WERKZEUGWENDEN ABGESCHLOSSEN
END_FUNCTION
FUNCTION FC 100: VOID
NAME: EMCO WERKZEUGWENDER
BEGIN
NETWORK
TITLE = EMCO  WZW FREIGABE
UN  DB20.DBX 326.1;  // BETRIEBSART EDIT
UN  M 90.0;          // AUX-ON  AFG/EFG
U(  ;
ON  DB10.DBX 75.1;   // SPS-MSD /PINOLE
O   M 141.2;         // PINOLE ENDLAGE HINTEN
O   M 141.3;         // PINOLE GESPANNT
)   ;
UN  M 91.1;          // SUM ALARME  AFG/EFG
=   M 124.0;         // WZW FREIGABE
NETWORK
TITLE = EMCO FM TASTE WZW (MSTT/PC)
;       UN  E 7.7;           // FMS BETRIEB AKTIV
U   DB20.DBX 294.5;  // TASTE WZW (MSTT/PC)
FP  M 124.7;         // FM WZW TASTE
NETWORK
TITLE = EMCO  WZW/SCHWENK GÜLTIG
U(  ;
O   M 124.7;         // FM WZW TASTE
O   DB20.DBX 302.0;  // DNC/WZW SCHWENKEN
)   ;
UN  DB20.DBX 324.0;  // PROGRAMM LÄUFT
UN  M 131.7;         // ACHSEN IN BEWEGUNG
UN  M 126.6;         // WERKZEUGWECHSEL AKTIV
UN  M 105.3;         // SUM ALARME 4/WZW HARDWAREFEHLER
=   M 125.7;         // WZW/SCHWENK GÜLTIG
NETWORK
TITLE = EMCO  SETZE ISTZÄHLER MIT POSITIONEN
U   E 4.0;           // WZW ENCODER BIT0
U   E 4.1;           // WZW ENCODER BIT1
U   E 4.2;           // WZW ENCODER BIT2
UN  E 4.3;           // WZW ENCODER BIT3
L   W#16#1;          // LADE KONSTANTE HEX1
S   Z 1;             // ISTZÄHLER=1
U   E 4.0;           // WZW ENCODER BIT0
U   E 4.1;           // WZW ENCODER BIT1
UN  E 4.2;           // WZW ENCODER BIT2
UN  E 4.3;           // WZW ENCODER BIT3
L   W#16#2;          // LADE KONSTANTE HEX2
S   Z 1;             // ISTZÄHLER=2
U   E 4.0;           // WZW ENCODER BIT0
U   E 4.1;           // WZW ENCODER BIT1
UN  E 4.2;           // WZW ENCODER BIT2
U   E 4.3;           // WZW ENCODER BIT3
L   W#16#3;          // LADE KONSTANTE HEX3
S   Z 1;             // ISTZÄHLER=3
U   E 4.0;           // WZW ENCODER BIT0
UN  E 4.1;           // WZW ENCODER BIT1
UN  E 4.2;           // WZW ENCODER BIT2
U   E 4.3;           // WZW ENCODER BIT3
L   W#16#4;          // LADE KONSTANTE HEX4
S   Z 1;             // ISTZÄHLER=4
U   E 4.0;           // WZW ENCODER BIT0
UN  E 4.1;           // WZW ENCODER BIT1
U   E 4.2;           // WZW ENCODER BIT2
U   E 4.3;           // WZW ENCODER BIT3
L   W#16#5;          // LADE KONSTANTE HEX5
S   Z 1;             // ISTZÄHLER=5
UN  E 4.0;           // WZW ENCODER BIT0
UN  E 4.1;           // WZW ENCODER BIT1
U   E 4.2;           // WZW ENCODER BIT2
U   E 4.3;           // WZW ENCODER BIT3
L   W#16#6;          // LADE KONSTANTE HEX6
S   Z 1;             // ISTZÄHLER=6
UN  E 4.0;           // WZW ENCODER BIT0
U   E 4.1;           // WZW ENCODER BIT1
U   E 4.2;           // WZW ENCODER BIT2
U   E 4.3;           // WZW ENCODER BIT3
L   W#16#7;          // LADE KONSTANTE HEX7
S   Z 1;             // ISTZÄHLER=7
UN  E 4.0;           // WZW ENCODER BIT0
U   E 4.1;           // WZW ENCODER BIT1
U   E 4.2;           // WZW ENCODER BIT2
UN  E 4.3;           // WZW ENCODER BIT3
L   W#16#8;          // LADE KONSTANTE HEX8
S   Z 1;             // ISTZÄHLER=8
NETWORK
TITLE = EMCO  T-WORT KLEINER 1
L   DB20.DBW 184;    // LADE T-WORT
L   W#16#1;          // LADE KONSTANTE HEX 1
<I  ;                // VERGLEICH AUF KLEINER
U   DB20.DBX 182.0;  // NEUES T-WORT
=   M 125.1;         // T-WORT KLEINER 1
NETWORK
TITLE = EMCO  T-WORT GRÖSSER 8
L   DB20.DBW 184;    // LADE T-WORT
L   W#16#8;          // LADE KONSTANTE HEX 8
>I  ;                // VERGLEICH AUF GRÖSSER
U   DB20.DBX 182.0;  // NEUES T-WORT
=   M 125.2;         // T-WORT GRÖSSER 8
NETWORK
TITLE = EMCO  T-WORT UNGLEICH ISTZÄHLER
L   DB20.DBW 184;    // T-WORT
L   Z 1;             // ISTZÄHLER
<>I ;                // VERGLEICH AUF UNGLEICH
U   DB20.DBX 182.0;  // NEUES T-WORT
=   M 125.3;         // T-WORT UNGLEICH ISTZÄHLER
NETWORK
TITLE = EMCO  WZW/T-WORT GÜLTIG
U   DB20.DBX 182.0;  // NEUES T-WORT
UN  M 125.1;         // T-WORT KLEINER 1
UN  M 125.2;         // T-WORT GRÖSSER 8
U   M 125.3;         // T-WORT UNGLEICH ISTZÄHLER
UN  M 126.6;         // WERKZEUGWECHSEL AKTIV
=   M 125.4;         // WZW/T-WORT GÜLTIG
NETWORK
TITLE = EMCO  SOLLZÄHLER/WZW T-WORT
ON  M 124.0;         // WZW FREIAGBE
ON  M 125.4;         // WZW/T-WORT GÜLTIG
SPB   M1;              // SPRUNG BEDINGT
SET;
L   DB20.DBW 184;    // LADE T-WORT
S   Z 8;             // LADE SOLLZÄHLER
M1:    NOP 0;
NETWORK
TITLE = EMCO  SOLLZÄHLER/WZW SCHWENK GÜLTIG
L   Z 8;             // LADE SOLLZÄHLER
L   W#16#8;          // LADE KONSTANTE HEX 8
==I ;                // VERGLEICH AUF GLEICH
U   M 124.0;         // WZW FREIGABE
U   M 125.7;         // WZW/SCHWENK GÜLTIG
R   Z 8;             // RÜCKSETZE SOLLZÄHLER
NETWORK
TITLE = EMCO  SOLLZÄHLER/WZW SCHWENK GÜLTIG
U   M 124.0;         // WZW FREIGABE
U   M 125.7;         // WZW/SCHWENK GÜLTIG
ZV  Z 8;             // SOLLZÄHLER
NETWORK
TITLE = EMCO  WZW STARTBEFEHL
U   M 124.0;         // WZW FREIGABE
U(  ;
O   M 125.7;         // WZW/SCHWENK GÜLTIG
O   M 125.4;         // WZW/T-WORT GÜLTIG
)   ;
=   M 126.0;         // WZW STARTBEFEHL
NETWORK
TITLE = EMCO  WZW STARTBEFEHL/WZW TASTE
U   M 126.0;         // WZW STARTBEFEHL
U   M 125.7;         // WZW/SCHWENK GÜLTIG
S   M 126.1;         // WZW STARTBEFEHL/WZW TASTE
NETWORK
TITLE = EMCO  WZW STARTBEFEHL/T-WORT GÜLTIG
U   M 126.0;         // WZW STARTBEFEHL
U   M 125.4;         // WZW/T-WORT GÜLTIG
S   M 126.2;         // WZW STARTBEFEHL/T-WORT GÜLTIG
NETWORK
TITLE = EMCO  SETZEN SM ZIELPOSITION SUCHEN
U   M 126.0;         // WZW STARTBEFEHL
S   M 127.0;         // SM ZIELPOSITION SUCHEN
NETWORK
TITLE = EMCO  SOLLZÄHLER IST ISTZÄHLER
L   Z 8;             // LADE SOLLZÄHLER
L   Z 1;             // LADE ISTZÄHLER
==I ;                // VERGLEICH AUF GLEICH
=   M 126.3;         // SOLLZÄHLER IST ISTZÄHLER
NETWORK
TITLE = EMCO  SETZEN SM VERR.POSITION SUCHEN
O   M 126.1;         // WZW STARTBEFEHL/WZW TASTE
O   M 126.2;         // WZW STARTBEFEHL/GÜLTIGES T-WORT
U   M 126.3;         // SOLLZÄHLER IST ISTZÄHLER
R   M 127.0;         // SM ZIELOSITION SUCHEN
S   M 127.2;         // SM VERRIEGELUNGSPOSITION SUCHEN
R   M 126.1;         // WZW STARTBEFEHL/TASTE WZW
R   M 126.2;         // WZW STARTBEFEHL/T-WORT GÜLTIG
NETWORK
TITLE = EMCO  SETZEN SM VERRIEGELN/SCHRITTK.
L   DB10.DBW 4;      // LADE ZEIT AUS SPS-MSD
ITB;                 // UMWANDELN EINER GANZZAHL IN EINEN BCD-WERT
T   MW 162;          // TRANSFERIERE IN MW162
SET
=   M 163.4;         // SETZE ZEITRASTER 0,1S
U   M 127.2;         // SM VERRIEGELUNGSPOSITION SUCHEN
L   MW 162;          // LADE MW162
SE  T 65;            // STARTEN  ALS EINSCHALTVERZ.
U   T 65;            // VERRIEGELUNGSSUCHZEIT ABGELAUFEN
R   M 127.2;         // SM VERRIEGELUNGSPOSITION SUCHEN
S   M 127.3;         // SM VERRIEGELN
NETWORK
TITLE = EMCO  SM VERRIEGELN/2.SPS-DURCHLAUF
U   DB1.DBX 1370.0;  // 1.SPS-SCHLEIFENDURCHLAUF
UN  DB15.DBX 16.0;   // SPS-SET /WZW SUM ABBRECHEN
S   M 127.3;         // SM VERRIEGELN
NETWORK
TITLE = EMCO  RÜCKSETZEN SUM ABBRECHEN
U   M 125.0;         // SUM ABBRECHEN
U   M 127.3;         // SM VERRIEGELN
U   E 4.4;           // WZW VERRIEGELT
R   M 125.0;         // SUM ABBRECHEN
NETWORK
TITLE = EMCO  WERKZEUGWECHSEL AKTIV
U   M 126.0;         // WZW STARTBEFEHL
S   M 126.6;         // WERKZEUGWECHSEL AKTIV
U   M 127.3;         // SM VERRIEGELN
U   E 4.4;           // WZW VERRIEGELT
R   M 126.6;         // WERKZEUGWECHSEL AKTIV
R   M 127.3;         // SM VERRIEGELN
NETWORK
TITLE = EMCO  FM WZW VERRIEGELT
U   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
U   E 4.4;           // WZW VERRIEGELT
FP  M 125.6;         // FM WZW VERRIEGELT
NETWORK
TITLE = EMCO  6040  STAT.VERRIEGELUNGSÜBERW.
U   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET
U   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
UN  E 4.4;           // WZW VERRIEGELT
L   S5T#3S;          // 3 SEKUNDEN
SE  T 26;            // STARTEN T 26 ALS EINSCHALTVERZ.
UN  DB1.DBX 1370.0;  // 1.SPS-SCHLEIFENDURCHLAUF
U   M 124.0;         // WZW FREIGABE
UN  M 126.6;         // WERKZEUGWECHSEL AKTIV
UN  M 125.0;         // SUM ABBRECHEN
U(  ;
ON  M 126.3;         // SOLLZÄHLER IST ISTZÄHLER
O   T 26;            // VERZÖGERUNGSZEIT ABGELAUFEN
)   ;
S   DB2.DBX 5.0;     // 6040  STAT.VERRIEGELUNGSÜBERW.
O   DB1.DBX 1370.2;  // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3;  // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.0;     // 6040  STAT.VERRIEGELUNGSÜBERW.
NETWORK
TITLE = EMCO  6041  ZEITÜBERWACHUNG VW
L   Z 1;             // LADE ISTZÄHLER
L   W#16#1;          // LADE KONSTANTE HEX 1
==I ;                // VERGLEICH AUF GLEICH
U   M 127.0;         // SM ZIELPOSITION SUCHEN
L   S5T#2S500MS;     // 25X0,1S
SE  T 11;            // STARTEN T 11 ALS EINSCHALTVERZ.
L   Z 1;             // LADE ISTZÄHLER
L   W#16#2;          // LADE KONSTANTE HEX 2
==I ;                // VERGLEICH AUF GLEICH
U   M 127.0;         // SM ZIELPOSITION SUCHEN
L   S5T#2S500MS;     // 25X0,1S
SE  T 12;            // STARTEN T 12 ALS EINSCHALTVERZ.
L   Z 1;             // LADE ISTZÄHLER
L   W#16#3;          // LADE KONSTANTE HEX 3
==I ;                // VERGLEICH AUF GLEICH
U   M 127.0;         // SM ZIELPOSITION SUCHEN
L   S5T#2S500MS;     // 25X0,1S
SE  T 13;            // STARTEN T 13 ALS EINSCHALTVERZ.
L   Z 1;             // LADE ISTZÄHLER
L   W#16#4;          // LADE KONSTANTE HEX 4
==I ;                // VERGLEICH AUF GLEICH
U   M 127.0;         // SM ZIELPOSITION SUCHEN
L   S5T#2S500MS;     // 25X0,1S
SE  T 14;            // STARTEN T 14 ALS EINSCHALTVERZ.
L   Z 1;             // LADE ISTZÄHLER
L   W#16#5;          // LADE KONSTANTE HEX 5
==I ;                // VERGLEICH AUF GLEICH
U   M 127.0;         // SM ZIELPOSITION SUCHEN
L   S5T#2S500MS;     // 25X0,1S
SE  T 15;            // STARTEN T 15 ALS EINSCHALTVERZ.
L   Z 1;             // LADE ISTZÄHLER
L   W#16#6;          // LADE KONSTANTE HEX 6
==I ;                // VERGLEICH AUF UNGLEICH
U   M 127.0;         // SM ZIELPOSITION SUCHEN
L   S5T#2S500MS;     // 25X0,1S
SE  T 60;            // STARTEN T 60 ALS EINSCHALTVERZ.
L   Z 1;             // LADE ISTZÄHLER
L   W#16#7;          // LADE KONSTANTE HEX 7
==I ;                // VERGLEICH AUF GLEICH
U   M 127.0;         // SM ZIELPOSITION SUCHEN
L   S5T#2S500MS;     // 25X0,1S
SE  T 17;            // STARTEN T 17 ALS EINSCHALTVERZ.
L   Z 1;             // LADE ISTZÄHLER
L   W#16#8;          // LADE KONSTANTE HEX 8
==I ;                // VERGLEICH AUF GLEICH
U   M 127.0;         // SM ZIELOOSITION SUCHEN
L   S5T#2S500MS;     // 25X0,1S
SE  T 18;            // STARTEN T 18 ALS EINSCHALTVERZ.
O   T 11;
O   T 12;
O   T 13;
O   T 14;
O   T 15;
O   T 60;
O   T 17;
O   T 18;
S   DB2.DBX 5.1;     // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
O   DB1.DBX 1370.2;  // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3;  // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.1;     // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
NETWORK
TITLE = EMCO  6043  ZEITÜBERW.RW
L   DB10.DBW 6;      // LADE ZEIT AUS SPS-MSD
ITB;                 // UMWANDELN EINER GANZZAHL IN EINEN BCD-WERT
T   MW 160;          // TRANSFERIERE IN MW160
SET;
=   M 161.4;         // SETZE ZEITRASTER 0,1S
UN  M 90.0;          // AUX-ON  AFG/EFG
U   M 127.3;         // SM VERRIEGELN
L   MW160;           // LADE MW160
SE  T 19;            // STARTEN T 19 ALS EINSCHALTVERZ.
U   T 19;            // ZEIT RW ABGELAUFEN
S   DB2.DBX 5.3;     // 6043  ZEITÜBERW.RW
O   DB1.DBX 1370.2;  // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3;  // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.3;     // 6043  ZEITÜBERW.RW  NETWORK
NETWORK
TITLE = EMCO  6046  WZW ENCODER DEFEKT
UN  E 4.0;           // WZW ENCODER BIT0
UN  E 4.1;           // WZW ENCODER BIT1
UN  E 4.2;           // WZW ENCODER BIT2
UN  E 4.3;           // WZW ENCODER BIT3
O   ;
U   E 4.0;
UN  E 4.1;
UN  E 4.2;
UN  E 4.3;
O   ;
UN  E 4.0;
U   E 4.1;
UN  E 4.2;
UN  E 4.3;
O   ;
UN  E 4.0;
UN  E 4.1;
U   E 4.2;
UN  E 4.3;
O   ;
U   E 4.0;
UN  E 4.1;
U   E 4.2;
UN  E 4.3;
O   ;
UN  E 4.0;
UN  E 4.1;
UN  E 4.2;
U   E 4.3;
O   ;
UN  E 4.0;
U   E 4.1;
UN  E 4.2;
U   E 4.3;
O   ;
U   E 4.0;
U   E 4.1;
U   E 4.2;
U   E 4.3;
S   DB2.DBX 5.6;     // 6046  WZW ENCODER DEFEKT
O   DB1.DBX 1370.2;  // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3;  // RESET-TASTE GEDRUECKT
R   DB2.DBX 5.6;     // 6046  WZW ENCODER DEFEKT
NETWORK
TITLE = EMCO  SUM ALARME 4/WZW HARDWAREFEHLER
L   DB2.DBW 5;       // WORT ALARME 4
L   W#16#0;          // LADE KONSTANTE HEX 0
<>I   ;              // VERGLEICH AUF UNGLEICH
=   M 105.3;         // SUM ALARME 4/WZW HARDWAREFEHLER
NETWORK
TITLE = EMCO  ABBRUCHBEDINGUNGEN SCHRITTKETTE
UN  M 126.6;         // WERKZEUGWECHSEL AKTIV
SPB   M2;
ON  M 110.0;         // AUX-ON
O   M 105.3;         // SUM ALARME 4/WZW HARDWAREFEHLER
O   DB1.DBX 1440.0   // RESET AUSGELÖST
O   DB1.DBX 1370.3;  // RESETTASTE GEDRÜCKT
S   M 125.0;         // SUM ABBRECHEN
U   M 110.0;         // AUX-ON
UN  M 105.3;         // SUM ALARME 4/WZW HARDWAREFEHLER
O   DB1.DBX 1440.0   // RESET AUSGELÖST
UN  DB1.DBX 1370.3;  // RESETTASTE GEDRÜCKT
SPB   M2;              // SPRUNG BEDINGT
SET;
L   W#16#0;          // LADE KONSTANTE HEX 0
T   MB 126;          // TRANSFERIERE IN MB126
T   MB 127;          // TRANSFERIERE IN MB127
M2:    NOP 0;
NETWORK
TITLE = EMCO  FM SUM ABBRECHEN
U   M 125.0;         // SUM ABBRECHEN
FP  M 124.5;         // FM SUM ABBRECHEN
NETWORK
TITLE = EMCO  /FM SUM ABBRECHEN
U   M 125.0;         // SUM ABBRECHEN
FN  M 124.3;         // FM SUM ABBRECHEN
NETWORK
TITLE = EMCO  SICHERN SUM ABBRECHEN/SPS-MSD
UN  M 124.5;         // FM SUM ABBRECHEN
UN  M 124.3;         // /FM SUM ABBRECHEN
UN  M 125.6;         // FM WZW VERRIEGELT
SPB   M3;              // SPRUNG BEDINGT
U   M 125.0;         // SUM ABBRECHEN
=   DB15.DBX 16.0;   // SPS-SET /WZW SUM ABBRECHEN
M3:    NOP 0;
NETWORK
TITLE = EMCO  LADE SOLLZÄHLER MIT ISTZÄHLER
O   DB1.DBX 1370.0;  // 1.SPS-SCHLEIFENDURCHLAUF
O   M 124.5;         // FM SUM ABBRECHEN
O   DB2.DBX 5.0;     // 6040  STAT. VERRIEGELUNGSÜBERW.
L   Z 1;             // LADE ISTZÄHLER
S   Z 8;             // SETZE SOLLZÄHLER
NETWORK
TITLE = EMCO  WZW LEISTUNG VW
O   M 127.2;         // SM VERRIEGELUNGSPOSITION SUCHEN
O   M 127.0;         // SM ZIELPOSITION SUCHEN
R   M 126.5;         // HM WZW LEISTUNG RW
L   S5T#100MS;       // 100MS
SE  T 20;            // STARTE T 20 ALS EINSCHALTVERZ.
U   T 20;            // VERZÖGERUNGSZEIT ABGELAUFEN
UN  M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
=   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
NETWORK
TITLE = EMCO  WZW LEISTUNG RW
U   M 127.3;         // SM VERRIEGELN
R   M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
L   S5T#100MS;       // 100MS
SE  T 21;            // STARTEN T 21 ALS EINSCHALTVERZ.
U   T 21;            // VERZÖGERUNGSZEIT ABGELAUFEN
S   M 126.5;         // HM WZW LEISTUNG RW
UN  M 90.0;          // AUX-ON  AFG/EFG
U   M 126.5;         // HM WZW LEISTUNG RW
UN  M 55.5;         // AUSGANGSMERKER WZW VORINDEXIERMAGNET  // EMCO WZW LEISTUNG VW
=   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
NETWORK
TITLE = EMCO  WZW  SFG
U   DB15.DBX 16.0;   // SPS-SET /WZW SUM ABBRECHEN
=   M 95.6;          // WZW SUM ABBRECHEN  SFG
NETWORK
TITLE = EMCO  WZW  AFG/EFG
O   M 126.6;         // WERKZEUGWECHSEL AKTIV
O   M 105.3;         // SUM ALARME4/WZW HARDWAREFEHLER
=   M 90.3;          // WZW  AFG/EFG
NETWORK
TITLE = EMCO  WZW SUM ABBRECHEN/NC-STARTVERR.
U   DB15.DBX 16.0;   // SPS-SET /WZW SUM ABBRECHEN
=   M 96.7;          // WZW SUM ABBRECHEN/NC-STARTVERR.
NETWORK
TITLE = EMCO  7021  WZW NICHT VERRIEGELT
U   DB15.DBX 16.0;   // SPS-SET /WZW SUM ABBRECHEN
=   M 18.5;          // HM 7021  WZW NICHT VERRIEGELT
NETWORK
TITLE = EMCO  7000  FALSCHES T-WORT
O   M 125.1;         // T-WORT KLEINER 1
O   M 125.2;         // T-WORT GRÖSSER 8
S   M 16.0;          // HM 7000  FALSCHES T-WORT
O   DB1.DBX 1370.2;  // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3;  // RESET-TASTE GEDRUECKT
R   M 16.0;          // 7000  FALSCHES T-WORT
NETWORK
TITLE = EMCO  ANZEIGE AKTUELLE WERKZEUGNUMMER
U   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
U   E 4.4;           // WZW VERRIEGELT
SPBN   M4;              // SPRUNG BEDINGT
SET;
L   Z 1;             // LADE ISTZÄHLER
T   DB20.DBW 356;    // AKTIVES WERKZEUG IN DB20
M4:    NOP 0;
NETWORK
TITLE = EMCO  SPS/OB-->WZW VERRIEGELT
U   M 55.4;         // AUSGANGSMERKER WZW-RÜCKWÄRTSSCHÜTZ  // EMCO WZW LEISTUNG VW
U   E 4.4;           // WZW VERRIEGELT
=   DB20.DBX 310.0;  // SPS/RM-->WZW VERRIEGELT
NETWORK
TITLE = EMCO  WZW/FC DNC-QUITTUNG
U   DB1.DBX 1366.0;  // DNC-BETRIEB AKTIV
U   DB20.DBX 302.0;  // DNC/WZW SCHWENKEN
UN  M 126.0;         // WZW STARTBEFEHL
S   DB1.DBX 1398.1;  // WZW/FC DNC-QUITTUNG
END_FUNCTION
FUNCTION FC 1 : VOID
NAME: SCHMIERMITTEL und PNEUMATKÖLSTANDÜBERWACHUNG
BEGIN
NETWORK
TITLE = FM WEGIMPULS X-ACHSE
U   DB1.DBX 1422.0; // WEGIMPULS X-ACHSE
ZV  Z 2;            // ZÄHLE VORWÄRTS Z2
NETWORK
TITLE = FM WEGIMPULS Z-ACHSE (2M)
U   DB1.DBX 1422.2; // WEGIMPULS Z-ACHSE
ZV  Z 6;            // ZÄHLE VORWÄRTS Z6
NETWORK
TITLE = WEGINITIALISIERUNG/SCHMIERIMPULS
L   DB10.DBW 10;    // SPS-MSD X-ACHSE ALLE 8 METER EINEN SCHMIERIMPULS
L   Z 2;            // LADE Z2
<=I ;               // VERGLEICH AUF KLEINER GLEICH
O
L   DB10.DBW 14;    // SPS-MSD Z-ACHSE ALLE 8 METER EINEN SCHMIERIMPULS
L   Z 6;            // LADE Z6
<=I ;               // VERGLEICH AUF KLEINER GLEICH
O   DB1.DBX 1374.4; // TASTE AUX-ON (PC)
UN  A 10.7;          // LEISTUNG SCHMIERMITTEL
UN  M 110.1;        // MASCHINENTÜR OFFEN
UN  T 24;           // PAUSENZEIT SCHMIERMITTEL
U   M 110.0;        // AUX-ON
SPBN M3;                 // SPRUNG BEI 0
SET;
R   Z 2;            // RÜCKSETZEN Z2
R   Z 6;            // RÜCKSETZEN Z6
S   A 10.7;          // LEISTUNG SCHMIERMITTEL
U   E  5.6;         // DRUCKSCHALTER SCHMIERMITTEL
S   M 20.6;         // HM 7038  DRUCKSCHALTER SCHM. DEFEKT
M3:   NOP  0;
NETWORK
TITLE = DRUCKSCHALTER SCHMIERMITTEL
U   A 10.7;          // LEISTUNG SCHMIERMITTEL
U   E 5.6;          // DRUCKSCHALTER SCHMIERMITTEL
L   S5T#2S;         // 2S
SE  T 22;           // STARTEN T 22 ALS EINSCHALTVERZ.
NETWORK
TITLE = ÜBERWACHUNGSZEIT SCHMIERMITTEL
U   A 10.7;          // LEISTUNG SCHMIERMITTEL
UN  E  5.6;         // DRUCKSCHALTER SCHMIERMITTEL
L   S5T#20S;        // 20S
SE  T 23;           // STARTEN T 23 ALS EINSCHALTVERZ.
NETWORK
TITLE = RÜCKSETZEN SCHMIERMITTEL
O   T 22;           // DRUCKSCHALTER SCHMIERMITTEL
O   T 23;           // ÜBERWACHUNGSZEIT ABGELAUFEN
ON  M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
ON  E 2.2 ;         // NICHT NOT-AUS
R   A 10.7;          // LEISTUNG SCHMIERMITTEL
NETWORK
TITLE = /FM LEISTUNG SCHMIERMITTEL
U   A 10.7;          // LEISTUNG SCHMIERMITTEL
FP  M 129.1;        // FM LEISTUNG SCHMIERMITTEL
NETWORK
TITLE = PAUSENZEIT SCHMIERMITTEL
U   M 129.1;        // FM LEISTUNG SCHMIERMITTEL
L   S5T#120S;       // 120S
SV  T 24;           // STARTEN T 24 ALS VERL. IMPULS
NETWORK
TITLE = 7039  SCHMIERMITTEL DEFEKT
U   T 23;           // ÜBERWACHUNGSZEIT ABGELAUFEN
S   M 20.7;         // HM 7039  SCHMIERMITTEL DEFEKT
R   A 10.7;          // LEISTUNG SCHMIERMITTEL
R   T 24;           // STARTEN T 24 ALS VERL. IMPULS
U   T 22;           // DRUCKSCHALTER SCHMIERMITTEL
S   M 129.0
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
U   M 129.0
R   M 20.7;         // HM 7039  SCHMIERMITTEL DEFEKT
R   M 20.6;         // HM 7038  DRUCKSCHALTER SCHM. DEFEKT
R   M 129.0
NETWORK
TITLE = SPS/OB-->SCHMIERIMPULS AKTIV
U   A 10.7;          // LEISTUNG SCHMIERMITTEL
=   DB20.DBX 311.4; // SPS/RM-->SCHMIERIMPULS AKTIV
NETWORK
TITLE = MELDUNG 7019 PNEUMATIKÖLER LEER
; Legende:
; DB10.DBX 75.4=0-kapazitiver Füllstansschalter hat 0-Signal wenn Öler leer ist
; DB10.DBX 75.4=1-magnetischer Füllstansschalter hat 1-Signal wenn Öler leer ist
U   DB10.DBX 75.4;  // 1=magn.Füllstansschalter
U   E 5.4           // Füllstandsschalter PNEUMATIKÖLER
O(
UN  DB10.DBX 75.4;  // 0=kapazit.Füllstansschalter
UN  E 5.4           // Füllstandsschalter PNEUMATIKÖLER
)
U   DB10.DBX 77.1;  // SPS-MSD Ölstandsüberwachung aktivieren
S   M 18.3          // HM MELDUNG 7019  PNEUMATIKÖLER LEER
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   M 18.3;         // HM MELDUNG 7019  PNEUMATIKÖLER LEER
NETWORK
TITLE = SCHMIERIMPULSZÄHLER
U   M 129.1;        // FM LEISTUNG SCHMIERMITTEL
SPBN M4;                 // SPRUNG BEI 0
L   DB15.DBD 12;    // SCHMIERIMPULSZÄHLER
L   DW#16#0000_0001;
+D;                 // SCHMIERIMPULSZÄHLER +1
T   DB15.DBD 12;    // SCHMIERIMPULSZÄHLER
M4:   NOP  0;
END_FUNCTION
FUNCTION FC 2 : VOID
NAME: STUECKZAEHLER
BEGIN
NETWORK
TITLE = STÜCKZÄHLER
UN  DB20.DBX 192.2; // M2 dyn
UN  DB20.DBX 195.6; // M30 dyn
O   DB20.DBX 324.2; // DRYRUN AKTIV
SPB   M214;
SET;
L   DB15.DBD 4;     // Zähler
L   DW#16#000F_423F;// 999999 STÜCK
<>D;
SPB   M211;
SET;
L   DW#16#0000_0000;
T   DB15.DBD 4;
M211:  NOP 0;
L   DB15.DBD 4;
L   DW#16#0000_0001;
+D;                 // Stückzähler +1 low
T   DB15.DBD 4;
L   DB15.DBD 8;     // CHARGENZÄHLER
L   DW#16#000F_423F;// 999999 STÜCK
<>D;
SPB   M213;
SET;
L   DW#16#0000_0000;
T   DB15.DBD 8;
M213:  NOP 0;
L   DB15.DBD 8;
L   DW#16#0000_0001;
+D;                 // Stückzähler +1 low
T   DB15.DBD 8;
M214:  L   DB15.DBD 0;     // Sollstückz
L   DW#16#0000_0000;
<>D;
SPB   M202;
SPA   M201;
M202:  NOP 0;
L   DB15.DBD 4;     // Stückz.
L   DB15.DBD 0;     // Sollstückz.
<D;
SPB   M201;
SET;
S   M 21.3;         // HM 7043  SOLLSTÜCKZAHL ERREICHT
L   DW#16#0;
T   DB15.DBD 4;
M201:  NOP 0;
O   DB1.DBX 1370.2; // QUITTIERTASTE GEDRÜCKT
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
R   M 21.3;         // HM 7043  SOLLSTÜCKZAHL ERREICHT
END_FUNCTION
FUNCTION FC 3 : VOID
NAME: HA STEUERUNG und LEISTUNG SPINDEL0
BEGIN
//  X3:1  Stromistwert HAUPTSPINDEL
//  X3:2  GND
//  X3:5  Led H2   E 0.3  =        // Hauptantrieb SERVO-READY
//  X3:11 Led H1   A 0.3  = M 54.0 // +24V Ausgang  Hauptantrieb Reglerfreigabe
//  X3:12 Led H3   A 11.5 = M 54.1 // +24V Ausgang  Handradbetrieb aktivieren für Spindelbetrieb
//  X3:13 Led H4   A 11.6 = M 54.2 // +24V Ausgang  Parametersatz Umschaltung für C-Achsbetrieb
//  X420:4   A 10.0 // Impulsfreigabe Hauptantrieb und AWZ
//  X420:5   A 4.0  // Kopplung aktivieren für C-Achsbetrieb
//  X6:10    A 4.1  // Hauptantrieb Parkende Achse
NETWORK
TITLE = 7026 Störung Lüfter Hauptmotor
UN  E 2.5;          // Störung Lüfter Hauptmotor
S   M 19.2;         // HM  7026 Störung Lüfter Hauptmotor
U   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
U   E 2.5;          // Störung Lüfter Hauptmotor
R   M 19.2;         // HM  7026 Störung Lüfter Hauptmotor
NETWORK
TITLE = Alarm 6068 Hauptmotor Übertemperatur
U  M 51.0;         // Thermo Lenze Hauptmotor CT250TC
UN  DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
S   DB2.DBX 8.4;    // 6068 Hauptmotor Übertemperatur
U   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
R   DB2.DBX 8.4;    // 6068 Hauptmotor Übertemperatur
NETWORK
TITLE = M52 RUNDACHSBETRIEB
O   DB1.DBX 1402.0  // SINUMERIK 810/820
O   DB1.DBX 1402.1  // FANUC 0
O   DB1.DBX 1403.0  // FANUC 21
U   DB20.DBX 198.4; // M52 dyn C-ACHSE EINSCHALTEN
SPBN   M001
SET;
=   DB20.DBX 3.5;   // Umschaltung von Spindel auf Rundachsbetrieb oder umgekehrt
=   DB20.DBX 823.0; // 1=Rundachsbetrieb 0=Spindelbetrieb
L   0
T   DB20.DBB 822;   // Spindelnummer welche umgeschaltet wird
M001:  NOP 0
NETWORK
TITLE = M53 SPINDELBETRIEB
O   DB1.DBX 1402.0  // SINUMERIK 810/820
O   DB1.DBX 1402.1  // FANUC 0
O   DB1.DBX 1403.0  // FANUC 21
U   DB20.DBX 198.5; // M53 dyn C-ACHSE AUSSCHALTEN
O   DB20.DBX 192.2; // M2 DYN.
O   DB20.DBX 195.6; // M30 DYN.
U   M 4.1           // CT250 TCM mit AWZ
SPBN   M002
=   DB20.DBX 3.5;   // Umschaltung von Spindel auf Rundachsbetrieb oder umgekehrt
R   DB20.DBX 823.0; // 1=Rundachsbetrieb 0=Spindelbetrieb
L   0
T   DB20.DBB 822;   // Spindelnummer welche umgeschaltet wird
M002:  NOP 0
NETWORK 1
TITLE = Spindelauswahl für Rundachsbetrieb
U   DB20.DBX 3.5;   // Umschaltung von Spindel auf Rundachsbetrieb oder umgekehrt
SPBN  M1002
L   0               // UMSCHALTUNG SPINDEL0
L   DB20.DBB 822;   // Spindelnummer welche umgeschaltet wird
==I
SPBN  M1002
S   M 80.2;         // AFG von Achsumschaltung Spindel0
U   DB20.DBX 823.0; // 1=Rundachsbetrieb 0=Spindelbetrieb
=   M 80.1;         // Spindel0 1=Rundachsbetrieb 0=Spindelbetrieb
M1002:  NOP 0
NETWORK 1
TITLE = AFG von Achsumschaltung
U   M 80.1;         // Spindel0 1=Rundachsbetrieb 0=Spindelbetrieb
U   M 80.5;         // RUNDACHSBETRIEB
O(
UN  M 80.1;         // Spindel0 1=Rundachsbetrieb 0=Spindelbetrieb
U   M 80.4;         // SPINDEL0 SPINDELBETRIEB
)
R   M 80.2;         // AFG EFG
NETWORK 1
TITLE = UMSCHALTEN auf Rundachsbetrieb
U   M 80.1;         // Spindel0 1=Rundachsbetrieb 0=Spindelbetrieb
U   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
UN  M 80.4;         // SPINDEL0 SPINDELBETRIEB
UN  M 80.5;         // RUNDACHSBETRIEB
U   M 4.1           // CT250 TCM mit AWZ
L   S5TIME#500MS
SE  T 89
U   T 89
S   M 80.5;         // RUNDACHSBETRIEB
U   M 80.1;         // Spindel0 1=Rundachsbetrieb 0=Spindelbetrieb
U   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
R   M 80.4;         // SPINDEL0 SPINDELBETRIEB
NETWORK 1
TITLE = UMSCHALTEN auf Spindelbetrieb
UN  M 80.1;         // Spindel0 1=Rundachsbetrieb 0=Spindelbetrieb
UN  M 80.4;         // SPINDEL0 SPINDELBETRIEB
UN  M 80.5;         // RUNDACHSBETRIEB
L   S5TIME#500MS
SE  T 88
U   T 88
S   M 80.4;         // SPINDEL0 SPINDELBETRIEB
UN  M 80.1;         // Spindel0 1=Rundachsbetrieb 0=Spindelbetrieb
U   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
R   M 80.5;         // RUNDACHSBETRIEB
NETWORK 1
TITLE = RESET RUNDACHSBETRIEB
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
U   M 80.5;         // RUNDACHSBETRIEB
S   M 80.0;         // Anforderung Rundachsbetrieb beenden
U   M 80.0;         // Anforderung Rundachsbetrieb beenden
UN  DB20.DBX 862.0; // Transmit oder Trancyl aktiv
SPBN   M1001
S   DB20.DBX 3.5;   // Umschaltung von Spindel auf Rundachsbetrieb oder umgekehrt
R   DB20.DBX 823.0; // 1=Rundachsbetrieb 0=Spindelbetrieb
L   0
T   DB20.DBB 822    // UMSCHALTUNG SPINDEL0
R   M 80.0;         // Anforderung Rundachsbetrieb beenden
R   M 80.1;         // Spindel0 1=Rundachsbetrieb 0=Spindelbetrieb
R   M 81.7          // ZUSATZMERKER UMSCHALTUNG SP/RUND ELFREIG // !!!!! YVONNE
R   M 80.5;         // RUNDACHSBETRIEB
R   M 95.0;         // SFG-UMSCHALTUNG SPINDEL/RUNDACHSE AKTIV
=   DB20.DBX 262.5  // M53 SPINDELBETRIEB RÜCKMELDEN
M1001:  NOP 0
NETWORK 4
TITLE = SPINDELBETRIEB (EINSCHALTZUSTAND)
;       UN  M 80.1;         // Spindel0 1=Rundachsbetrieb 0=Spindelbetrieb
O   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
S   M 80.4;         // SPINDEL0 SPINDELBETRIEB
;       R   M 54.4;         // AUSGANGSMERKER WZW AWZ-EINKUPPELN
;       S   M 58.6;         // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
R   M 80.5;         // RUNDACHSBETRIEB
;       FP  M 80.7          // FM UMSCHALTEN AUF SPINDELBETRIEB
UN  M 80.1;         // Spindel0 1=Rundachsbetrieb 0=Spindelbetrieb
FP  M 80.7          // FM UMSCHALTEN AUF SPINDELBETRIEB
NETWORK 1
TITLE =  AMO-GEBER INTERPOLATIONSFAKTOR AUF DER EXE EINSTELLEN
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
S   A 3.1;          // Interpolationsfaktor 3.1
UN  DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
L   S5TIME#500MS
SI  T 87
U   T 87
=   A 3.2;          // Interpolationsfaktor 3.2
NETWORK
TITLE = Impulsfreigabe FÜR SIEMENS HAUPTANTRIEB und LENZE AWZ
U   M 50.0;         // Tür zu und Verriegelt und Türfreigaberelais K3 ein
U   M 110.0;        // AUX-ON
U   M 104.2;        // SUM  SFG
S   A 10.0;         // Impulsfreigabe Hauptantrieb und AWZ
ON  M 50.0;         // Tür zu und Verriegelt und Türfreigaberelais K3 ein
ON  M 110.0;        // AUX-ON
R   A 10.0;         // Impulsfreigabe Hauptantrieb und AWZ
NETWORK
TITLE = REGLERFREIGABE SIEMENS HAUPTANTRIEB
O   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGER
O   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGER
U   M 80.4;         // SPINDEL0 SPINDELBETRIEB
S   M 145.2;        // HM REGLERFREIGABE SIEMENS HAUPTANTRIEB
U   M 145.2;        // HM REGLERFREIGABE SIEMENS HAUPTANTRIEB
U   M 104.2;        // SUM  SFG
O(
UN  M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
U   M 145.7         // HM REGLERFREIGABE FÜR HAUPTANTRIEB
)
O(
U   M 80.5;         // RUNDACHSBETRIEB
U   M 104.2;        // SUM  SFG
)
U   A 9.0           // NOT AUS für NE Modul Klemme 64
U   E 2.2           // NICHT NOT-AUS
=   A 0.3           // Hauptantrieb Reglerfreigabe
S   M 145.7         // HM REGLERFREIGABE FÜR HAUPTANTRIEB
R   M 145.4
NETWORK
TITLE = Handradbetrieb aktivieren für Spindelbetrieb
U   A 0.3           // Hauptantrieb Reglerfreigabe
U   E 0.3;          // Hauptantrieb SERVO-READY
U   M 80.4;         // SPINDEL0 SPINDELBETRIEB
U   M 145.7         // HM REGLERFREIGABE FÜR HAUPTANTRIEB
=   M 145.3;        // SPINDELFREIGABE an ACC FÜR HAUPTANTRIEB SPINDEL 0
U   M 80.4;         // SPINDEL0 SPINDELBETRIEB
U   M 4.1           // CT250 TCM mit AWZ
=   A 11.5;         // Handradbetrieb aktivieren für Spindelbetrieb
NETWORK
TITLE = Kopplung aktivieren für C-Achsbetrieb
U   A 0.3           // Hauptantrieb Reglerfreigabe
U   E 0.3;          // Hauptantrieb SERVO-READY
U   M 80.5;         // RUNDACHSBETRIEB
U   M 145.7         // HM REGLERFREIGABE FÜR HAUPTANTRIEB
=   A 4.0;          // Kopplung aktivieren für C-Achsbetrieb
NETWORK
TITLE = Parametersatz Umschaltung für C-Achsbetrieb
U   M 80.5;         // RUNDACHSBETRIEB
=   A 11.6;         // Parametersatz Umschaltung für C-Achsbetrieb
NETWORK
TITLE = Hauptantrieb Parkende Achse
UN  A 0.3           // Hauptantrieb Reglerfreigabe
UN  E 0.3;          // Hauptantrieb SERVO-READY
U   M 4.1           // CT250 TCM mit AWZ
L   S5T#200MS;      // 25X0,1S
SI  T 3
U   T 3
=   A 4.1           // Hauptantrieb Parkende Achse
NETWORK
TITLE = ÜBERWACHUNG HA SCHARF
U   A 0.3           // Hauptantrieb Reglerfreigabe
L   S5T#2S;         // 25X0,1S
SE  T 85;           // STARTEN T8 ALS EINSCHALTVERZ.
NETWORK
TITLE = 6013  HAUPTANTRIEB NICHT BEREIT
U   T 85;           // HA ÜBERWACHUNG SCHARF
UN  E 0.3;          // Hauptantrieb SERVO-READY
S   DB2.DBX 1.5;    // 6013  HAUPTANTRIEB NICHT BEREIT
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 1.5;    // 6013  HAUPTANTRIEB NICHT BEREIT
NETWORK
TITLE = ANWAHL HAUPTANTRIEB M3
UN  DB20.DBX 224.3; // M3 STAT.
U   M 104.2;        // SUM  SFG
U(  ;
O   DB20.DBX 192.3; // M3 DYN.
O(  ;
U   M 148.2;        // HM M3 GESPEICHERT M0/M1
U   DB20.DBX 0.2;   // FC NC-START
)   ;
O(  ;
U   T 44;           // ÜBERWACHUNGSZEIT FÜR HA/M3
U   M 132.3;        // /FM TASTE SPINDEL START
U   M 104.5;        // HM BETRIEBSART JOG UND INC
UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
)   ;
)   ;
S   M 145.0         // HM ANWAHL HAUPTANTRIEB M3
O(  ;
U   M 167.3;        // Spindel drehen/pendeln aktiv
U(  ;
O   T 57;           // 2HZ FREQUENZ
O   DB10.DBX 77.3;  // STV/LM Spindel drehen
)   ;
O   M 145.0         // HM ANWAHL HAUPTANTRIEB M3
U   M 80.4;         // SPINDEL0 SPINDELBETRIEB
=   DB20.DBX 256.3; // M3 RÜCKMELDEN
S   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGER
R   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGER
R   M 148.2;        // HM M3 GESPEICHERT M0/M1
R   M 145.1         // HM ANWAHL HAUPTANTRIEB M4
NETWORK
TITLE = ANWAHL HAUPTANTRIEB   M4
UN  DB20.DBX 224.4; // M4 STAT.
U   M 104.2;        // SUM  SFG
U(  ;
O   DB20.DBX 192.4; // M4 DYN.
O(  ;
U   M 148.3;        // HM M4 GESPEICHERT M0/M1
U   DB20.DBX 0.2;   // FC NC-START
)   ;
O(  ;
UN  T 44;           // ÜBERWACHUNGSZEIT FÜR HA/M4
U   M 132.3;        // /FM TASTE SPINDEL START
U   M 104.5;        // HM BETRIEBSART JOG UND INC
UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
)   ;
)   ;
S   M 145.1         // HM ANWAHL HAUPTANTRIEB M4
O(  ;
U   M 167.3;        // Spindel drehen/pendeln aktiv
UN  T 57;           // 2HZ FREQUENZ
UN  DB10.DBX 77.3;  // STV/LM Spindel drehen
)   ;
O   M 145.1         // HM ANWAHL HAUPTANTRIEB M4
U   M 80.4;         // SPINDEL0 SPINDELBETRIEB
=   DB20.DBX 256.4; // M4 RÜCKMELDEN
S   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGER
R   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGER
R   M 148.3;        // HM M4 GESPEICHERT M0/M1
R   M 145.0         // HM ANWAHL HAUPTANTRIEB M3
NETWORK
TITLE = M3,M4 GESPEICHERT VON M0,M1
U   M 34.1;         // HM M0/M1 DYNAMISCH
U   DB20.DBX 224.3; // M3 STAT.
UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
S   M 148.2;        // HM M3 GESPEICHERT M0/M1
U   M 34.1;         // HM M0/M1 DYNAMISCH
U   DB20.DBX 224.4; // M4 STAT.
UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
S   M 148.3;        // HM M4 GESPEICHERT M0/M1
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
R   M 148.2;        // HM M3 GESPEICHERT M0/M1
R   M 148.3;        // HM M4 GESPEICHERT M0/M1
NETWORK
TITLE = ANWAHL HAUPTANTRIEB    M5
U   M 34.1;         // HM M0/M1 DYNAMISCH
UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
O;
U   M    132.7;     // FM SPINDEL HALT
U   M    104.5;     // HM BETRIEBSART JOG UND INC
UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
O;
U   M    132.7;     // FM SPINDEL HALT
U   M    104.5;     // HM BETRIEBSART JOG UND INC
UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
O   DB20.DBX 192.5; // M5 dynamisch
O   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
O   DB20.DBX 324.2; // DRYRUN AKTIV
O   DB20.DBX 192.2; // M2 dyn
O   DB20.DBX 195.6; // M30 dyn
O   M 167.4;        // Spindel drehen aus
O   M 109.5;        // /FM AUX-ON
O   DB20.DBX 328.0; // Spindel 0 soll auf Rundachse geschaltet werden
=   DB20.DBX 256.5; // M5 RÜCKMELDEN
R   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGER
R   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGER
R   M 145.0         // HM ANWAHL HAUPTANTRIEB M3
R   M 145.1         // HM ANWAHL HAUPTANTRIEB M4
R   M 145.2
R   M 145.4
R   M 167.4;        // Spindel drehen aus
NETWORK
TITLE = HM M3/M4 GESPEICHERT M0/M1
O   M 148.2;        // HM M3 GESPEICHERT M0/M1
O   M 148.3;        // HM M4 GESPEICHERT M0/M1
S   M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
UN  M 34.1;         // HM M0/M1 DYNAMISCH
R   M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
NETWORK
TITLE = ISTDREHZAHL KLEINER 20U/MIN
O   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
O   DB1.DBX 1356.3; // HAUPTANTRIEB STILLSTAND
UN  E 3.7           // HA Drehzahl=0 von Relais
L   S5T#100MS;      // 25X0,1S
SE  T 73
U   T 73
=   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
R   M 145.7         // HM REGLERFREIGABE FÜR HAUPTANTRIEB
R   DB20.DBX 328.0; // Spindel 0 soll auf Rundachse geschaltet werden
;  NETWORK
;  TITLE = DRYRUN  SFG
;
;       U   DB20.DBX 324.2; // DRYRUN AKTIV
;       =   M 94.2;         // DRYRUN  SFG
;
NETWORK
TITLE = HA LAUFT AUS  AFG/EFG
U   DB20.DBX 224.5; // M5 STAT.
UN  M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
U   M 80.4;         // SPINDEL0 SPINDELBETRIEB
=   M 90.6;         // HA LAUFT AUS  AFG/EFG
NETWORK
TITLE = 6014  KEINE HAUPTSPINDELDREHZAHL
O   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGER
O   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGER
UN  M 132.1;        // SPINDEL HALT AKTIV
;       UN  DB20.DBX 328.0; // HS-SPINDEL STOPPEN
UN  M 167.3;        // Spindel drehen/pendeln aktiv
L   S5T#5S;         // 5 S
SE  T 27;           // STARTEN T 27 ALS EINSCHALTVERZ.
U   T 27;           // M3/M4-VERZÖGERUNGSZ. ABGELAUFEN
U   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
L   S5T#1S;         // 5 S
SE  T 10;           // STARTEN T 10 ALS EINSCHALTVERZ.
U   T 10;           // M3/M4-VERZÖGERUNGSZ. ABGELAUFEN
S   DB2.DBX 1.6;    // 6014  KEINE HAUPTSPINDELDREHZAHL    8+++++++++
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 1.6;    // 6014  KEINE HAUPTSPINDELDREHZAHL
END_FUNCTION
FUNCTION FC 33 : VOID
NAME: AWZ STEUERUNG SPINDEL1 (M3/M4/M5)
BEGIN
//  X3:5   O0.B Led H2   E 0.4  = AWZ-SERVO-READY
//  X3:11  65.B Led H1   A 0.4  = AWZ-Reglerfreigabe
//  X3:12  I0.B Led H3   A 11.7 = AWZ-Kopplung aktiv
//  X3:13  I1.B Led H4   A 12.0 = AWZ-Referenzpunkt anfahren
//  X420:5 I2.B          A 10.1 = AWZ-Parkende Achse
//  X422:5   E 3.5 Refpkt.AWZ erreicht
//  X422:6   E 3.6 n=0 AWZ
//  X420:4   A 10.0;  // Impulsfreigabe Hauptantrieb und AWZ
;DB20.DBX 341.1    // Spindel 1 ein im Uhrzeigersinn:
;DB20.DBX 341.2    // Spindel 1 ein gegen denUhrzeigersinn.
;DB20.DBX 341.3    // Spindelfreigabe Spindel 1.
;
;
;
;DB20.DBX 642.3    // M3 DYN SPINDEL 1
;DB20.DBX 642.4    // M4 DYN SPINDEL 1
;DB20.DBX 642.5    // M5 DYN SPINDEL 1
;
;
;DB20.DBX 706.3    // M3 RÜCKMELDEN SPINDEL 1
;DB20.DBX 706.4    // M4 RÜCKMELDEN SPINDEL 1
;DB20.DBX 706.5    // M5 RÜCKMELDEN SPINDEL 1
;
;DB20.DBX 770.3    // M3 STAT.SPINDEL 1
;DB20.DBX 770.4    // M4 STAT.SPINDEL 1
;DB20.DBX 770.5    // M5 STAT.SPINDEL 1
NETWORK 1
TITLE = Spindelauswahl für Rundachsbetrieb
U   DB20.DBX 3.5;   // Umschaltung von Spindel auf Rundachsbetrieb oder umgekehrt
S   M 25.4;         // HM Umschaltung von Spindel auf Rundachsbetrieb oder umgekehrt
U   M 25.4;         // HM Umschaltung von Spindel auf Rundachsbetrieb oder umgekehrt
UN  DB20.DBX 328.1; // Spindel 1 soll auf Rundachse geschaltet werden
SPBN  M1002
L   1               // UMSCHALTUNG SPINDEL1
L   DB20.DBB 822;   // Spindelnummer welche umgeschaltet wird
==I
SPBN  M1002
U   DB20.DBX 823.0; // 1=Rundachsbetrieb 0=Spindelbetrieb
=   M 25.5;         // SPINDEL1 1=Rundachsbetrieb 0=Spindelbetrieb
=   M 25.7;         // AFG von Achsumschaltung Spindel1
M1002:  NOP 0
NETWORK 1
TITLE = AWZ-Referenzpunkt erreicht abschalten
UN  M 25.5;         // SPINDEL1 1=Rundachsbetrieb 0=Spindelbetrieb
R   M 25.3          // AWZ-Referenzpunkt erreicht
R   M 25.1          // AWZ Gewindeschneiden ohne Längenausgleich
NETWORK 1
TITLE = AFG von Achsumschaltung
U   M 25.7;         // AFG von Achsumschaltung Spindel1
L   S5T#500MS;      //
SI  T 6;            // Achsumschaltung aktiv
U   A 11.7          // Kopplung aktiv AWZ
UN  T 6;            // Achsumschaltung aktiv
R   M 25.7;         // AFG von Achsumschaltung Spindel1
NETWORK
TITLE = Anwahl AWZ-Refpkt. anfahren und Gewindeschneiden
U   DB20.DBX 4.3    // AWZ-Refpkt.anfahren und Gewindeschneiden
S   M 25.6          // Speichern AWZ-Refpkt.anfahren und Gewindeschneiden
U   M 25.5          // SPINDEL1 1=Rundachsbetrieb 0=Spindelbetrieb
UN  M 25.3          // AWZ-Referenzpunkt erreicht
U   M 104.2;        // SUM  SFG
S   M 25.0          // Anforderung AWZ referenzieren
S   M 25.1          // AWZ Gewindeschneiden ohne Längenausgleich
U   M 25.2          // FM AWZ-Referenzpunkt erreicht
U   M 25.6          // Speichern AWZ-Refpkt.anfahren und Gewindeschneiden
=   DB20.DBX 4.3    // Refpkt. anfahren
R   M 25.6          // Speichern AWZ-Refpkt.anfahren und Gewindeschneiden
NETWORK 1
TITLE = RESET AWZ RUNDACHSBETRIEB
U(
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
)
U   M 25.1          // AWZ Gewindeschneiden ohne Längenausgleich
S   M 24.0          // Speichern RESET AWZ RUNDACHSBETRIEB
U   M 24.0          // Speichern RESET AWZ RUNDACHSBETRIEB
UN  M 80.5;         // RUNDACHSBETRIEB
UN  DB20.DBX 862.0; // Transmit oder Trancyl aktiv
SPBN   M1001
S   DB20.DBX 3.5;   // Umschaltung von Spindel auf Rundachsbetrieb oder umgekehrt
R   DB20.DBX 823.0; // 1=Rundachsbetrieb 0=Spindelbetrieb
L   1
T   DB20.DBB 822    // UMSCHALTUNG SPINDEL0
R   M 25.0          // Anforderung AWZ referenzieren
R   M 25.1          // AWZ Gewindeschneiden ohne Längenausgleich
R   M 25.5;         // SPINDEL1 1=Rundachsbetrieb 0=Spindelbetrieb
R   M 25.7;         // AFG von Achsumschaltung Spindel1
R   M 25.3          // AWZ-Referenzpunkt erreicht
R   M 24.0          // Speichern RESET AWZ RUNDACHSBETRIEB
R   M 25.6          // Speichern AWZ-Refpkt.anfahren und Gewindeschneiden
M1001:  NOP 0
NETWORK
TITLE = REGLERFREIGABE FÜR AWZ-MOTOR
O   DB20.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
O   DB20.DBX 341.2  // SPINDEL 1 EIN GEGEN UHRZEIGER
O   M 25.1          // AWZ Gewindeschneiden ohne Längenausgleich
S   M 40.2;
U   M 40.2;
U   M 104.2;        // SUM  SFG
UN  M 90.3;         // WZW  AFG/EFG
UN  T 6;            // Achsumschaltung aktiv
O(
UN  M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
U   M 40.7          // HM REGLERFREIGABE FÜR AWZ-MOTOR
)
U   A 9.0           // NOT AUS für NE Modul Klemme 64
U   E 2.2           // NICHT NOT-AUS
=   A 0.4           // AWZ-Antrieb Reglerfreigabe
;       =   M 40.3          // REGLERFREIGABE FÜR AWZ-MOTOR
S   M 40.7          // HM REGLERFREIGABE FÜR AWZ-MOTOR
NETWORK
TITLE = Kopplung aktivieren für AWZ Antrieb
U   A 0.4           // AWZ-Antrieb Reglerfreigabe
U   E 0.4;          // AWZ-Antrieb SERVO-READY
U   M 40.7          // HM REGLERFREIGABE FÜR AWZ-MOTOR
UN  M 25.0          // Anforderung AWZ referenzieren
=   A 11.7          // Kopplung aktiv AWZ
=   M 40.3          // REGLERFREIGABE FÜR AWZ-MOTOR
NETWORK
TITLE = Parkende Achse AWZ
UN  A 0.4           // AWZ-Antrieb Reglerfreigabe
UN  E 0.4;          // AWZ-Antrieb SERVO-READY
L   S5T#200MS;      // 25X0,1S
SI  T 2
O   T 2
O   M 152.0;        // WERKZEUGWENDEN AKTIV
=   A 10.1          // Parkende Achse AWZ
NETWORK
TITLE = AWZ-Referenzpunkt anfahren
U   M 25.0          // Anforderung AWZ referenzieren
U   A 0.4           // AWZ-Antrieb Reglerfreigabe
U   E 0.4;          // AWZ-Antrieb SERVO-READY
UN  A 11.7          // Kopplung aktiv AWZ
=   A 12.0          // AWZ-Referenzpunkt anfahren
NETWORK
TITLE = AWZ-Referenzpunkt erreicht
U   M 25.0          // Anforderung AWZ referenzieren
U   A 12.0          // AWZ-Referenzpunkt anfahren
U   E 3.5           // Refpkt.AWZ erreicht
S   M 25.3          // AWZ-Referenzpunkt erreicht
R   M 25.0          // Anforderung AWZ referenzieren
FP  M 25.2          // FM AWZ-Referenzpunkt erreicht
NETWORK
TITLE = ANWAHL AWZ-MOTOR M3
UN  DB20.DBX 770.3  // M3 STAT.SPINDEL 1
U   M 104.2;        // SUM  SFG
U(  ;
O   DB20.DBX 642.3  // M3 DYN SPINDEL 1
;       O(  ;
;       U   M 148.2;        // HM M3 GESPEICHERT M0/M1
;       U   DB20.DBX 0.2;   // FC NC-START
;       )   ;
;       O(  ;
;       U   M 104.5;        // HM BETRIEBSART JOG UND INC
;       UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
;       )   ;
)   ;
=   M 40.0          // HM ANWAHL AWZ-MOTOR M3
=   DB20.DBX 706.3  // M3 RÜCKMELDEN SPINDEL 1
S   DB20.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
R   DB20.DBX 341.2  // SPINDEL 1 EIN GEGEN UHRZEIGER
;       R   M 148.2;        // HM M3 GESPEICHERT M0/M1
R   M 40.5          // HM M5 SPINDEL 1
NETWORK
TITLE = ANWAHL AWZ-MOTOR   M4
UN  DB20.DBX 770.4  // M4 STAT.SPINDEL 1
U   M 104.2;        // SUM  SFG
U(  ;
O   DB20.DBX 642.4  // M4 DYN SPINDEL 1
;       O(  ;
;       U   M 148.3;        // HM M4 GESPEICHERT M0/M1
;       U   DB20.DBX 0.2;   // FC NC-START
;       )   ;
;       O(  ;
;       U   M 104.5;        // HM BETRIEBSART JOG UND INC
;       UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
;       )   ;
)   ;
=   M 40.1          // HM ANWAHL AWZ-MOTOR M4
=   DB20.DBX 706.4  // M4 RÜCKMELDEN SPINDEL 1
S   DB20.DBX 341.2  // SPINDEL 1 EIN GEGEN UHRZEIGER
R   DB20.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
;       R   M 148.3;        // HM M4 GESPEICHERT M0/M1
R   M 40.5          // HM M5 SPINDEL 1
NETWORK
TITLE = M3,M4 GESPEICHERT VON M0,M1
;       U   M 34.1;         // HM M0/M1 DYNAMISCH
;       U   DB20.DBX 770.3  // M3 STAT.SPINDEL 1
;       UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
;       S   M 148.2;        // HM M3 GESPEICHERT M0/M1
;
;       U   M 34.1;         // HM M0/M1 DYNAMISCH
;       U   DB20.DBX 770.4  // M4 STAT.SPINDEL 1
;       UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
;       S   M 148.3;        // HM M4 GESPEICHERT M0/M1
;
;       O   DB1.DBX 1440.0  // RESET AUSGELÖST
;       O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
;       R   M 148.2;        // HM M3 GESPEICHERT M0/M1
;       R   M 148.3;        // HM M4 GESPEICHERT M0/M1
NETWORK
TITLE = ANWAHL AWZ-MOTOR    M5
;       U   M 34.1;         // HM M0/M1 DYNAMISCH
;       UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
;       O;
U   M 104.5;     // HM BETRIEBSART JOG UND INC
UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
O;
U   M 104.5;     // HM BETRIEBSART JOG UND INC
UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
O   DB20.DBX 642.5  // M5 DYN SPINDEL 1
O   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
O   DB20.DBX 324.2; // DRYRUN AKTIV
O   DB20.DBX 192.2; // M2 dyn
O   DB20.DBX 195.6; // M30 dyn
O   M 109.5;        // /FM AUX-ON
O   M 80.7          // FM UMSCHALTEN AUF SPINDELBETRIEB
O   M 41.1          // HM ANFORDERUNG GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
O   M 41.2          // HM ABWAHL GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
O   DB20.DBX 328.1; // Spindel 1 soll auf Rundachse geschaltet werden
S   M 40.5          // HM M5 SPINDEL 1
=   DB20.DBX 706.5  // M5 RÜCKMELDEN SPINDEL 1
R   DB20.DBX 341.2  // SPINDEL 1 EIN GEGEN UHRZEIGER
R   DB20.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
R   M 40.0          // HM ANWAHL AWZ-MOTOR M3
R   M 40.1          // HM ANWAHL AWZ-MOTOR M4
R   M 40.2
NETWORK
TITLE = ISTDREHZAHL KLEINER 20U/MIN
//  X422:6   E 3.6 n=0 AWZ
U   E 3.6;          // n=0 von Servoregler AWZ
=   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
R   M 40.7          // HM REGLERFREIGABE FÜR AWZ-MOTOR
R   DB20.DBX 328.1; // Spindel 1 soll auf Rundachse geschaltet werden
UN  M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
=   M 20.1;         // AWZ LÄUFT
NETWORK
TITLE = AWZ LAUFT AUS  AFG/EFG
U   M 40.5          // HM M5 SPINDEL 1
UN  M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
UN  M 25.5          // SPINDEL1 1=Rundachsbetrieb 0=Spindelbetrieb
=   M 90.5;         // AWZ LAUFT AUS  AFG/EFG
NETWORK
TITLE = ÜBERWACHUNG AWZ SCHARF
;       U   A 10.0;         // Impulsfreigabe Hauptantrieb und AWZ
U   A 0.4;          // AWZ-Antrieb Reglerfreigabe
L   S5T#2S;         // 25X0,1S
SE  T 70;           // STARTEN T8 ALS EINSCHALTVERZ.
NETWORK
TITLE = 6020  AWZ-Antrieb Störung
U   T 70;           // AWZ ÜBERWACHUNG SCHARF
UN  E 0.4;          // AWZ-Antrieb SERVO-READY
S   DB2.DBX 2.4;    // 6020 AWZ-Antrieb Störung
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 2.4;    // 6020 AWZ-Antrieb Störung
NETWORK
TITLE = 6015  KEINE AWZ-SPINDELDREHZAHL
O   DB20.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
O   DB20.DBX 341.2  // SPINDEL 1 EIN GEGEN UHRZEIGER
UN  M 40.0          // HM ANWAHL AWZ-MOTOR M3
UN  M 40.1          // HM ANWAHL AWZ-MOTOR M4
UN  M 132.1;        // SPINDEL HALT AKTIV
U   A 0.4;          // AWZ-Antrieb Reglerfreigabe
L   S5T#2S;         // 2S
SE  T 40;           // STARTEN T 40 ALS EINSCHALTVERZ.
U   T 40;           // M3/M4-VERZÖGERUNGSZ. ABGELAUFEN
U   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
S   DB2.DBX 1.7;    // 6015  KEINE AWZ-SPINDELDREHZAHL
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 1.7;    // 6015  KEINE AWZ-SPINDELDREHZAHL
END_FUNCTION
FUNCTION FC 91 : VOID
NAME: AWZ MIT KUPPELBAREN ANTRIEB (M3/M4/M5)
BEGIN
;DB20.DBX 341.1    // Spindel 1 ein im Uhrzeigersinn:
;DB20.DBX 341.2    // Spindel 1 ein gegen denUhrzeigersinn.
;DB20.DBX 341.3    // Spindelfreigabe Spindel 1.
;
;
;
;DB20.DBX 642.3    // M3 DYN SPINDEL 1
;DB20.DBX 642.4    // M4 DYN SPINDEL 1
;DB20.DBX 642.5    // M5 DYN SPINDEL 1
;
;
;DB20.DBX 706.3    // M3 RÜCKMELDEN SPINDEL 1
;DB20.DBX 706.4    // M4 RÜCKMELDEN SPINDEL 1
;DB20.DBX 706.5    // M5 RÜCKMELDEN SPINDEL 1
;
;DB20.DBX 770.3    // M3 STAT.SPINDEL 1
;DB20.DBX 770.4    // M4 STAT.SPINDEL 1
;DB20.DBX 770.5    // M5 STAT.SPINDEL 1
;
;DB1.DBX 1356.3;   // HAUPTANTRIEB STILLSTAND
NETWORK
TITLE = KAWZ ANWAHL GEWINDESCHNEIDEN MIT AWZ-MOTOR OHNE LÄNGENAUSGLEICH
U   DB1.DBX 1552.4  // ANFORDERUNG GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
S   M 41.1          // HM ANFORDERUNG GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
S   M 85.4          // AWZ EINKUPPELANVORDERUNG VON GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
U   M 41.1          // HM ANFORDERUNG GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
;       UN  M 54.0;         // AUSGANGSMERKER REGLERFREIGABE FÜR LENZESTELLER
U   M 54.1;         // AUSGANGSMERKER DCTRL1-PAR 2/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR
S   M 54.2;         // AUSGANGSMERKER DCTRL1-PAR 3/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR
U   M 41.1          // HM ANFORDERUNG GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
U   M 54.2;         // AUSGANGSMERKER DCTRL1-PAR 3/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR
=   DB1.DBX 1552.4  // ANFORDERUNG GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
R   M 41.1          // HM ANFORDERUNG GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
R   M 41.1          // HM ANFORDERUNG GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
NETWORK
TITLE = KAWZ ABWAHL GEWINDESCHNEIDEN MIT AWZ-MOTOR OHNE LÄNGENAUSGLEICH
U   DB1.DBX 1554.4  // ABWAHL GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
S   M 41.2          // HM ABWAHL GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
R   M 85.5          // HM AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
U   M 41.2          // HM ABWAHL GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
;       UN  M 54.0;         // AUSGANGSMERKER REGLERFREIGABE FÜR LENZESTELLER
R   M 54.2;         // AUSGANGSMERKER DCTRL1-PAR 3/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR
U   M 41.2          // HM ABWAHL GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
UN  M 54.2          // AUSGANGSMERKER DCTRL1-PAR 3/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR
=   DB1.DBX 1554.4  // ABWAHL GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
R   M 41.2          // HM ABWAHL GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
R   M 41.2          // HM ANFORDERUNG GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
NETWORK
TITLE = KAWZ-MOTOR M3 EINKUPPELANFORDERUNG
UN  DB20.DBX 770.3  // M3 STAT.SPINDEL 1
U   M 104.2;        // SUM  SFG
U   DB20.DBX 642.3  // M3 DYN SPINDEL 1
U   M 81.3          // C-ACHSE EIN-SCHWENKEN FERTIG
S   M 83.0          // AWZ EINKUPPELANFORDERUNG M3
NETWORK
TITLE = KAWZ ANWAHL AWZ-MOTOR M3
U   M 83.0          // AWZ EINKUPPELANFORDERUNG M3
U   M 83.5          // AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
=   M 40.0          // HM ANWAHL AWZ-MOTOR M3
=   DB20.DBX 706.3  // M3 RÜCKMELDEN SPINDEL 1
S   DB20.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
R   DB20.DBX 341.2  // SPINDEL 1 EIN GEGEN UHRZEIGER
R   M 83.0          // AWZ EINKUPPELANFORDERUNG M3
R   M 83.5          // AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
R   M 40.5          // HM M5 SPINDEL 1
NETWORK
TITLE = KAWZ-MOTOR M4 EINKUPPELANFORDERUNG
UN  DB20.DBX 770.4  // M4 STAT.SPINDEL 1
U   M 104.2;        // SUM  SFG
U   DB20.DBX 642.4  // M4 DYN SPINDEL 1
U   M 81.3          // C-ACHSE EIN-SCHWENKEN FERTIG
S   M 84.0          // AWZ EINKUPPELANFORDERUNG M4
NETWORK
TITLE = KAWZ ANWAHL AWZ-MOTOR   M4
U   M 84.0          // AWZ EINKUPPELANFORDERUNG M4
U   M 83.5          // AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
=   M 40.1          // HM ANWAHL AWZ-MOTOR M4
=   DB20.DBX 706.4  // M4 RÜCKMELDEN SPINDEL 1
S   DB20.DBX 341.2  // SPINDEL 1 EIN GEGEN UHRZEIGER
R   DB20.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
R   M 84.0          // AWZ EINKUPPELANFORDERUNG M4
R   M 83.5          // AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
R   M 40.5          // HM M5 SPINDEL 1
NETWORK
TITLE = KAWZ M3,M4 GESPEICHERT VON M0,M1
;       U   M 34.1;         // HM M0/M1 DYNAMISCH
;       U   DB20.DBX 770.3  // M3 STAT.SPINDEL 1
;       UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
;       S   M 148.2;        // HM M3 GESPEICHERT M0/M1
;
;       U   M 34.1;         // HM M0/M1 DYNAMISCH
;       U   DB20.DBX 770.4  // M4 STAT.SPINDEL 1
;       UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
;       S   M 148.3;        // HM M4 GESPEICHERT M0/M1
;
;       O   DB1.DBX 1440.0  // RESET AUSGELÖST
;       O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
;       R   M 148.2;        // HM M3 GESPEICHERT M0/M1
;       R   M 148.3;        // HM M4 GESPEICHERT M0/M1
NETWORK
TITLE = KAWZ ANWAHL AWZ-MOTOR    M5
;       U   M 34.1;         // HM M0/M1 DYNAMISCH
;       UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
;       O;
U   M 104.5;     // HM BETRIEBSART JOG UND INC
UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
O;
U   M 104.5;     // HM BETRIEBSART JOG UND INC
UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
O   DB20.DBX 642.5  // M5 DYN SPINDEL 1
O   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
O   DB20.DBX 324.2; // DRYRUN AKTIV
O   DB20.DBX 192.2; // M2 dyn
O   DB20.DBX 195.6; // M30 dyn
O   M 109.5;        // /FM AUX-ON
O   M 80.7          // FM UMSCHALTEN AUF SPINDELBETRIEB
O   M 41.1          // HM ANFORDERUNG GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
O   M 41.2          // HM ABWAHL GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
O   M 86.1          // AWZ AUSSCHALTEN
S   M 40.5          // HM M5 SPINDEL 1
=   DB20.DBX 706.5  // M5 RÜCKMELDEN SPINDEL 1
R   DB20.DBX 341.2  // SPINDEL 1 EIN GEGEN UHRZEIGER
R   DB20.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
R   M 40.0          // HM ANWAHL AWZ-MOTOR M3
R   M 40.1          // HM ANWAHL AWZ-MOTOR M4
R   M 40.2
R   M 83.0          // AWZ EINKUPPELANFORDERUNG M3
R   M 84.0          // AWZ EINKUPPELANFORDERUNG M4
R   M 86.1          // AWZ AUSSCHALTEN
NETWORK
TITLE = KAWZ HM M3/M4 GESPEICHERT M0/M1
;       O   M 148.2;        // HM M3 GESPEICHERT M0/M1
;       O   M 148.3;        // HM M4 GESPEICHERT M0/M1
;       S   M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
;
;       UN  M 34.1;         // HM M0/M1 DYNAMISCH
;       R   M 148.4;        // HM M3/M4 GESPEICHERT M0/M1
NETWORK
TITLE = KAWZ ISTDREHZAHL KLEINER 20U/MIN
O   M 40.5          // HM M5 SPINDEL 1
UN  DB10.DBX 76.4;  // AWZ GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
L   S5T#2S;         // 2S
SE  T 28;           // STARTEN T28 ALS SPEICHERNDE EINSCHALTVERZ.
O   T 28;           // STARTEN T28 ALS EINSCHALTVERZ.
O   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
UN  DB10.DBX 76.4;  // AWZ GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
O(
O   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF 8+++++bis
O   DB1.DBX 1356.4; // AWZ-MOTOR STILLSTAND
U   DB10.DBX 76.4;  // AWZ GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
)
=   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
R   M 40.7          // HM REGLERFREIGABE FÜR AWZ-MOTOR
NETWORK
TITLE = KAWZ HA LAUFT AUS  AFG/EFG
U   M 40.5          // HM M5 SPINDEL 1
UN  M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
=   M 90.5;         // AWZ LAUFT AUS  AFG/EFG
NETWORK
TITLE = KAWZ REGLERFREIGABE FÜR AWZ-MOTOR
O   DB20.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
O   DB20.DBX 341.2  // SPINDEL 1 EIN GEGEN UHRZEIGER
O   M 85.5          // HM AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
S   M 40.2;
U   M 40.2;
U   M 81.3          // C-ACHSE EIN-SCHWENKEN FERTIG
U   M 104.2;        // SUM  SFG
O
UN  M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
U   M 40.7          // HM REGLERFREIGABE FÜR AWZ-MOTOR
=   M 40.3          // REGLERFREIGABE FÜR AWZ-MOTOR
S   M 40.7          // HM REGLERFREIGABE FÜR AWZ-MOTOR
NETWORK
TITLE = KAWZ 6015  KEINE AWZ-SPINDELDREHZAHL
O   DB20.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
O   DB20.DBX 341.2  // SPINDEL 1 EIN GEGEN UHRZEIGER
UN  M 40.0          // HM ANWAHL AWZ-MOTOR M3
UN  M 40.1          // HM ANWAHL AWZ-MOTOR M4
UN  M 132.1;        // SPINDEL HALT AKTIV
U   M 81.3          // C-ACHSE EIN-SCHWENKEN FERTIG
L   S5T#2S;         // 2S
SE  T 40;           // STARTEN T 40 ALS EINSCHALTVERZ.
U   T 40;           // M3/M4-VERZÖGERUNGSZ. ABGELAUFEN
U   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
S   DB2.DBX 1.7;    // 6015  KEINE AWZ-SPINDELDREHZAHL
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 1.7;    // 6015  KEINE AWZ-SPINDELDREHZAHL
END_FUNCTION
FUNCTION FC 92: VOID
NAME: AWZ EINKUPPELN
BEGIN
//  X422:1   E 3.1 = M 51.3  ET325II: // SAUTER473.512 WZW AWZ-EINGEKUPPELT
//  X422:2   E 3.2 = M 51.4  ET325II: // SAUTER473.512 WZW AWZ-AUSGEKUPPELT
//  X6:5     A 5.6 = M 58.6 // WZW AWZ-AUSKUPPELN
//  X6:6     A 5.7 = M 54.4 // WZW AWZ-EINKUPPELN
NETWORK
TITLE = 6016  AWZ-eingekuppelt Signal fehlt
//     ÜBERWACHUNG EINKUPPELVERSUCHE:
U   M 85.6          // FM ZEITÜBERSCHREITUNG AWZ-EINKUPPELN
ZV  Z 11;           // EINKUPPELVERSUCHSZAEHLER
L   Z 11;
L   5;
==I
S   DB2.DBX 2.0;    // 6016  AWZ-eingekuppelt Signal fehlt
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 2.0;    // 6016  AWZ-eingekuppelt Signal fehlt
R   Z 10;           // WZW SOLLPOSITIONSZÄHLER
R   Z 11;           // WZW ZEITÜBERSCHREITUNGZÄHLER
NETWORK
TITLE = WZW-Positionsüberprüfung
L   MB 87;          // WZW POSITION 1,3,5,7,9,11
L   0;
<>I ;
=   M 83.6          // GÜLTIGE AWZ POSITION
UN  M 83.6          // GÜLTIGE AWZ POSITION
U(
O   M 83.0          // AWZ EINKUPPELANFORDERUNG M3
O   M 84.0          // AWZ EINKUPPELANFORDERUNG M4
O   M 85.4          // AWZ EINKUPPELANVORDERUNG VON GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
)
S   M 16.0;         // HM 7000  FALSCHES T-WORT
R   M 83.0          // AWZ EINKUPPELANFORDERUNG M3
R   M 84.0          // AWZ EINKUPPELANFORDERUNG M4
R   M 85.4          // AWZ EINKUPPELANVORDERUNG VON GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
NETWORK
TITLE = ERST EINKUPPELN EINSCHALTEN DANN AWZ EINSCHALTEN
UN  M 51.3;         // Sauter473.512 WZW AWZ-eingekuppelt
UN  M 54.4;         // AUSGANGSMERKER WZW AWZ-EINKUPPELN
U   M 83.6          // GÜLTIGE AWZ POSITION
U(
O   M 83.0          // AWZ EINKUPPELANFORDERUNG M3
O   M 84.0          // AWZ EINKUPPELANFORDERUNG M4
O   M 85.4          // AWZ EINKUPPELANVORDERUNG VON GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
)
S   M 85.0          // M3,M4 EINKUPPELANFORDERUNG
NETWORK
TITLE = AWZ OHNE EINKUPPELN EINSCHALTEN
U   M 51.3;         // Sauter473.512 WZW AWZ-eingekuppelt
U   M 54.4;         // AUSGANGSMERKER WZW AWZ-EINKUPPELN
U   M 83.6          // GÜLTIGE AWZ POSITION
U(
O   M 83.0          // AWZ EINKUPPELANFORDERUNG M3
O   M 84.0          // AWZ EINKUPPELANFORDERUNG M4
O   M 85.4          // AWZ EINKUPPELANVORDERUNG VON GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
)
S   M 83.5          // AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
NETWORK
TITLE = AFG,EFG VON EINKUPPELANFORDERUNG FUER KANAL 1
U   M 85.0          // M3,M4 EINKUPPELANFORDERUNG
SPBN   M002
S   DB25.DBX 340.3; // EINLESEFREIGABE K1
S   DB25.DBX 340.4; // ACHSFREIGABE    K1
S   DB25.DBX 341.3  // SPINDEL 1 Freigabe
M002:   NOP 0
NETWORK
TITLE =
U   M 85.2          // AWZ EINKUPPELDREHZAHL VORGEWÄHLT
UN  M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
UN  M 85.7          // ZEITÜBERSCHREITUNG AWZ-EINKUPPELN
S   M 54.4;         // AUSGANGSMERKER WZW AWZ-EINKUPPELN
R   M 58.6;         // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
S   M 85.3          // HM WZW AWZ-EINKUPPELN
R   M 85.2          // AWZ EINKUPPELDREHZAHL VORGEWÄHLT
NETWORK
TITLE =
U   M 85.0          // M3,M4 EINKUPPELANFORDERUNG
FP  M 85.1          // FM M3,M4 EINKUPPELANFORDERUNG
U   M 85.1          // FM M3,M4 EINKUPPELANFORDERUNG
SPBN   M003;
=   DB25.DBX 1.4;   // NC-SATZ ABSCHICKEN
S   M 90.4;         // AFG,EFG VON EINKUPPELANFORDERUNG
S   M 94.7;         // SFG VON EINKUPPELANFORDERUNG
S   DB25.DBX 549.5; // NC-Kommando Drehzahl setzen BC_SPEED (NUR FUER
// MASTERSPINDEL MOEGLICH !!!
L   3.333;          // 200 UPM
T   DB25.DBD 564;   // Drehzahl in [U/s]
S   M 85.2          // AWZ EINKUPPELDREHZAHL VORGEWÄHLT
O   M 83.0          // AWZ EINKUPPELANFORDERUNG M3
O   M 85.4          // AWZ EINKUPPELANVORDERUNG VON GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
=   DB25.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
U   M 84.0          // AWZ EINKUPPELANFORDERUNG M4
=   DB25.DBX 341.2  // SPINDEL 1 EIN IM GEGEN UHRZEIGER
;       =   DB25.DBX 550.1  // M-BEFEHL ABSETZEN IM UHRZEIGER BC_M_CODE_NR
;       L   3;              // M3
;       T   DB25.DBW 552;   //
M003:   NOP 0;
NETWORK
TITLE =  NACH ERFOLGLOSEM EINKUPPELVERSUCH WIEDER AUSKUPPELN
U   T 66;
R   M 54.4;         // AUSGANGSMERKER WZW AWZ-EINKUPPELN
S   M 58.6;         // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
S   M 85.7          // ZEITÜBERSCHREITUNG AWZ-EINKUPPELN
FP  M 85.6          // FM ZEITÜBERSCHREITUNG AWZ-EINKUPPELN
NETWORK
TITLE = ZEITUEBERWACHUNG EINKUPPELN
U   M 85.3          // HM WZW AWZ-EINKUPPELN
U   M 54.4;         // AUSGANGSMERKER WZW AWZ-EINKUPPELN
UN  M 51.3;         // Sauter473.512 WZW AWZ-ist eingekuppelt
L   S5T#1S;         // 25X0,1S
SE  T 66;           // STARTEN T 66 ALS EINSCHALTVERZ.
NETWORK
TITLE = 6017  AWZ-ausgekuppelt Signal fehlt
U   M 58.6;         // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
UN  M 51.4          // SAUTER473.512 WZW AWZ-AUSGEKUPPELT
L   S5T#1S500MS;    // 1,5 S
SE  T 67;           // STARTEN T 67 ALS EINSCHALTVERZ.
U   T 67;           // STARTEN T 67 ALS EINSCHALTVERZ.
S   DB2.DBX 2.1;    // 6017  AWZ-ausgekuppelt Signal fehlt
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 2.1;    // 6017  AWZ-ausgekuppelt Signal fehlt
NETWORK
TITLE =  NACH ERFOLGLOSEM EINKUPPELVERSUCH WIEDER EINKUPPELN
U   M 85.7          // ZEITÜBERSCHREITUNG AWZ-EINKUPPELN
U   M 58.6;         // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
U   M 51.4          // SAUTER473.512 WZW AWZ-AUSGEKUPPELT
S   M 54.4;         // AUSGANGSMERKER WZW AWZ-EINKUPPELN
R   M 58.6;         // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
R   M 85.7          // ZEITÜBERSCHREITUNG AWZ-EINKUPPELN
NETWORK
TITLE =
UN  M 85.0          // M3,M4 EINKUPPELANFORDERUNG
R   M 90.4;         // AFG,EFG VON EINKUPPELANFORDERUNG
R   M 94.7;         // SFG VON EINKUPPELANFORDERUNG
NETWORK
TITLE = AWZ-EINKUPPELN BEENDEN
U   M 85.3          // HM WZW AWZ-EINKUPPELN
U   M 54.4;         // AUSGANGSMERKER WZW AWZ-EINKUPPELN
U   M 51.3;         // Sauter473.512 WZW AWZ-ist eingekuppelt
U   M 85.0          // M3,M4 EINKUPPELANFORDERUNG
SPBN   M004
S   M 83.5          // AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
R   DB25.DBX 341.1  // SPINDEL 1 EIN IM UHRZEIGER
R   DB25.DBX 341.2  // SPINDEL 1 EIN IM GEGEN UHRZEIGER
R   DB25.DBX 340.3; // EINLESEFREIGABE K1
R   DB25.DBX 340.4; // ACHSFREIGABE    K1
R   DB25.DBX 341.3  // SPINDEL 1 Freigabe
R   M 85.3          // HM WZW AWZ-EINKUPPELN
R   M 85.0          // M3,M4 EINKUPPELANFORDERUNG
R   M 85.2          // AWZ EINKUPPELDREHZAHL VORGEWÄHLT
R   Z 11;           // WZW ZEITÜBERSCHREITUNGZÄHLER
M004:   NOP 0
NETWORK
TITLE = AWZ-EINKUPPELN GEW.OHNE LAENGENAUSFLEICH BEENDEN
U   M 85.4          // AWZ EINKUPPELANVORDERUNG VON GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
U   M 83.5          // AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
S   M 85.5          // HM AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
R   M 85.4          // AWZ EINKUPPELANVORDERUNG VON GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
R   M 83.5          // AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
NETWORK
TITLE = AWZ abbrechen des Einkuppelvorganges
O   DB1.DBX 1370.3; // RESET TASTE GEDRÜCKT
O   DB2.DBX 5.1;    // 6041 ZEITÜBERWACHUNG WZW UND AWZ-EINKUPPELN
R   M 90.4;         // AFG,EFG VON EINKUPPELANFORDERUNG
R   M 94.7;         // SFG VON EINKUPPELANFORDERUNG
R   M 85.2          // AWZ EINKUPPELDREHZAHL VORGEWÄHLT
R   M 85.3          // HM WZW AWZ-EINKUPPELN
R   M 85.0          // M3,M4 EINKUPPELANFORDERUNG
R   M 54.4;         // AUSGANGSMERKER WZW AWZ-EINKUPPELN
S   M 58.6;         // AUSGANGSMERKER WZW AWZ-AUSKUPPELN
R   M 83.0          // AWZ EINKUPPELANFORDERUNG M3
R   M 84.0          // AWZ EINKUPPELANFORDERUNG M4
R   M 90.4;         // AFG,EFG VON EINKUPPELANFORDERUNG
R   M 90.3;         // WZW  AFG/EFG
R   M 86.0;         // WZW/T-WORT GÜLTIG
R   M 86.1          // AWZ AUSSCHALTEN
R   M 83.5          // AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
R   M 85.4          // AWZ EINKUPPELANVORDERUNG VON GEWINDESCHNEIDEN OHNE LÄNGENAUSGLEICH
R   M 54.2;         // AUSGANGSMERKER DCTRL1-PAR 3/4 PARAMETERSATZUMSCHALTUNG FÜR AWZ-MOTOR
R   M 85.5          // HM AWZ NACH ERFOLGREICHEM EINKUPPELN EINSCHALTEN
R   DB25.DBX 340.3; // EINLESEFREIGABE K1
R   DB25.DBX 340.4; // ACHSFREIGABE    K1
R   DB25.DBX 341.3  // SPINDEL 1 Freigabe
END_FUNCTION
FUNCTION FC 4 : VOID
NAME: X,Z-ACHSE, Bremssteuerung, Imp.und Reglerfreigabe
BEGIN
//  -A111 X-ACHSE
//  X3:5  Led H2   E 0.0  // X-ACHSE SERVO-READY
//  X3:11 Led H1   A 0.0  // X-ACHSE Reglerfreigabe
//  X3:12 Led H3   A 11.0 // Kopplung aktiv
//  X3:13 Led H4   A 11.1 // Parkende X-Achse
//  X422:4   E 3.4        // Bremse öffnen von X-Achsreglerbaugruppe
//  X421:5   A 9.1        // Bremse X-Achse öffnen
//  -A113 Z-ACHSE
//  X3:5  Led H2   E 0.2  // Z-ACHSE SERVO-READY
//  X3:11 Led H1   A 0.2  // Z-ACHSE Reglerfreigabe
//  X3:12 Led H3   A 11.3 // Kopplung aktiv Z-ACHSE
//  X3:13 Led H4   A 11.4 // Parkende Z-Achse
NETWORK
TITLE = Bremse X-Achse öffnen
U   E 3.4           // Bremse öffnen von X-Achsreglerbaugruppe
UN  DB2.DBX 0.0;    // 6000  NOT-AUS
=   A 9.1;          // Bremse X-Achse öffnen
NETWORK
TITLE = Achsreglerfreigaben bei TÜR ZU oder Sonderbetrieb einschalten
O   M 113.0;        // SONDERBETRIEB AKTIV
O   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   M 110.0;        // AUX-ON
U   T 83;//200mS EINSCHALTVERZ.Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000
UN  M 110.2         // HM AUX OFF schalten
S   A 0.0           // X-ACHSE Reglerfreigabe
S   A 0.2           // Z-ACHSE Reglerfreigabe
NETWORK
TITLE = Kopplung Linearachsen einschalten
U   M 111.0;        // ACHSEN BETRIEBSBEREIT
S   A 11.0          // Kopplung aktiv X-ACHSE
S   A 11.3          // Kopplung aktiv Z-ACHSE
NETWORK
TITLE = Achsreglerfreigaben ausschalten
O   M 110.2         // HM AUX OFF schalten
O(
U   M 143.4;        // HM TÜR AUF STAT.
U   DB10.DBX 75.0;  // SPS-MSD /TÜRAUTOMATIK
U   M 55.7;         // FREIGABE ZUM TÜRENTRIEGELN
UN  M 113.0;        // SONDERBETRIEB AKTIV
)
O(
U   M 51.2;         // ZUSTIMMTASTEN GEDRÜCKT
U   M 55.7;         // FREIGABE ZUM TÜRENTRIEGELN
UN  M 113.0;        // SONDERBETRIEB AKTIV
UN  DB10.DBX 75.0;  // SPS-MSD /TÜRAUTOMATIK
)
O   M 113.1;        // Anwahl Sonderbetrieb beenden
UN  M 131.7;        // ACHSEN IN BEWEGUNG
ON  E 2.2           // NICHT NOT-AUS
R   A 0.0           // X-ACHSE Reglerfreigabe
R   A 0.2           // Z-ACHSE Reglerfreigabe
NETWORK
TITLE = Parkende Linearachsen
ON  A 9.0           // NOT AUS für NE Modul Klemme 64
ON  E 2.2           // NICHT NOT-AUS
=   A 11.1          // Parkende X-Achse
=   A 11.4          // Parkende Z-Achse
NETWORK
TITLE = Kopplung ausschalten
;       O   DB2.DBX 1.5;    // 6013  HAUPTANTRIEB NICHT BEREIT
;       O   DB2.DBX 2.4;    // 6020  AWZ-Antrieb Störung
O   DB2.DBX 0.0;    // 6000  NOT-AUS
O   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREIT
O   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREIT
O   DB2.DBX 2.3;    // 6019 UE Modul nicht betriebsbereit
R   A 11.0          // Kopplung aktiv X-ACHSE
R   A 11.3          // Kopplung aktiv Z-ACHSE
NETWORK
TITLE = ACHSEN BETRIEBSBEREIT
U   E 0.0;          // X-ACHSE SERVO-READY
U   E 0.2;          // Z-ACHSE SERVO-READY
=   M 111.0;        // ACHSEN BETRIEBSBEREIT
NETWORK
TITLE = ACHSEN BETRIEBSBEREIT  AFG/EFG
UN  M 111.0;        // ACHSEN BETRIEBSBEREIT
=   M 90.1;         // ACHSEN BETRIEBSBEREIT  AFG/EFG
NETWORK
TITLE = ÜBERWACHUNG ACHSANTRIEBE SCHARF
U   A 0.0           // X-ACHSE Reglerfreigabe
U   A 0.2           // Z-ACHSE Reglerfreigabe
L   S5T#3S;         // 3 SEKUNDEN
SE  T 4;            // STARTEN T 4 ALS EINSCHALTVERZ.
NETWORK
TITLE = 6010  ANTRIEB X-ACHSE N. BEREIT
U   T 4;            // ACHSÜBERWACHUNG SCHARF
UN  E 0.0;          // X-ACHSE SERVO-READY
L   S5T#1S;    // 2X0,1S
SE  T 62;           // STARTEN T 62 ALS EINSCHALTVERZ.
U   T 62;
S   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREIT
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREIT
NETWORK
TITLE = 6012  ANTRIEB Z-ACHSE N. BEREIT
U   T 4;            // ACHSÜBERWACHUNG SCHARF
UN  E 0.2;          // Z-ACHSE SERVO-READY
L   S5T#1S;    // 2X0,1S
SE  T 64;           // STARTEN T 64 ALS EINSCHALTVERZ.
U   T 64;
S   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREIT
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREIT
NETWORK
TITLE = HM ANTRIEB ACHSEN NICHT BEREIT
O   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREIT
O   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREIT
S   M 111.1;        // HM ANTRIEB XYZ-ACHSEN NICHT BEREIT
NETWORK
TITLE
NETWORK
TITLE
END_FUNCTION
FUNCTION FC 5 : VOID
NAME: JOG ACHSEN
BEGIN
NETWORK
TITLE = JOG-ACHSEN FREIGABE
U   M 102.0;        // SUM ACHSFREIGABE
U(    ;
O   DB20.DBX 324.4; // REFERENZPUNKT AKTIV
O   M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
)     ;
U(
O   M 149.0         // FREIGABE VON SICHERHEITSEINRICHTUNGEN
O(
U   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
)
)
=   M 112.0;        // JOG-ACHSEN FREIGABE
NETWORK
TITLE = JOG-ACHSEN/STARTVERR.
U   DB20.DBX 1.2;   // FC JOG-ACHSEN
UN  M 112.0;        // JOG-ACHSEN FREIGABE
O   M 149.1         // NEGATIV FLANKENMERKER AUS FREIGABE VON SICHERHEITSEINRICHTUNGEN
SPBN   M051
=   DB20.DBX 1.2;   // JOG-ANFORDERUNG
L   DW#16#0000_0000;// LADE 0
T   DB20.DBD 10;    // JOG IN ALLEN ACHSEN AUS
M051: NOP 0
NETWORK
TITLE = JOG-ACHSEN mit Eilgang
;DB20.DBX 295.7      // Eilgangüberlagerungtaste
;DB20.DBX 827.6;     // Eilgangüberlagerungtaste
U   DB20.DBX 295.7  // Eilgangüberlagerungtaste
U   M 12.0          // Tür zu und Verriegelt
U   M 112.0;        // JOG-ACHSEN FREIGABE
U   M 131.7;        // ACHSEN IN BEWEGUNG
U   DB20.DBX 324.4; // REFERENZPUNKT AKTIV
=   DB20.DBX 824.0; // Eilgangueberlagerung Kanal 0
END_FUNCTION
FUNCTION FC 6 : VOID
NAME: ACHSEN_REFERENZIEREN
BEGIN
NETWORK
TITLE = AUTOMATISCH IN BA REF UMSCHALTEN
U   DB1.DBX 1366.0; // DNC-BETRIEB AKTIV
SPB M0014
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
S   DB100.DBX500.0; // BIT FRÜR BA JOG
L   DB20.DBW 288    // BA ANWAHL
L   0
==I
SPB M0011
L   DB20.DBW 288    // BA ANWAHL
T   DB100.DBW 500
M0011: NOP 0
UN  DB20.DBX 324.4; // REFERENZPUNKT AKTIV
UN  DB1.DBX 1374.4  // AUX ON TASTE
U   M 110.0;        // AUX-ON
UN  M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB 8++++++++++
UN  M 21.2;         // HM MELDUNG 7042  MASCHINENTÜR INIT. 8++++++++++
SPBN M0012
L   W#16#0400       // BIT BA REF SETZEN
T   DB20.DBW 288    // BA ANWAHL
SPA M0013
M0012: NOP 0
L   DB100.DBW 500
T   DB20.DBW 288    // BA ANWAHL
M0013: NOP 0
L   DB20.DBW 326
L   DB20.DBW 288
<>I
=   DB20.DBX 0.0    // BA WECHSELANFORDERUNG
M0014: NOP 0
NETWORK
TITLE = FREIGABE REFERENZIEREN
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   M 102.0;        // SUM ACHSFREIGABE
UN  M 100.2;        // VORSCHUBSCHALTER AUF 0%
UN  M 131.7;        // ACHSEN IN BEWEGUNG
UN  M 91.1;         // SUM ALARME  AFG/EFG
=   M 120.1;        // REF ACHSEN FREIGABE
NETWORK
TITLE = REFERENZPUNKT ANFAHREN ABBRECHEN(RESET AUSLÖSEN)
U   DB20.DBX 327.2; // BETRIEBSART REFERENZ
U   M 110.1;        // MASCHINENTÜR OFFEN
FP  M 122.4         // FLANKENMERKER RESET AUSLÖSEN
O   M 122.4         // FLANKENMERKER RESET AUSLÖSEN
O   DB1.DBX 1440.0  // NC-RESET AUSLÖSEN
=   DB1.DBX 1440.0  // NC-RESET AUSLÖSEN
NETWORK
TITLE = REFPKT.X,Z, VON MST ZUGLEICH ANFAHREN
UN  M 121.3;        // REFPKT.X,Z,ZUGLEICH ANFAHREN
U   DB20.DBX 830.4; // VON MST ALLE ACHSEN REFERENZIEREN
U   DB20.DBX 327.2; // BETRIEBSART REFERENZ
FP  M 121.0         // FM REFPKT.X,Z, VON MST ZUGLEICH ANFAHREN
U   M 121.0         // FM REFPKT.X,Z, VON MST ZUGLEICH ANFAHREN
U   M 120.1;        // REF ACHSEN FREIGABE
SPBN M1701;
SET;
=   DB20.DBX 1.1;        // REFERENZPKT.ANFAHREN (UMLENKUNG)
=   DB20.DBX 8.0;        // REFERENZIEREN X-ACHSE
=   DB20.DBX 8.2;        // REFERENZIEREN Z-ACHSE
M1701: NOP 0;
NETWORK
TITLE = MANUELLES REFERENZIEREN DER C-ACHSE VERHINDERN
U   DB20.DBX    9.4   //Referenzieren von Kanalachse C
R   DB20.DBX    9.4   //Referenzieren von Kanalachse C
NETWORK
TITLE = REFPKT.X,Z,ZUGLEICH ANFAHREN
UN  M 100.2;        // VORSCHUBSCHALTER AUF 0%
UN  M 121.3;        // REFPKT.X,Z,ZUGLEICH ANFAHREN
U   M 120.1;        // REF ACHSEN FREIGABE
U   DB20.DBX 8.0;   // REFERENZIEREN X-ACHSE
U   DB20.DBX 8.2;   // REFERENZIEREN Z-ACHSE
S   M 121.3;        // REFPKT.X,Z,ZUGLEICH ANFAHREN
FP  M 121.5;        // FM REFPKT.X,Z,ZUGLEICH ANFAHREN
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESET TASTE GEDRÜCKT
R   M 121.3;        // REFPKT.X,Z,ZUGLEICH ANFAHREN
NETWORK
TITLE = ALARME/REFERENZPUNKTVERLUST
O   M 121.5;        // FM REFPKT.X,Z,ZUGLEICH ANFAHREN
O   DB2.DBX 0.0;    // 6000  NOT-AUS
O   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREIT
O   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREIT
O   DB2.DBX 2.3;    // 6019  UE Modul nicht betriebsbereit
O   DB2.DBX 1.5;    // 6013  HAUPTANTRIEB NICHT BEREIT
FP  M 104.6;
U   M 104.6;
=   DB20.DBX 348.0; // REFERENZPUNKT DEAKTIVIEREN
NETWORK
TITLE = REFPKT.ANFAHREN SPERREN
U   DB20.DBX 1.1;   // REFERENZPKT.ANFAHREN
UN  M 120.1;        // REF ACHSEN FREIGABE
R   DB20.DBX 1.1;   // REFERENZPKT.ANFAHREN
S   DB20.DBX 318.7; // NEG.QUITTUNG DNC REFPKT.ANFAHREN
NETWORK
TITLE = X-ACHSE REFERENZIEREN (FC-CODE)
U   M 121.5;        // FM REFPKT.X,Z,ZUGLEICH ANFAHREN
U   DB20.DBX 8.0;   // REFERENZIEREN X-ACHSE
O(;
UN  M 121.3;        // REFPKT.X,Z,ZUGLEICH ANFAHREN
U   M 120.1;        // REF ACHSEN FREIGABE
U   DB20.DBX 8.0;   // REFERENZIEREN X-ACHSE
);
=   DB20.DBX 8.0;   // REFERENZIEREN X-ACHSE
NETWORK
TITLE = FM REFERENZPUNKT X-ACHSE AKTIV
U   DB1.DBX 134.0;  // REFERENZPUNKT X-ACHSE AKTIV
FP  M 120.0;        // FM REFERENZPUNKT X-ACHSE AKTIV
NETWORK
TITLE = Z-ACHSE REFERENZIEREN (FC-CODE)
U   M 121.3;        // REFPKT.X,Z,ZUGLEICH ANFAHREN
U   M 120.0;        // FM REFERENZPUNKT X-ACHSE AKTIV
O(;
UN  M 121.3;        // REFPKT.X,Z,ZUGLEICH ANFAHREN
U   M 120.1;        // REF ACHSEN FREIGABE
U   DB20.DBX 8.2;   // REFERENZIEREN Z-ACHSE
);
=   DB20.DBX 8.2;   // REFERENZIEREN Z-ACHSE
R   DB20.DBX 8.0;   // REFERENZIEREN X-ACHSE
SPBN   M701;
SET;
=   DB20.DBX 1.1;   // REFERENZPKT.ANFAHREN (UMLENKUNG)
M701:  NOP 0;
NETWORK
TITLE = FM REFERENZPUNKT AKTIV
U   DB20.DBX 324.4; // REFERENZPUNKT AKTIV
FP  M 122.5;        // FM REFERENZPUNKT AKTIV
U   M 122.5;        // FM REFERENZPUNKT AKTIV
R   M 121.3;        // REFPKT.X,Z,ZUGLEICH ANFAHREN
NETWORK
TITLE = 7017  REFERENZPUNKT ANFAHREN
U   M 110.0;        // AUX-ON
UN  DB20.DBX 324.4; // REFERENZPUNKT AKTIV
=   M 18.1;         // HM 7017  REFERENZPUNKT ANFAHREN
END_FUNCTION
FUNCTION FC 7 : VOID
NAME: AUX_ON
BEGIN
NETWORK
TITLE = 6024 ALARM MASCHINENTÜR OFFEN
;       UN  M 55.7;         // FREIGABE ZUM TÜRENTRIEGELN
;       U   M 110.1;        // MASCHINENTÜR OFFEN
;;       UN  M 113.0;        // SONDERBETRIEB AKTIV
;       UN  DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
;       UN  T 25;           // SONDERBETRIEB AKTIV 800MS AUSSCHALTVERZ.
;       U   M 110.0;        // AUX-ON
;       S   DB2.DBX 3.0;    // 6024 ALARM MASCHINENTÜR OFFEN
;
;       O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (PC/MSTT)
;       O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
;       R   DB2.DBX 3.0;    // 6024  MASCHINENTÜR OFFEN
NETWORK
TITLE = SUM ALARME 1
L   DB2.DBW 0;      // WORT/ALARME 1
L   W#16#0;         // LADE KONSTANTE HEX 0
<>I;                // VERGLEICH AUF UNGLEICH
=   M 105.0;        // SUM ALARME 1
NETWORK
TITLE = SUM ALARME 2
L   DB2.DBW 2;      // WORT/ALARME 2
L   W#16#0;         // LADE KONSTANTE HEX 0
<>I;                // VERGLEICH AUF UNGLEICH
=   M 105.1;        // SUM ALARME 2
NETWORK
TITLE = SUM ALARME 3/THERM. ALARME
L   DB2.DBW 4;      // BYTE/ALARME 3
L   W#16#0;         // LADE KONSTANTE HEX 0
<>I;                // VERGLEICH AUF UNGLEICH
=   M 105.2;        // SUM ALARME 3/THERM. ALARME
NETWORK
TITLE = SUM ALARME 5
L   DB2.DBW 6;      // WORT/ALARME 5
L   W#16#0;         // LADE KONSTANTE HEX 0
<>I;                // VERGLEICH AUF UNGLEICH
=   M 105.3;        // SUM ALARME 5
NETWORK
TITLE = SUM ALARME 6
L   DB2.DBW 8;      // WORT/ALARME 6
L   W#16#0;         // LADE KONSTANTE HEX 0
<>I ;               // VERGLEICH AUF UNGLEICH
=   M 105.4;        // SUM ALARME 6
NETWORK
TITLE = FM TASTE AUX-ON (MSTT/PC)
U   DB1.DBX 1374.4; // TASTE AUX-ON (PC)
UN  DB1.DBX 1374.3; // TASTE AUX-OFF (PC)
FP  M 110.5;        // FM TASTE AUX-ON
NETWORK
TITLE = FM TASTE AUX-OFF (MSTT/PC)
U   DB1.DBX 1374.3; // TASTE AUX-OFF (PC)
UN  DB1.DBX 1374.4; // TASTE AUX-ON (PC)
FP  M 110.7;        // FM TASTE AUX-OFF
NETWORK
TITLE = ANWAHL AUX-ON
U   DB1.DBX 1374.4; // TASTE AUX-ON (PC)
UN  DB1.DBX 1374.3; // TASTE AUX-OFF (PC)
O   M 168.1;        // ROBOTIK/FM AUX-ON
O   DB1.DBX 1382.4; // DNC/AUX-ON
UN  M 91.1;         // SUM ALARME  AFG/EFG
;       U   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
UN  M 11.0          // HM NOT AUS Test Ersteinschaltung
UN  M 11.4          // HM Tür auf/zu-Test Ersteinschaltung
UN   M 110.2          // HM AUX OFF schalten
S   M 110.0;        // AUX-ON
NETWORK
TITLE = FM AUX-ON
U   M 110.0;        // AUX-ON
FP  M 110.3;        // FM AUX-ON
NETWORK
TITLE = ABWAHL AUX-ON
UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
UN  M 20.0;         // HAUPTANTRIEB LÄUFT (AUSGANG BEDIENMODUL X1:9)
UN  M 131.7;        // ACHSEN IN BEWEGUNG
UN  M 152.0         // WERKZEUGWENDEN AKTIV
U(  ;
O   M 110.7;        // FM TASTE AUX-OFF
O   DB1.DBX 1382.3; // DNC/ AUX-OFF
)   ;
O   DB2.DBX 0.0;    // 6000  NOT-AUS
O   DB1.DBX 1370.1; // FATALER FEHLER AUFGETRETEN
;       O   DB2.DBX 0.6;    // 6006  NOT AUS-Relais K1 auf Sicherheitsmodul nicht Abgefallen
;       O   DB2.DBX 1.1;    // 6009  AUSGABEMODUL NICHT DURCHGESCHALTET
;       O   DB2.DBX 3.0;    // 6024  ALARM MASCHINENTÜR OFFEN
;       O   DB2.DBX 6.7;    // 6055  KEIN TEIL GESPANNT
;       O   DB2.DBX 7.0;    // 6056  PINOLE NICHT BEREIT
;       O   DB2.DBX 7.4;    // 6060  C-ACHSE VERRIEGELUNGSÜBERWACHUNG
;       O   DB2.DBX 8.1;    // 6065  STÖRUNG LADEMAGAZIN
O   DB2.DBX 8.3;    // 6067  KEINE DRUCKLUFT
O   DB2.DBX 8.4;    // 6068  Hauptmotor Übertemperatur
O   DB2.DBX 0.7;    // 6007  VERSORGUNGSSCHÜTZE NICHT ABGEFALLEN
O   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREIT
O   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREIT
O   DB2.DBX 1.5;    // 6013  HAUPTANTRIEB NICHT BEREIT
O   DB2.DBX 2.3;    // 6019  UE Modul nicht betriebsbereit
O   DB2.DBX 3.2;    // 6026  Störung Kühlmittelpumpe
O   DB2.DBX 11.2;   // 6090 Spänefördererschütz nicht abgefallen
S   M 110.2         // HM AUX OFF schalten
UN  E 0.0;          // X-ACHSE SERVO-READY
UN  E 0.2;          // Z-ACHSE SERVO-READY
UN  E 3.4           // Bremse öffnen von X-Achsreglerbaugruppe
UN  A 0.0           // X-ACHSE Reglerfreigabe
UN  A 0.2           // Z-ACHSE Reglerfreigabe
U   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
U(
O   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
O   M 4.0           // CT250 TC  ohne AWZ
)
U   M 110.2         // HM AUX OFF schalten
R   M 110.0;        // AUX-ON
R   M 110.2         // HM AUX OFF schalten
NETWORK
TITLE = AUX-ON  SFG
ON  M 110.0;        // AUX-ON
O   M 110.1;        // MASCHINENTÜR OFFEN
=   M 94.0;         // AUX-ON  SFG
NETWORK
TITLE = AUX-ON   AFG/EFG
ON  M 110.0;        // AUX-ON
;       ON  M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET
=   M 90.0;         // AUX-ON   AFG/EFG
NETWORK
TITLE = MELDUNG 7016  HILFSANTRIEBE EINSCHALTEN
UN  M 110.0;        // AUX-ON
=   M 18.0          // HM MELDUNG 7016  HILFSANTRIEBE EINSCHALTEN
NETWORK
TITLE = SPS/OB-->NOT-AUS AKTIV
U   DB2.DBX 0.0;    // 6000  NOT-AUS
=   DB1.DBX 1390.5; // SPS/RM-->NOT-AUS AKTIV
NETWORK
TITLE = SPS/OB-->MASCHINENTÜR GESCHL.
;       U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   M 12.0          // Tür zu und Verriegelt
=   DB1.DBX 1390.1; // SPS/RM-->MASCHINENTÜR GESCHL.
NETWORK
TITLE = SPS/OB-->AUX-ON
U   M 110.0;        // AUX-ON
=   DB1.DBX 1390.2; // SPS/RM-->AUX-ON
NETWORK
TITLE = AUX-ON/NEG.DNC-QUITTUNG
U   DB1.DBX 1366.0; // DNC-BETRIEB AKTIV
U(  ;
U   DB1.DBX 1382.4; // DNC/AUX-ON
UN  M 110.0;        // AUX-ON
O   ;
U   DB1.DBX 1382.3; // DNC/AUX-OFF
U   M 110.0;        // AUX-ON
)   ;
S   DB1.DBX 1398.1; // AUX-ON/NEG.DNC-QUITTUNG
END_FUNCTION
FUNCTION FC 8 : VOID
NAME: NC_STARTVERR.UND BEDIENTASTEN
BEGIN
NETWORK
TITLE = AFG/EFG/SFG/ALARM AKTIV
U   M 104.2;        // SUM  SFG
O(
U   DB20.DBX 324.7; // EINZELSATZ (SINGLE) ANGEWÄHLT
U   DB10.DBX 77.2;  // LADEMAGAZIN AKTIVIEREN
U   M 138.4;        // SPANNMITTEL ENTSPANNT
)
U   DB20.DBX 340.4; // ACHSFREIGABE
U   DB20.DBX 340.3; // EINLESEFREIGABE
=   M 103.1;        // NC-START FREIGABE VON AFG,EFG,SFG
ON  M 103.1;        // NC-START FREIGABE VON AFG,EFG,SFG
O   DB1.DBX 1366.3; // MASCHINENALARM AKTIV
=   M 96.0;         // NC-STARTVERRIEGELUNG
NETWORK
TITLE = SCHLÜSSELSCHALTER BETRIEBSART AUTOMATIK/HAND
U   M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
;8******       UN  M 113.0;        // SONDERBETRIEB AKTIV
=   M 96.1;         // NC-STARTVERRIEGELUNG
NETWORK
TITLE = PNEUMATIKÖLER LEER
U   M 18.3          // HM MELDUNG 7019  PNEUMATIKÖLER LEER
=   M 96.2;         // NC-STARTVERRIEGELUNG
NETWORK
TITLE = SOLLSTÜCKZAHL ERREICHT
U   M 21.3;         // HM 7043  SOLLSTÜCKZAHL ERREICHT
=   M 96.3;         // NC-STARTVERRIEGELUNG
NETWORK
TITLE = AUFFANGSCHALEÜBERWACHUNG
U   M 18.6;         // HM MELDUNG 7022  AUFFANGSCHALEÜBERWACHUNG
=   M 96.4;         // NC-STARTVERRIEGELUNG
NETWORK
TITLE = SCHMIERMITTEL UND LÜFTER HA
O   M 19.2;         // HM 7026 Störung Lüfter Hauptmotor
O   M 20.6;         // HM 7038 DRUCKSCHALTER SCHM. DEFEKT
O   M 20.7;         // HM 7039 SCHMIERMITTEL DEFEKT
=   M 96.5;         // NC-STARTVERRIEGELUNG
NETWORK
TITLE = REFERENZPUNKT NICHT AKTIV
UN  DB20.DBX 324.4; // REFERENZPUNKT AKTIV
=   M 96.6;         // NC-STARTVERRIEGELUNG
NETWORK
TITLE = PINOLE UNGÜLTIGE POSITION
UN  M 141.2;        // PINOLE ENDLAGE HINTEN
UN  M 141.3;        // PINOLE GESPANNT
U   DB10.DBX 75.1;  // SPS-MSD /PINOLE
=   M 97.0;         // NC-STARTVERRIEGELUNG
NETWORK
TITLE = 7021  WERKZEUGWENDER FREIFAHREN
U   M 18.5;         // HM 7021  WZW NICHT VERRIEGELT
=   M 97.1;         // NC-STARTVERRIEGELUNG
NETWORK
TITLE = SUM NC-START VERR.
L   MW 96;          // WORT/NC-STARTVERR.
L   W#16#0;         // LADE KONSTANTE HEX 0
==I;                // VERGEICH AUF UNGEICH
=   M 104.3;        // SUM NC-STARTVERR.
NETWORK
TITLE = NC-START IST FREIGEGEBEN
U   M 104.3;        // SUM  NC-STARTVERR.
=   DB20.DBX 311.5  // Melden NC-START IST FREIGEGEBEN
NETWORK
TITLE = 7018  SCHLÜSSEL UMSCHALTEN
U   M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
=   M 18.2;         // HM 7018  SCHLÜSSEL UMSCHALTEN
NETWORK
TITLE = FM CYCLE-START TASTE VON BEDIENPULT UND RAFITASTE
O   DB20.DBX 831.5  // CYCLE-START TASTE VON BEDIENPULT
O   DB20.DBX 833.3  // RAFI Tastatur X3.1/2 CYCLE START Taste
FP  M 105.5;        // FM CYCLE-START TASTE VON BEDIENPULT
NETWORK
TITLE = CYCLE-START VON TASTEN,ROBOTIK UND NACH TÜR ZU
O   M 105.5;        // FM CYCLE-START TASTE VON BEDIENPULT
O   M 146.3         // CYCLE START NACH TÜR ZU
O   M 168.7;        // ROBOTIK/FM NC-START
U   M 104.3;        // SUM  NC-STARTVERR.
=   DB20.DBX 3.6;   // NC-START ANFORDERUNG
R   T 72
NETWORK
TITLE = FM NC-STOPP TASTE VON BEDIENPULT oder HM M0/M1 DYNAMISCH
O   DB20.DBX 831.4  // NC-STOPP TASTE VON BEDIENPULT
FP  M 105.6;        // FM NC-STOPP TASTE VON BEDIENPULT
O   M 105.6;        // FM NC-STOPP TASTE VON BEDIENPULT
O   M 34.1;         // HM M0/M1 DYNAMISCH
O   DB20.DBX 0.1;   // NC-STOPP ANFORDERUNG
=   DB20.DBX 0.1;   // NC-STOPP ANFORDERUNG
NETWORK
TITLE = FM RESET TASTE VON BEDIENPULT
O   DB20.DBX 828.6  // RESET TASTE VON BEDIENPULT
FP  M 105.7;        // FM RESET TASTE VON BEDIENPULT
O   M 105.7;        // FM RESET TASTE VON BEDIENPULT
O   DB20.DBX 4.0;   // RESET ANFORDERUNG
=   DB20.DBX 4.0;   // RESET ANFORDERUNG
NETWORK
TITLE = NC-START/STARTVERR.
O   DB20.DBX 0.2;   // FC NC-START
U(
O   DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
O   DB20.DBX 326.2; // BETRIEBSART MDI
)
U   M 104.3;        // SUM  NC-STARTVERR.
=   DB20.DBX 0.2;   // FC NC-START
NETWORK
TITLE = NC-START/NEG.DNC-QUITTUNG
U   DB1.DBX 1366.0; // DNC-BETRIEB AKTIV
U   DB20.DBX 0.2;   // FC NC-START
UN  M 104.3;        // SUM  NC-STARTVERR.
S   DB20.DBX 319.0; // NC-START/NEG.DNC-QUITTUNG
END_FUNCTION
FUNCTION FC 9 : VOID
NAME: RESET
BEGIN
NETWORK
TITLE = /FM AUX-ON
U   M 110.0;        // AUX-ON
FN  M 109.5;        // /FM AUX-ON
NETWORK
TITLE = /FM AUX-ON/WORT RESET
U   M 109.5;        // /FM AUX-ON
=   M 98.1;         // /FM AUX-ON/WORT RESET
NETWORK
TITLE = /FM SONDERBETRIEB AKTIV
U   M 113.0;        // SONDERBETRIEB AKTIV
FN  M 113.7;        // /FM SONDERBETRIEB AKTIV
NETWORK
TITLE = /FM SONDERBETRIEB/WORT RESET
U   M 113.7;        // /FM SONDERBETRIEB AKTIV
=   M 98.3;         // /FM SONDERBETRIEB/WORT RESET
NETWORK
TITLE = SUM RESET
L   MW 98;          // LADE WORT RESET
L   W#16#0;         // LADE KONSTANTE HEX 0
<>I ;               // VERGLEICH AUF UNGLEICH
=   M 104.4;        // SUM RESET
NETWORK
TITLE = FC RESET/SPS
O   M 104.4;        // SUM RESET
S   DB1.DBX 1440.0; // FC RESET/SPS
END_FUNCTION
FUNCTION FC 10 : VOID
NAME: BEI_PROGRAMM_ENDE_RESET_ODER_NEUSTART
BEGIN
NETWORK 1
TITLE = DAUERLAUF BIT FREISCHALTEN
U   DB10.DBX 1.0;   // SPS-MSD DAUERLAUF-BIT
UN  DB10.DBX 77.2;  // LADEMAGAZIN AKTIVIEREN
=   M 10.2          // NEUSTART NACH PROGRAMMENDE
NETWORK 2
TITLE = LED 1x TASTE AKTIVIEREN
U   DB10.DBX 77.2;  // LADEMAGAZIN UND 1x TASTE AKTIVIEREN
SPB   M001
=   M 8.2           // 1X AKTIV
M001:  NOP 0;
NETWORK 3
TITLE = NEUSTART VON 1X TASTE UND VON M30,M32
// M30 UND M32 SIND NICHT IM SELBEN PLC-CYCLUS AKTIV !!!!!!!!
U   DB20.DBX 195.6; // M30 DYN.
U   DB10.DBX 77.2;  // LADEMAGAZIN AKTIVIEREN
UN  M 8.2           // 1X AKTIV
S   M 10.6          // HM M30 DYN.
U   DB20.DBX 196.0; // M32 DYN.
U   DB10.DBX 77.2;  // LADEMAGAZIN AKTIVIEREN
UN  M 8.2           // 1X AKTIV
S   M 10.7          // HM M32 DYN.
U   M 10.6          // HM M30 DYN.
U   M 10.7          // HM M32 DYN.
S   M 10.2          // NEUSTART NACH PROGRAMMENDE
NETWORK 4
TITLE = PROGRAMM ENDE AN NC
U   M 10.1;         // HM
UN  M 10.2          // NEUSTART NACH PROGRAMMENDE
R   M 10.1;         // HM
=   DB20.DBX 348.1; // PROGRAMM LÄUFT WIRD ZURÜCKGESETZT
R   M 10.6          // HM M30 DYN.
R   M 10.7          // HM M32 DYN.
NETWORK 5
TITLE = PROGRAMM ENDE UND NEUSTART (DAUERLAUF) AN NC
U   M 10.1;         // HM
U   M 10.2          // NEUSTART NACH PROGRAMMENDE
U   M 104.3;        // SUM  NC-STARTVERR.
U   DB20.DBX 340.3; // EINLESEFREIGABE
R   M 10.1;         // HM
=   DB20.DBX 348.2; // PROGRAMM LÄUFT WIRD ZURÜCKGESETZT UND GESTARTET
R   M 10.2          // NEUSTART NACH PROGRAMMENDE
R   M 10.6          // HM M30 DYN.
R   M 10.7          // HM M32 DYN.
NETWORK 6
TITLE = ISTDREHZAHL KLEINER 20U/MIN
O   DB20.DBX 192.2; // M2 DYN.
O   DB20.DBX 195.6; // M30 DYN.
S   M 10.0;         // HM
U   M 10.0;         // HM ENDE ODER NEUSTART
U   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
U(
O   M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
O   M 4.0           // CT250 TC  ohne AWZ
)
S   M 10.1;         // HM
R   M 10.0;         // HM ENDE ODER NEUSTART
NETWORK 7
TITLE = M2 M30 und M32 RÜCKMELDEN VON M2,M30,M32 UND RESET
O   DB20.DBX 348.1; // PROGRAMM LÄUFT WIRD ZURÜCKGESETZT
O   DB20.DBX 348.2; // PROGRAMM LÄUFT WIRD ZURÜCKGESETZT UND GESTARTET
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
O   DB1.DBX 1440.0; // RESET AUSGELÖST
R   M 10.0;         // HM ENDE ODER NEUSTART
R   M 10.1;         // HM
R   M 10.2          // NEUSTART NACH PROGRAMMENDE
R   M 10.6          // HM M30 DYN.
R   M 10.7          // HM M32 DYN.
=   DB20.DBX 259.6; // M30 RÜCKMELDEN
=   DB20.DBX 260.0; // M32 RÜCKMELDEN
=   DB20.DBX 256.2; // M2 RÜCKMELDEN
END_FUNCTION
FUNCTION FC 14: VOID
NAME: PLC NC-ÜBERGABE UND AFG/EFG/SFG
BEGIN
NETWORK
TITLE = SUM MELDUNGEN  AFG/EFG
;//  BELEGUNG VON MELDUNGSWORT DB3.DBW 0:
;//  DB3.DBX 0.0;  7000  FALSCHES T-WORT
L   DB3.DBW 0;      // WORT/MELDUNGEN  AFG/EFG
L   W#16#0;         // LADE KONSTANTE HEX 0
<>I;                // VERGLEICH AUF UNGLEICH 0
=   M 91.0;         // SUM MELDUNGEN  AFG/EFG
NETWORK
TITLE = SUM MELDUNGEN  AFG/EFG
O   M 105.0;        // SUM ALARME 1
O   M 105.1;        // SUM ALARME 2
O   M 105.2;        // SUM ALARME 3/THERM. ALARME
O   M 105.3;        // SUM ALARME 5
O   M 105.4;        // SUM ALARME 6
=   M 91.1;         // SUM ALARME  AFG/EFG
NETWORK
TITLE = AFG/EFG VON SICHERHEITSEINRICHTUNGEN
UN  M 149.0;        // FREIGABE VON SICHERHEITSEINRICHTUNGEN
=   M 92.0;         // AFG/EFG VON SICHERHEITSEINRICHTUNGEN
NETWORK
TITLE = ACHSFREIGABE
UN  M 90.0;         // AUX-ON   AFG/EFG
UN  M 90.1;         // ACHSEN BETRIEBSBEREIT  AFG/EFG
UN  M 90.3;         // WZW  AFG/EFG
UN  M 90.4;         // AWZ EINKUPPELANFORDERUNG
UN  M 90.5;         // AWZ LAUFT AUS  AFG/EFG
UN  M 90.6;         // HA LAUFT AUS  AFG/EFG
UN  M 90.7;         // AUFFANGSCHALE IN BEWEGUNG
UN  M 91.0;         // SUM MELDUNGEN  AFG/EFG
UN  M 91.1;         // SUM ALARME  AFG/EFG
UN  M 91.2;         // ROBOTIK VORSCHUB-STOP AFG/EFG
UN  M 91.3;         // TÜRBEWEGUNG AKTIV  AFG/EFG
UN  M 91.4;         // PINOLENBEWEGUNG AKTIV  AFG/EFG
;       UN  M 91.5;         // SPANNMITTELBEWEGUNG AKTIV  AFG/EFG
;       UN  M 91.5;         // ZANGENBEWEGUNG AKTIV  AFG/EFG
UN  M 91.6;         // VORSCHUB HALT AKTIV  AFG/EFG
UN  M 91.7;         // SPINDEL HALT AKTIV  AFG/EFG
UN  M 92.0;         // AFG/EFG VON SICHERHEITSEINRICHTUNGEN
UN  M 80.2;         // AFG EFG von Achsumschaltung Spindel0
=   M 102.0;        // SUM ACHSFREIGABE
U   M 102.0;        // SUM ACHSFREIGABE
=   DB20.DBX 340.4; // ACHSFREIGABE
NETWORK
TITLE = EINLESEFREIGABE
UN  M 90.0;         // AUX-ON   AFG/EFG
UN  M 90.1;         // ACHSEN BETRIEBSBEREIT  AFG/EFG
UN  M 90.3;         // WZW  AFG/EFG
UN  M 90.4;         // AWZ EINKUPPELANFORDERUNG
UN  M 90.5;         // AWZ LAUFT AUS  AFG/EFG
UN  M 90.6;         // HA LAUFT AUS  AFG/EFG
UN  M 90.7;         // AUFFANGSCHALE IN BEWEGUNG
UN  M 91.0;         // SUM MELDUNGEN  AFG/EFG
UN  M 91.1;         // SUM ALARME  AFG/EFG
;       UN  M 91.2;         // ROBOTIK VORSCHUB-STOP AFG/EFG
UN  M 91.3;         // TÜRBEWEGUNG AKTIV  AFG/EFG
UN  M 91.4;         // PINOLENBEWEGUNG AKTIV  AFG/EFG
UN  M 91.5;         // SPANNMITTELBEWEGUNG AKTIV  AFG/EFG
UN  M 91.5;         // ZANGENBEWEGUNG AKTIV  AFG/EFG
;       UN  M 91.6;         // VORSCHUB HALT AKTIV  AFG/EFG
UN  M 91.7;         // SPINDEL HALT AKTIV  AFG/EFG
UN  M 92.0;         // AFG/EFG VON SICHERHEITSEINRICHTUNGEN
=   M 104.0;        // SUM EINLESEFREIGABE
U   M 104.0;        // SUM EINLESEFREIGABE
UN  M 40.0          // HM ANWAHL AWZ-MOTOR M3
UN  M 40.1          // HM ANWAHL AWZ-MOTOR M4
UN  M 81.7          // ZUSATZMERKER UMSCHALTUNG SP/RUND ELFREIG // !!!!! YVONNE
UN  M 18.5;         // HM 7021  WERKZEUGWENDER FREIFAHREN
=   DB20.DBX 340.3; // EINLESEFREIGABE
NETWORK
TITLE = Freigaben für Betriebsart Repos
U   DB20.DBX 324.0; // PROGRAMM LÄUFT
U   DB20.DBX 324.1; // PROGRAMM ANGEHALTEN
U   DB20.DBX 326.3; // BETRIEBSART REPOS
SPBN  M1401;
=   DB25.DBX 340.3; // EINLESEFREIGABE K1
=   DB25.DBX 340.4; // ACHSFREIGABE    K1
M1401: NOP   0;
;//    BELEGUNG VON MW 94 (SFG) :     8*************
;//    M 94.0;      AUX-ON
;//    M 94.1;      LENZE STELLER BETRIEBSBEREIT
;//    M 94.3;      (SFG)SPANNMITTEL KEIN TEIL GESPANNT
;//    M 94.4;      (SFG)SPANNMITTEL OFFEN
;//    M 94.7;       SFG VON EINKUPPELANFORDERUNG
;//    M 95.0;      UMSCHALTUNG SPINDEL/RUNDACHSE AKTIV
;//    M 95.7;      SPINDEL HALT AKTIV
;//    M 80.4;      SPINDEL0 SPINDELBETRIEB
NETWORK
TITLE = SPINDELFREIGABE von SPANNMITTEL SPINDEL 0
U  M 138.5;         // SPANNMITTEL GESPANNT
O(
UN  M 5.0;          // ZUGROHR NACH LINKS
UN  M 5.1;          // ZUGROHR NACH RECHTS
)
O   M 167.3;        // Spindel drehen/pendeln aktiv
ON  DB10.DBX 75.2;  // SPS-MSD /PNEUM. RÖHM-SPANNMITTEL AKTIVIEREN
=   M 103.0         // SPINDELFREIGABE von SPANNMITTEL
UN  M 103.0         // SPINDELFREIGABE von SPANNMITTEL
=   M 94.4;         // (SFG)SPANNMITTEL OFFEN
NETWORK
TITLE = SUM  SFG
L   MW 94;          // WORT  SFG
L   W#16#0;         // LADE KONSTANTE HEX 0
==I;                // VERGLEICH AUF GLEICH
=   M 104.2;        // SUM  SFG
NETWORK
TITLE = SPINDELFREIGABE SPINDEL 0
U   M 104.2;        // SUM  SFG
U   M 145.3         // REGLERFREIGABE FÜR HAUPTANTRIEB
U   M 80.4;         // SPINDEL0 SPINDELBETRIEB
L   S5T#200MS;      //
SE  T 55
U   T 55
UN  DB20.DBX 324.2; // DRYRUN AKTIV
=   DB20.DBX 340.5; // SPINDELFREIGABE SPINDEL 0
NETWORK
TITLE = SPINDELFREIGABE SPINDEL 1
UN  M 25.5          // SPINDEL1 1=Rundachsbetrieb 0=Spindelbetrieb
L   S5T#200MS;      //
SE  T 0
U   M 104.2;        // SUM  SFG
U   M 40.3          // REGLERFREIGABE FÜR AWZ-MOTOR
L   S5T#200MS;      //
SE  T 56
U   T 56
U   T 0
UN  T 6;            // Achsumschaltung aktiv
;       UN  M 25.7;         // AFG von Achsumschaltung Spindel1
UN  DB20.DBX 324.2; // DRYRUN AKTIV
=   DB20.DBX 341.3  // SPINDELFREIGABE SPINDEL 1.
NETWORK
TITLE = SPS/OB-->WERKZEUGW. AKTIV
U   DB10.DBX 75.5;  // SPS-MSD /WERKZEUGWENDER
=   DB20.DBX 382.0; // SPS/RM-->WERKZEUGW. AKTIV
NETWORK
TITLE = SPS/OB-->TÜRAUTOMATIK AKTIV
U   DB10.DBX 75.0;  // SPS-MSD /TÜRAUTOMATIK
=   DB1.DBX 1418.0; // SPS/RM-->TÜRAUTOMATIK AKTIV
NETWORK
TITLE = SPS/OB-->PNEUM. SPM AKTIV
U   DB10.DBX 75.2;  // SPS-MSD /PNEUM. SPM
=   DB20.DBX 382.1; // SPS/RM-->PNEUM. SPM AKTIV
NETWORK
TITLE = SPS/OB-->PNEUM. PINOLE AKTIV
U   DB10.DBX 75.1;  // SPS-MSD /PINOLE
=   DB20.DBX 382.2; // SPS/RM-->PNEUM. PINOLE AKTIV
NETWORK
TITLE = SPS/OB-->AUSBLASEINR. AKTIV
U   DB10.DBX 75.3;  // SPS-MSD /AUSBLASEN
=   DB20.DBX 382.4; // SPS/RM-->AUSBLASEINR. AKTIV
NETWORK
TITLE = SPS/OB-->KÜHLMITTEL AKTIV
SET;
=   DB20.DBX 382.3; // SPS/RM-->KÜHLMITTEL AKTIV
NETWORK
TITLE = SUM SPINDEL EIN/AUS
UN  DB20.DBX 326.1; // BETRIEBSART EDIT
UN  DB20.DBX 326.2; // BETRIEBSART MDI
UN  DB20.DBX 326.3; // BETRIEBSART REPOS
UN  DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
UN  DB20.DBX 327.2; // BETRIEBSART REFERENZ
UN  DB20.DBX 327.4; // BETRIEBSART PRESET
=   M 104.5;        // HM BETRIEBSART JOG UND INC
END_FUNCTION
FUNCTION FC 12: VOID
NAME: SONDERBETRIEB
BEGIN
//  DB20.DBX 833.0  = M 50.1  RAFI Tastatur X2.1/2 Schlüsselschalter auf Sonderbetrieb
//  DB20.DBX 834.0  = M 51.2  RAFI Tastatur X6.1/2 Zustimmtaste
//  X5:11    E 2.3  = M 51.2   // Zustimmtaste Maschinenständer
NETWORK
TITLE = FG SONDERBETRIEB/SICHERHEITSSCH.
U   M 110.0;        // AUX-ON
U   M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
U   M 51.2;         // ZUSTIMMTASTE GEDRÜCKT
U   M 110.1;        // MASCHINENTÜR OFFEN
UN  DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
S   M 113.0;        // SONDERBETRIEB AKTIV
NETWORK
TITLE = Sonderbetrieb nach loslassen der Zustimmtaste oder Schlüsselschalter beenden
ON  M 51.2;         // ZUSTIMMTASTE GEDRÜCKT
ON  M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
U   M 113.0;        // SONDERBETRIEB AKTIV
=   M 113.1;        // Anwahl Sonderbetrieb beenden
UN  E 0.0;          // X-ACHSE SERVO-READY
UN  E 0.2;          // Z-ACHSE SERVO-READY
UN  E 3.4           // Bremse öffnen von X-Achsreglerbaugruppe
U   M 113.1;        // Anwahl Sonderbetrieb beenden
R   M 113.0;        // SONDERBETRIEB AKTIV
NETWORK
TITLE = MELDUNG 7020  SONDERBETRIEB AKTIV
U   M 113.0;        // SONDERBETRIEB AKTIV
=   M 18.4;         // HM MELDUNG 7020  SONDERBETRIEB AKTIV
NETWORK
TITLE = SONDERBETRIEB AKTIV
U   M 113.0;        // SONDERBETRIEB AKTIV
L   S5T#800MS;      // 8X0,1S
SA  T 25;           // SONDERBETRIEB AKTIV 800MS AUSSCHALTVERZ.
NETWORK
TITLE = SB AKTIV/VORSCHUBBEGR. 2M/MIN
U   M 113.0;        // SONDERBETRIEB AKTIV
=   DB20.DBX 340.2; // SB AKTIV/VORSCHUBBEGR.FÜR AC 2M/MIN
NETWORK
TITLE = SPS/OB-->HANDBETRIEB EIN
U   M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
=   DB1.DBX 1390.6; // SPS/RM-SCHLÜSSELSCHALTER AUF SONDERBETRIEB
END_FUNCTION
FUNCTION FC 13: VOID
NAME: INITIALISIERUNGEN ÜBERWACHUNGEN UND ALARME
BEGIN
;NETWORK
;TITLE = Abbruch bei nicht getestete Oberflaechen  ;8+++++++++
;      O     DB1.DBX 1402.2;     // Emcotronic TM02
;      O     DB1.DBX 1402.3;     // NUM
;      O     DB1.DBX 1402.4;     // PAL
;      O     DB1.DBX 1402.5;     // Heidenhain TNC355
;      O     DB1.DBX 1403.1;     // Techsoft
;      S     DB2.DBX 0.2;        // FM6002 SPS kein Programm geladen
;      BEB   ;                   // keine PLC-Bearbeitung
;
;      O     DB1.DBX 1402.0;     // Steuerungskennung SINUMERIK 810/820
;      O     DB1.DBX 1402.1;     // Fanuc 0TB
;      O     DB1.DBX 1403.0;     // Fanuc 21TB
;      =     M 114.0;            // 810T / 0TB / 21TB
NETWORK
TITLE = Remanente Bereiche aus SE/Daten laden
U     DB1.DBX 1370.0;     // 1. PLC-Durchlauf
SPBN     M021;
L     DB15.DBW 20;        // Maschinenkonfig. in SE-Daten
T     MW 5;               // akt. Maschinenkonfiguration
M021: NOP   0;
NETWORK
TITLE = SCHLÜSSELSCHALTER VORHANDEN
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
S   DB1.DBX 1418.2; // SCHLÜSSELSCHALTER VORHANDEN
;  NETWORK
;  TITLE = SPS/OB-->FUTTER/ZANGE
;
;       U   DB10.DBX 75.4;  // SPS-MSD /FUTT-ZANG
;       =   DB20.DBX 311.1; // SPS/RM-->FUTTER/ZANGE
NETWORK
TITLE = M0,M1 AUSLÖSUNG
O   DB20.DBX 192.0; // M0 DYNAMISCH
=   DB20.DBX 256.0; // M0 RÜCKMELDEN
U   DB20.DBX 192.1; // M1 DYNAMISCH
U   DB20.DBX 324.5; // BEDINGTER HALT AKTIV
=   DB20.DBX 256.1; // M1 RÜCKMELDEN
U   DB20.DBX 192.1; // M1 DYNAMISCH
U   DB20.DBX 324.5; // BEDINGTER HALT AKTIV
O   DB20.DBX 192.0; // M0 DYNAMISCH
=   M 34.1;         // HM M0/M1 DYNAMISCH
NETWORK
TITLE = SPS/OB-->EINZELSTÜCK AKTIV
UN  DB10.DBX 1.0;   // SPS-MSD DAUERLAUF AKTIV
=   DB1.DBX 1390.3; // SPS/RM-->EINZELSTÜCK AKTIV
NETWORK
TITLE = VORSCHUBSCHALTER AUF 0%
L   DB20.DBW 358;   // FEED-OVERRIDE-ISTWERT
L   W#16#0000;      // LADE 0
==I;                // VERGLEICH AUF GLEICH
=   M 100.2;        // VORSCHUBSCHALTER AUF 0%
NETWORK
TITLE = ALARMAUSGANG
U   DB1.DBX 1366.3; // MASCHINENALARM AKTIV
=   M 54.3;         // AUSGANGSMERKER ALARMAUSGANGANG
NETWORK
TITLE = HAUPTANTRIEB LÄUFT
UN  M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
=   M 20.0;         // HAUPTANTRIEB LÄUFT (AUSGANG BEDIENMODUL X1:9)
NETWORK
TITLE = FREIGABE VON SICHERHEITSEINRICHTUNGEN
U   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
UN  M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
O
UN  M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   M 51.2;         // ZUSTIMMTASTE GEDRÜCKT
U   M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
=   M 149.0         // FREIGABE VON SICHERHEITSEINRICHTUNGEN
FN  M 149.1         // NEGATIV FLANKENMERKER AUS FREIGABE VON SICHERHEITSEINRICHTUNGEN
NETWORK
TITLE = ACHSEN IN BEWEGUNG
L   DB1.DBB 1358;   // ACHSEN IN BEWEGUNG
L   B#16#0;         // LADE KONSTANTE HEX 0
<>I;                // VERGLEICH AUF UNGLEICH
=   M 131.7;        // ACHSEN IN BEWEGUNG
NETWORK
TITLE = ALARM 6026 Störung Kühlmittelpumpe
UN  E 2.4;          // Störung Kühlmittelpumpe
S   DB2.DBX 3.2;    // 6026 Störung Kühlmittelpumpe
U   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
R   DB2.DBX 3.2;    // 6026 Störung Kühlmittelpumpe
END_FUNCTION
FUNCTION FC 16: VOID
NAME: INC_ACHSEN
BEGIN
NETWORK
TITLE = ACHSEN INC FREIGABE
U   M 102.0;        // SUM ACHSFREIGABE
U(  ;
ON  DB10.DBX 75.1;  // SPS-MSD /PINOLE
O   M 141.2;        // PINOLE ENDLAGE HINTEN
O   M 141.3;        // PINOLE GESPANNT
)   ;
=   M 106.0;        // ACHSEN INC FREIGABE
NETWORK
TITLE = ACHSEN INC/STARTVERR.
U   DB20.DBX 1.3;   // FC INC ANFORDERUNG
UN  M 106.0;        // ACHSEN INC FREIGABE
R   DB20.DBX 1.3;   // FC INC ANFORDERUNG
END_FUNCTION
FUNCTION FC 17: VOID
NAME: UE Modul Netzeinspeisung
BEGIN
//  X6:9     A 3.5 // AUX ON Schütz
//  X5:3     A 4.2 // Impulsfreigabe UE-Modul und LEISTUNG Zwischenkreis
//  X422:8   E 9.4 // Rückmeldung Netzschütz UE-Modul abgefallen
//  X6:3     E 5.5 // UE-Modul betriebsbereit
NETWORK
TITLE = ALARM 6007 VERSORGUNGSSCHÜTZE NICHT ABGEFALLEN
ON  E 9.4           // Rückmeldung Netzschütz UE-Modul abgefallen
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
S   DB2.DBX 0.7;    // ALARM 6007 VERSORGUNGSSCHÜTZE NICHT ABGEFALLEN
NETWORK
TITLE = UE Modul
U   M 110.0;        // AUX-ON
U   E 9.4;          // Rückmeldung Netzschütz UE-Modul abgefallen
S   A 3.5;          // AUX ON Schütz
S   A 4.2;          // Impulsfreigabe UE-Modul und LEISTUNG Zwischenkreis
UN  M 110.0;        // AUX-ON
R   A 3.5;          // AUX ON Schütz
R   A 4.2;          // Impulsfreigabe UE-Modul und LEISTUNG Zwischenkreis
NETWORK
TITLE = UE Modul BETRIEBSBEREIT
U   E 5.5;          // UE-Modul betriebsbereit
U   A 3.5;          // AUX ON Schütz
U   A 4.2;          // Impulsfreigabe UE-Modul und LEISTUNG Zwischenkreis
=   M 131.0;        // UE Modul BETRIEBSBEREIT
NETWORK
TITLE = SFG VON UE Modul BETRIEBSBEREIT
UN  M 131.0;        // UE Modul BETRIEBSBEREIT
=   M 94.1;         // UE Modul BETRIEBSBEREIT
NETWORK
TITLE = UE Modul betriebsbereit
U   A 3.5;          // AUX ON Schütz
U   A 4.2;          // Impulsfreigabe UE-Modul und LEISTUNG Zwischenkreis
L   S5T#4S;         // 25X0,1S
SE  T 8;            // STARTEN T8 ALS EINSCHALTVERZ.
NETWORK
TITLE = ALARM 6019 UE Modul nicht betriebsbereit
UN  E 5.5;          // UE-Modul betriebsbereit
L   S5T#200MS;         // 2X0,1S
SE  T 9;            // STARTEN T9 ALS EINSCHALTVERZ.
U   T 8;            // HA ÜBERWACHUNG SCHARF
U   T 9;            // HA/SERVO-READY (0,2S)
U   E 2.2           // NICHT NOT-AUS
U   A 9.0           // NOT AUS für NE Modul Klemme 64
S   DB2.DBX 2.3;    // 6019 UE Modul nicht betriebsbereit
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 2.3;    // 6019 UE MODUL NICHT BETRIEBSBEREIT
END_FUNCTION
FUNCTION FC 18: VOID
NAME: KÜHLMITTEL_M8_M9
BEGIN
NETWORK
TITLE = FM TASTE KÜHLMITTEL (MSTT/PC)
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   DB20.DBX 294.6; // TASTE KÜHLMITTEL (PC)
FP  M 107.7;        // FM TASTE KÜHLMITTEL
NETWORK
TITLE = ANWAHL KÜHLMITTEL EIN (M8)
UN  M 117.1;        // M7 MINIMALSCHMIERUNG EIN  8*********
UN  M 107.1;        // KÜHLMITTEL EIN
U   M 107.7;        // FM TASTE KÜHLMITTEL
O   ;
U   DB20.DBX 225.1; // M9 STATISCH
U   DB20.DBX 193.0; // M8 DYN.
UN  DB20.DBX 192.7; // M7 DYN.
O   DB20.DBX 302.6; // DNC/KÜHLMITTEL EIN
S   M 107.1;        // KÜHLMITTEL EIN
;      S   M 117.1;        // M7 MINIMALSCHMIERUNG EIN   8******
=   M 107.2;        // HM KÜHLMITTEL EIN
=   DB20.DBX 257.0; // M8 RÜCKMELDEN
NETWORK
TITLE = ANWAHL MINIMALSCHMIERUNG EIN
U   DB20.DBX 225.1; // M9 STATISCH
U   DB20.DBX 192.7; // M7 DYN.
UN  DB20.DBX 193.0; // M8 DYN.
S   M 117.1;        // M7 MINIMALSCHMIERUNG EIN
=   DB20.DBX 256.7; // M7 AUSLÖSEN
NETWORK
TITLE = KÜHLMITTEL PROGRAMMIERT
U   DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
U   DB20.DBX 257.0; // M8 RÜCKMELDEN
U   DB20.DBX 193.0; // M8 DYN.
S   M 107.3;        // KÜHLMITTEL PROGRAMMIERT
NETWORK
TITLE = ABWAHL KÜHLMITTEL EIN (M9)
UN  M 107.3;        // KÜHLMITTEL PROGRAMMIERT
U   M 107.1;        // KÜHLMITTEL EIN
UN  M 107.2;        // HM KÜHLMITTEL EIN
U   M 107.7;        // FM TASTE KÜHLMITTEL
UN  M 117.1;        // M7 MINIMALSCHMIERUNG EIN 8*******
O   ;
O   DB20.DBX 193.1; // M9 DYN.
O   DB20.DBX 302.5; // DNC/KÜHLMITTEL AUS
O   ;
U   M 107.4;        // KÜHLMITTEL UNTERBRECHUNG
UN  DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
O   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
ON  M 110.0;        // AUX-ON
O   DB20.DBX 192.2; // M2 DYN.
O   DB20.DBX 195.6; // M30 DYN.
=   DB20.DBX 257.1; // M9 RÜCKMELDEN
R   M 107.1;        // KÜHLMITTEL EIN
R   M 117.1;        // M7 MINIMALSCHMIERUNG EIN
R   M 107.3;        // KÜHLMITTEL PROGRAMMIERT
NETWORK
TITLE = KÜHLMITTEL UNTERBRECHUNG
UN  M 117.1;        // M7 MINIMALSCHMIERUNG EIN     8***********
U   M 107.3;        // KÜHLMITTEL PROGRAMMIERT
UN  M 107.4;        // KÜHLMITTEL UNTERBRECHUNG
U   M 107.7;        // FM TASTE KÜHLMITTEL
S   M 107.4;        // KÜHLMITTEL UNTERBRECHUNG
=   M 107.5;        // HM KÜHLMITTEL UNTERBRECHUNG
U   M 107.4;        // KÜHLMITTEL UNTERBRECHUNG
UN  M 107.5;        // HM KÜHLMITTEL UNTERBRECHUNG
U   M 107.7;        // FM TASTE KÜHLMITTEL
ON  M 107.1;        // KÜHLMITTEL EIN
R   M 107.4;        // KÜHLMITTEL UNTERBRECHUNG
NETWORK
TITLE = KÜHLMITTEL FREIGABE
U(  ;
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
O   DB20.DBX 294.6; // TASTE KÜHLMITTEL (PC)
)   ;
UN  M 107.4;        // KÜHLMITTEL UNTERBROCHEN
U(  ;
ON  DB20.DBX 324.1; // PROGRAMM ANGEHALTEN
O   M 20.0;         // HAUPTANTRIEB LÄUFT (AUSGANG BEDIENMODUL X1:9)
O   M 20.1;         // AWZ LÄUFT
)   ;
UN  M 34.1;         // HM M0/M1 DYNAMISCH
UN  DB20.DBX 324.2; // DRYRUN AKTIV
=   M 107.0;        // KÜHLMITTEL FREIGABE
NETWORK
TITLE = KÜHLMITTEL LEISTUNG
U   M 107.1;        // KÜHLMITTEL EIN
U   M 107.0;        // KÜHLMITTEL FREIGABE
=   M 56.6;         // AUSGANGSMERKER KÜHLMITTEL LEISTUNG
NETWORK
TITLE = MINIMALSCHMIERUNG LEISTUNG
U   M 117.1;        // M7 MINIMALSCHMIERUNG EIN
U   M 107.0;        // KÜHLMITTEL FREIGABE
=   A 6.4;          // AUSGANGSMERKER MINIMALSCHMIERUNG
NETWORK
TITLE = SPS/OB-->KÜHLMITTEL EIN
U   M 107.1;        // KÜHLMITTEL EIN
=   DB20.DBX 310.5; // SPS/OB-->KÜHLMITTEL EIN
NETWORK
TITLE = SPS/OB-->KÜHLMITTEL SPRITZT
U   M 56.6;         // AUSGANGSMERKER KÜHLMITTEL LEISTUNG
=   DB20.DBX 310.6; // SPS/RM-->KÜHLMITTEL SPRITZT
NETWORK
TITLE = KÜHLMITTEL/NEG.DNC-QUITTUNG
U   DB1.DBX 1366.0; // DNC-BETRIEB AKTIV
U(  ;
U   DB20.DBX 302.6; // DNC/KÜHLMITTEL EIN
UN  DB20.DBX 225.0; // M8 STAT.
O   ;
U   DB20.DBX 302.5; // DNC/KÜHLMITTEL AUS
UN  DB20.DBX 225.1; // M9 STAT.
)   ;
S   DB1.DBX 1398.1; // KÜHLMITTEL/NEG.DNC-QUITTUNG
END_FUNCTION
FUNCTION FC 19: VOID
NAME: SPINDEL_HALT_START
BEGIN
NETWORK
TITLE = FM TASTE SPINDEL START (MSTT/PC)
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   DB20.DBX 295.4; // TASTE SPINDEL START (PC)
UN  DB20.DBX 295.3; // TASTE SPINDEL HALT (PC)
FP  M 132.5;        // FM TASTE SPINDEL START
NETWORK
TITLE = FM TASTE SPINDEL HALT (MSTT/PC)
U   DB20.DBX 295.3; // TASTE SPINDEL HALT (PC)
UN  DB20.DBX 295.4; // TASTE SPINDEL START (PC)
U(
U   M 4.1           // CT250 TCM mit AWZ
UN  M 41.0;         // AWZ ISTDREHZAHL KLEINER 20U/MIN
ON  M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN
)
FP  M 132.7;        // FM TASTE SPINDEL HALT
NETWORK
TITLE = SPINDEL HALT/START FREIGABE
U   M 104.2; // SUM  SFG
UN  M 131.7;        // ACHSEN IN BEWEGUNG    8**********
;       UN  M 152.0         // WERKZEUGWENDEN AKTIV  8**********
U   M 80.4;         // SPINDEL0 SPINDELBETRIEB
;       U(
;       O   M 80.4;         // SPINDEL0 SPINDELBETRIEB
;       ON  M 25.5;         // SPINDEL1 1=Rundachsbetrieb 0=Spindelbetrieb
;       )
=   M 132.0;        // SPINDEL HALT/START FREIGABE
NETWORK
TITLE = SPINDEL HALT AKTIV
U   M 132.0;        // SPINDEL HALT/START FREIGABE
U   M 132.7;        // FM TASTE SPINDEL HALT
U(  ;
ON  M 104.5;        // HM BETRIEBSART JOG UND INC
O   DB20.DBX 324.0; // PROGRAMM LÄUFT
)   ;
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
R   M 145.4
S   M 132.1;        // SPINDEL HALT AKTIV
U   M 132.5;        // FM TASTE SPINDEL START
U   M 132.1;        // SPINDEL HALT AKTIV
U(  ;
ON  M 104.5;        // HM BETRIEBSART JOG UND INC
O   DB20.DBX 324.0; // PROGRAMM LÄUFT
)   ;
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
S   M 145.4
U   M 145.4
L   S5T#200MS;      // 200MS
SE  T 5;            // STARTEN T 1 ALS EINSCHALTVERZ.
U   T 5;            // STARTEN T 1 ALS EINSCHALTVERZ.
R   M 132.1;        // SPINDEL HALT AKTIV
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
R   M 132.1;        // SPINDEL HALT AKTIV
R   M 145.4
NETWORK
TITLE = SPINDEL HALT AKTIV  SFG/ AFG/EFG
U   M 132.1;        // SPINDEL HALT AKTIV
U(
O   M 80.4;         // SPINDEL0 SPINDELBETRIEB
ON  M 25.5;         // SPINDEL1 1=Rundachsbetrieb 0=Spindelbetrieb
)
=   M 95.7;         // SPINDEL HALT AKTIV  SFG
=   M 91.7;         // SPINDEL HALT AKTIV  AFG/EFG
NETWORK
TITLE = ÜBERWACHUNGSZ. FÜR HA M3/M4
U   M 132.5;        // FM TASTE SPINDEL START
U   M 104.5;        // HM BETRIEBSART JOG UND INC
UN  DB20.DBX 324.0; // PROGRAMM LÄUFT
L   S5T#1S;         // 10X0,1S
SV  T 44;           // STARTEN T 44 ALS VERL. IMPULS
NETWORK
TITLE = /FM TASTE SPINDEL START (MT/PC)
U   DB20.DBX 295.4; // TASTE SPINDEL START (PC)
UN  DB20.DBX 295.3; // TASTE SPINDEL HALT (PC)
FN  M 132.3;        // FM TASTE SPINDEL START
END_FUNCTION
FUNCTION FC 20: VOID
NAME: VORSCHUB_HALT_START
BEGIN
NETWORK
TITLE = FM TASTE VORSCHUB START(MSTT/PC)
U   DB20.DBX 295.2; // TASTE VORSCHUB START (PC)
UN  DB20.DBX 295.1; // TASTE VORSCHUB HALT (PC)
FP  M 133.5;        // FM TASTE VORSCHUB START
NETWORK
TITLE = FM TASTE VORSCHUB HALT (MSTT/PC)
U   DB20.DBX 295.1; // TASTE VORSCHUB HALT (PC)
UN  DB20.DBX 295.2; // TASTE VORSCHUB START (PC)
FP  M 133.7;        // FM TASTE VORSCHUB HALT
NETWORK
TITLE = VORSCHUB HALT/START FREIGABE
U   M 102.0;        // SUM ACHSFREIGABE
UN  M 152.0         // WERKZEUGWENDEN AKTIV
=   M 133.0;        // VORSCHUB HALT/START FREIGABE
NETWORK
TITLE = VORSCHUB HALT AKTIV
O   DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
O   DB20.DBX 326.2; // BETRIEBSART MDI
O   DB20.DBX 327.2; // BETRIEBSART REFERENZ
U(
U   M 133.0;        // VORSCHUB HALT/START FREIGABE
U   M 133.7;        // FM TASTE VORSCHUB HALT
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   M 131.7         // ACHSEN IN BEWEGUNG
)
S   M 133.1;        // VORSCHUB HALT AKTIV
U   M 133.5;        // FM TASTE VORSCHUB START
UN  M 132.1;        // SPINDEL HALT AKTIV
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
R   M 133.1;        // VORSCHUB HALT AKTIV
NETWORK
TITLE = VORSCHUB HALT AKTIV  AFG/EFG
O   M 133.1;        // VORSCHUB HALT AKTIV
=   M 91.6;         // VORSCHUB HALT AKTIV  AFG/EFG
END_FUNCTION
FUNCTION FC 22: VOID
NAME: PNEUM.AUFFANGSCHALE
BEGIN
NETWORK
TITLE = M24 AUFFANGSCHALE VOR ZUM AUFFANGEN
U   DB20.DBX 195.0; // M24 DYN.AUFFANGSCHALE VOR ZUM AUFFANGEN
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   M 110.0;        // AUX-ON
S   M 56.2;         // AUSGANGSMERKER MV AUFFANGSCHALE AUFFANGEN
R   M 56.3;         // AUSGANGSMERKER MV AUFFANGSCHALE ZURÜCK
S   M 90.7;          // AUFFANGSCHALE IN BEWEGUNG EFG
=   DB20.DBX 259.0; // M24 RÜCKMELDEN
NETWORK
TITLE = EINLESEFREIGABE WEGNEHMEN
U   M 56.2;         // AUSGANGSMERKER MV AUFFANGSCHALE AUFFANGEN
UN  E  5.3;          // AUFFANGSCHALE HINTEN
L   S5T#1000MS;      // 1,5S
SE  T 49;           // ZEITLIMIT AUFFANGSCHALE VOR ZUM AUFFANGEN
NETWORK
TITLE = EINLESEFREIGABE GEBEN
U   M 56.3;         // AUSGANGSMERKER MV AUFFANGSCHALE ZURÜCK
U   E  5.3;          // AUFFANGSCHALE HINTEN
O   T 49;           // ZEITLIMIT AUFFANGSCHALE VOR ZUM AUFFANGEN
R   M 90.7;          // AUFFANGSCHALE IN BEWEGUNG EFG
NETWORK
TITLE = ZEITÜBERWACHUNG AUFFANGSCHALE VOR ZUM AUFFANGEN
U   M 56.2;         // AUSGANGSMERKER MV AUFFANGSCHALE AUFFANGEN
U   E  5.3;         // AUFFANGSCHALE HINTEN
L   S5T#2S;         // 2S
SE  T 45;           // ZEITÜBERWACHUNG AUFFANGSCHALE VOR ZUM AUFFANGEN
NETWORK
TITLE = M23 AUFFANGSCHALE ZURÜCK
O   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
O   M 110.3;        // FM AUX-ON
O   DB20.DBX 192.2; // M2 dyn
O   DB20.DBX 195.6; // M30 dyn
O   DB1.DBX 1370.3;  // RESETTASTE GEDRÜCKT
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
UN  E  5.3;          // AUFFANGSCHALE HINTEN
S   M 115.0;
U   DB20.DBX 194.7; // M23 DYN.AUFFANGSCHALE ZURÜCK
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
O   M 115.0;
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   M 110.0;        // AUX-ON
S   M 56.3;         // AUSGANGSMERKER MV AUFFANGSCHALE ZURÜCK
S   M 90.7;          // AUFFANGSCHALE IN BEWEGUNG EFG
R   M 56.2;         // AUSGANGSMERKER MV AUFFANGSCHALE AUFFANGEN
R   M 115.0;
R   M 18.6;         // HM MELDUNG 7022  AUFFANGSCHALEÜBERWACHUNG
=   DB20.DBX 258.7; // M23 RÜCKMELDEN
NETWORK
TITLE = ZEITÜBERWACHUNG AUFFANGSCHALE ZURÜCK
U   M 56.3;         // AUSGANGSMERKER MV AUFFANGSCHALE ZURÜCK
UN  E  5.3;          // AUFFANGSCHALE HINTEN
L   S5T#2S;         // 10X0,1S
SE  T 46;           // ZEITÜBERWACHUNG AUFFANGSCHALE ZURÜCK
NETWORK
TITLE = AUFFANGSCHALEÜBERWACHUNG
O   T 45;           // ZEITÜBERWACHUNG AUFFANGSCHALE VOR ZUM AUFFANGEN
O   T 46;           // ZEITÜBERWACHUNG AUFFANGSCHALE ZURÜCK
S   M 18.6;         // HM MELDUNG 7022  AUFFANGSCHALEÜBERWACHUNG
=   M 98.2;         // AUFFANGSCHALEÜBERWACHUNG RESET AUSLOESEN
U   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
U   M 18.6;         // HM MELDUNG 7022  AUFFANGSCHALEÜBERWACHUNG
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
S   M 56.2;         // AUSGANGSMERKER MV AUFFANGSCHALE AUFFANGEN
R   M 56.3;         // AUSGANGSMERKER MV AUFFANGSCHALE ZURÜCK
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
U   E  5.3;         // AUFFANGSCHALE HINTEN
R   M 18.6;         // HM MELDUNG 7022  AUFFANGSCHALEÜBERWACHUNG
R   M 90.7;         // AUFFANGSCHALE IN BEWEGUNG EFG
END_FUNCTION
FUNCTION FC 21: VOID
NAME: FUSZTASTER FÜR PNEUMATISCHES SPANNMITTEL
BEGIN
NETWORK
TITLE = FUSZTASTER FÜR PNEUMATISCHES SPANNMITTEL SCHLIESZEN
U   E  7.4;         // FUSZTASTER FUTTER ZU
UN  E  7.5;         // FUSZTASTER FUTTER AUF
FP  M 24.1;         // FM FUSZTASTER SPANNMITTEL ZU
NETWORK
TITLE = FUSZTASTER FÜR PNEUMATISCHES SPANNMITTEL ÖFFNEN
U   E  7.5;         // FUSZTASTER FUTTER AUF
UN  E  7.4;         // FUSZTASTER FUTTER ZU
FP  M 24.2;         // FM FUSZTASTER SPANNMITTEL AUF
END_FUNCTION
FUNCTION FC 23: VOID
NAME: PNEUM. RÖHM SPANNMITTEL
BEGIN
NETWORK 0
TITLE = BEI AUX OFF SPANNMITTELLUFT WEGSCHALTEN
SET
=   M 137.4;        // SPANNMITTELLUFT EINSCHALTEN
UN  M 110.0;        // AUX-ON
U   M 138.4;        // SPANNMITTEL ENTSPANNT
R   M 137.4;        // SPANNMITTELLUFT EINSCHALTEN
NETWORK 1
TITLE = ENDLAGENÜBERWACHUNG DEAKTIVIEREN
U   DB20.DBX 833.2  // RAFI Tastatur X2.3/4 SCHLÜSSELSCHALTER ENDLAGENÜBERWACHUNG DEAKTIVIEREN
U   M 8.2           // 1X AKTIV
O   M 5.2;          // ENDLAGENÜBERWACHUNG DEAKTIVIEREN
=   M 8.3;          // HM ENDLAGENÜBERWACHUNG DEAKTIVIEREN
NETWORK 1
TITLE = UMSCHALTUNG ZUG- ODER DRUCKSPANNMITTEL
U   M 5.0;          // ZUGROHR NACH LINKS (ZUGSPANNMITTEL)
U   E  6.4;         // SPANNMITTEL: FUTTER KEIN TEIL GESPANNT, ZANGE: ZANGE 0FFEN
O(  ;
U   M 5.1;          // ZUGROHR NACH RECHTS (DRUCKSPANNMITTEL)
U   E  6.3;         // SPANNMITTEL: FUTTER OFFEN, ZANGE: KEIN TEIL GESPANNT
)   ;
UN  M 8.3;          // HM ENDLAGENÜBERWACHUNG DEAKTIVIEREN
=   M 139.0;        // SPANNMITTEL KEIN TEIL GESPANNT
=   M 94.3;         // (SFG)SPANNMITTEL KEIN TEIL GESPANNT
R   M 6.0           // SPANNMITTEL OFFEN FÜR SETTINGDATEN
R   M 6.1           // SPANNMITTEL GESCHLOSSEN FÜR SETTINGDATEN
R   M 138.5;        // SPANNMITTEL GESPANNT
U   M 5.0;          // ZUGROHR NACH LINKS (ZUGSPANNMITTEL)
U   E  6.3;         // SPANNMITTEL: FUTTER OFFEN, ZANGE: KEIN TEIL GESPANNT
O(  ;
U   M 5.1;          // ZUGROHR NACH RECHTS (DRUCKSPANNMITTEL)
U   E  6.4;         // SPANNMITTEL: FUTTER KEIN TEIL GESPANNT, ZANGE: ZANGE 0FFEN
)   ;
UN  M 8.3;          // HM ENDLAGENÜBERWACHUNG DEAKTIVIEREN
=   M 139.1;        // SPANNMITTEL OFFEN
NETWORK 3
TITLE = FM TASTE SPANNMITTEL
O   DB20.DBX 833.6; // RAFI Tastatur X5.1/2 Spannmitteltaste
O   DB20.DBX 294.2; // TASTE SPANNMITTEL (PC)
O   E 2.6;          // Spannmitteltaste Maschinenständer
FP  M 138.7;        // FM TASTE SPANNMITTEL
NETWORK 4
TITLE = FREIGABE SPANNMITTEL ZU/AUF
U   M 110.0;        // AUX-ON
UN  M 20.0;         // HAUPTANTRIEB LÄUFT (AUSGANG BEDIENMODUL X1:9)
UN  M 152.0         // WERKZEUGWENDEN AKTIV
U(  ;
UN  M 141.3;        // PINOLE GESPANNT
ON  DB10.DBX 75.1;  // SPS-MSD /PINOLE
)   ;
U(
O   M 5.0;          // ZUGROHR NACH LINKS
O   M 5.1;          // ZUGROHR NACH RECHTS
)
=   M 138.0;        // FREIGABE SPANNMITTEL ZU/AUF
NETWORK 5
TITLE = HM SPANNMITTEL ZU (M26)
U   DB20.DBX 324.0; // PROGRAMM LÄUFT
U   DB20.DBX 195.2; // M26 DYN.
U   M 138.0;        // FREIGABE SPANNMITTEL ZU/AUF
O(  ;
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
U   M 6.1           // SPANNMITTEL GESCHLOSSEN FÜR SETTINGDATEN
)   ;
S   M 139.5;        // HM SPANNMITTEL ZU (M26)
NETWORK 6
TITLE = LEISTUNG SPANNMITTEL ZU
UN  M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
U   M 138.7;        // FM TASTE SPANNMITTEL
O   M 24.1;         // FM FUSZTASTER SPANNMITTEL ZU
O   M 169.1;        // ROBOTIK/FM SPANNMITTEL ZU
O   DB20.DBX 302.2; // DNC/SPANNMITTEL ZU
U(  ;
ON  DB20.DBX 324.0; // PROGRAMM LÄUFT
O   DB20.DBX 324.1; // PROGRAMM ANGEHALTEN
)   ;
O   M 139.5;        // HM SPANNMITTEL ZU (M26)
U   M 138.0;        // FREIGABE SPANNMITTEL ZU/AUF
S   M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
R   M 139.3         // LEISTUNG SPANNMITTEL ÖFFNEN
R   M 138.4;        // SPANNMITTEL ENTSPANNT
=   M 138.2;        // HM SPANNMITTEL ZU
=   DB20.DBX 259.2; // M26 RÜCKMELDEN
S   M 139.7;        // HM M26 STAT.
R   M 139.6;        // HM M25 STAT.
R   M 139.5;        // HM SPANNMITTEL ZU (M26)
NETWORK 8
TITLE = HM SPANNMITTEL AUF (M25)
U   DB20.DBX 324.0; // PROGRAMM LÄUFT
U   DB20.DBX 195.1; // M25 DYN.
U   M 138.0;        // FREIGABE SPANNMITTEL ZU/AUF
O(  ;
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
U   M 6.0           // SPANNMITTEL OFFEN FÜR SETTINGDATEN
)   ;
S   M 139.4;        // HM SPANNMITTEL AUF (M25)
NETWORK 9
TITLE = LEISTUNG SPANNMITTEL AUF
U   M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
UN  M 138.2;        // HM SPANNMITTEL ZU
U   M 138.7;        // FM TASTE SPANNMITTEL
O   M 24.2;         // FM FUSZTASTER SPANNMITTEL AUF
O   M 169.3;        // ROBOTIK/FM SPANNMITTEL AUF
O   DB20.DBX 302.1; // DNC/SPANNMITTEL AUF
U(  ;
ON  DB20.DBX 324.0; // PROGRAMM LÄUFT
O   DB20.DBX 324.1; // PROGRAMM ANGEHALTEN
)   ;
O   M 139.4;        // HM SPANNMITTEL AUF (M25)
U   M 138.0;        // FREIGABE SPANNMITTEL ZU/AUF
S   M 139.3         // LEISTUNG SPANNMITTEL ÖFFNEN
R   M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
R   M 138.5;        // SPANNMITTEL GESPANNT
=   DB20.DBX 259.1; // M25 RÜCKMELDEN
S   M 139.6;        // HM M25 STAT.
R   M 139.7;        // HM M26 STAT.
R   M 139.4;        // HM SPANNMITTEL AUF (M25)
NETWORK 10
TITLE = SPANNMITTEL GESPANNT
U   M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
UN  M 139.0         // SPANNMITTEL KEIN TEIL GESPANNT
UN  M 139.1         // SPANNMITTEL OFFEN
O(  ;
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
U   M 6.1;          // SPANNMITTEL GESCHLOSSEN FÜR SETTINGDATEN
U   E 6.2;         // DRUCKSCHALTER DRUCKLUFT VORHANDEN
)   ;
S   M 138.5;        // SPANNMITTEL GESPANNT
S   M 6.1           // SPANNMITTEL GESCHLOSSEN FÜR SETTINGDATEN
R   M 6.0           // SPANNMITTEL OFFEN FÜR SETTINGDATEN
NETWORK 11
TITLE = SPANNMITTEL ENTSPANNT
U   M 139.3         // LEISTUNG SPANNMITTEL ÖFFNEN
U(
O   M 139.1         // SPANNMITTEL OFFEN
O   M 8.3;          // HM ENDLAGENÜBERWACHUNG DEAKTIVIEREN
)
O(
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
U   M 6.0           // SPANNMITTEL OFFEN FÜR SETTINGDATEN
U   E 6.2;         // DRUCKSCHALTER DRUCKLUFT VORHANDEN
)
S   M 138.4;        // SPANNMITTEL ENTSPANNT
S   M 6.0           // SPANNMITTEL OFFEN FÜR SETTINGDATEN
R   M 6.1           // SPANNMITTEL GESCHLOSSEN FÜR SETTINGDATEN
NETWORK 12
TITLE = KONFIGURATION SOFORT IN SETTINGDATEN SPEICHERN
L   MW 5;           // AKT. MASCHINENKONFIGURATION
L   DB15.DBW 20;    // MASCHINENKONFIG. IN SE-DATEN
<>I;                // VERGLEICH AUF UNGLEICH
SPBN   M001
L   MW 5;           // AKT. MASCHINENKONFIGURATION
T   DB15.DBW 20;    // MASCHINENKONFIG. IN SE-DATEN
=   DB20.DBX 348.3; // ANFORDERUNG ZUM SOFORTIGEN SETTINGDATENSICHERN
M001:  NOP 0
NETWORK 13
TITLE = SPANNMITTELBEWEGUNG AKTIV  AFG/EFG
O   M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
O   M 139.3         // LEISTUNG SPANNMITTEL ÖFFNEN
O   M 139.5;        // HM SPANNMITTEL ZU (M26)
O   M 139.4;        // HM EMCO SPANNMITTEL AUF (M25)
FP  M 138.6;        // HM
U   M 138.6;        // HM
S   M 91.5;         // SPANNMITTELBEWEGUNG AKTIV  AFG/EFG
O   M 138.4;        // SPANNMITTEL ENTSPANNT
O   M 138.5;        // SPANNMITTEL GESPANNT
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   M 91.5;         // SPANNMITTELBEWEGUNG AKTIV  AFG/EFG
NETWORK 14
TITLE = ÜBERWACHUNG SPANNMITTEL
;   SCHLIESSEN:
U   M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
U   M 137.4;        // SPANNMITTELLUFT EINSCHALTEN
L   S5T#1800MS;     // 2,5S
SE  T 29;           // STARTEN T 29 ALS EINSCHALTVERZ.
ON  E 6.2;         // DRUCKSCHALTER DRUCKLUFT VORHANDEN
U   M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
U   M 137.4;        // SPANNMITTELLUFT EINSCHALTEN
L   S5T#0S500MS;    // 0,5S
SE  T 30;           // STARTEN T 30 ALS EINSCHALTVERZ.
;  ÖFFNEN:
U   M 139.3         // LEISTUNG SPANNMITTEL ÖFFNEN
U   M 137.4;        // SPANNMITTELLUFT EINSCHALTEN
L   S5T#1800MS;     // 2,5S
SE  T 31;           // STARTEN T 31 ALS EINSCHALTVERZ.
UN  M 139.1;        // SPANNMITTEL OFFEN
UN  M 8.3;          // HM ENDLAGENÜBERWACHUNG DEAKTIVIEREN
ON  E 6.2;         // DRUCKSCHALTER DRUCKLUFT VORHANDEN
U   M 139.3         // LEISTUNG SPANNMITTEL ÖFFNEN
U   M 137.4;        // SPANNMITTELLUFT EINSCHALTEN
L   S5T#0S500MS;    // 0,5S
SE  T 32;           // STARTEN T 32 ALS EINSCHALTVERZ.
O(  ;
U   T 29;           // SPANNMITTEL ZU/ÜBERWACHUNG SCHARF
U   T 30;           // SPANNMITTEL ZU (0,2S)
)   ;
O(  ;
U   T 31;           // SPANNMITTEL AUF/ÜBERWACHUNG SCHARF
U   T 32;           // SPANNMITTEL AUF (0,2S)
)   ;
=   M 137.3;        // HM
R   M 91.5;         // SPANNMITTELBEWEGUNG AKTIV  AFG/EFG
R   M 6.0           // SPANNMITTEL OFFEN FÜR SETTINGDATEN
R   M 6.1           // SPANNMITTEL GESCHLOSSEN FÜR SETTINGDATEN
NETWORK 14
TITLE = 6067  KEINE DRUCKLUFT
UN  E 6.2;         // DRUCKSCHALTER DRUCKLUFT VORHANDEN
U   M 137.4;        // SPANNMITTELLUFT EINSCHALTEN
U(
O   M 57.3;         // AUSGANGSMERKER LEISTUNG ZUGROHR NACH LINKS
O   M 57.4;         // AUSGANGSMERKER LEISTUNG ZUGROHR NACH RECHTS
)
L   S5T#1000MS;     // 1S
SE  T 39;           // STARTEN T 39 ALS EINSCHALTVERZ.
U   T 39;           // STARTEN T 39 ALS EINSCHALTVERZ.
S   DB2.DBX 8.3;    // 6067  KEINE DRUCKLUFT
NETWORK 14
TITLE = ALARM 6067  KEINE DRUCKLUFT QUITTIEREN
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 8.3;    // 6067  KEINE DRUCKLUFT
NETWORK 14
TITLE = 7024 SPANNMITTELENDSCHALTER EINSTELLEN
U   M 137.3;        // HM
UN  DB2.DBX 8.3;    // 6067  KEINE DRUCKLUFT
O(
U   M 138.4;        // SPANNMITTEL ENTSPANNT
UN  M 139.1;        // SPANNMITTEL OFFEN
)
UN  M 8.3;          // HM ENDLAGENÜBERWACHUNG DEAKTIVIEREN
=   M 19.0;         // HM 7024  SPANNMITTELENDSCHALTER EINSTELLEN
R   M 22.1;         // HM 7054 SPANNMITTEL KEIN TEIL GESPANNT
;Änderung für Laderbetrieb:       U   M 19.0;         // HM 7024  SPANNMITTELENDSCHALTER EINSTELLEN
NETWORK 15
TITLE = 6050  M25 BEI LAUFENDEM HA
U   M 20.0;         // HAUPTANTRIEB LÄUFT (AUSGANG BEDIENMODUL X1:9)
U   DB20.DBX 195.1; // M25 DYN.
S   DB2.DBX 6.2;    // 6050  M25 BEI LAUFENDEM HA
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 6.2;    // 6050  M25 BEI LAUFENDEM HA
NETWORK 16
TITLE = ALARM 6055  KEIN TEIL GESPANNT (SPANNMITTEL)
U   M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
U   M 139.0         // SPANNMITTEL KEIN TEIL GESPANNT
U   M 20.0;         // HAUPTANTRIEB LÄUFT (AUSGANG BEDIENMODUL X1:9)
S   DB2.DBX 6.7;    // ALARM 6055 KEIN TEIL GESPANNT
R   M 6.0           // SPANNMITTEL OFFEN FÜR SETTINGDATEN
R   M 6.1           // SPANNMITTEL GESCHLOSSEN FÜR SETTINGDATEN
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 6.7;    // ALARM 6055 SPANNMITTEL KEIN TEIL GESPANNT
R   M 22.1;         // HM 7054 SPANNMITTEL KEIN TEIL GESPANNT
NETWORK 18
TITLE = 7054 SPANNMITTEL KEIN TEIL GESPANNT
O   M 139.0         // SPANNMITTEL KEIN TEIL GESPANNT
S   M 22.1;         // HM 7054 SPANNMITTEL KEIN TEIL GESPANNT
NETWORK 19
TITLE = 7055  SPANNMITTEL OFFEN
UN  M 19.0;         // HM 7024  SPANNMITTELENDSCHALTER EINSTELLEN
UN  M 22.1;         // HM 7054 SPANNMITTEL KEIN TEIL GESPANNT
UN  DB2.DBX 6.2;    // 6050  M25 BEI LAUFENDEM HA
UN  DB2.DBX 6.7;    // ALARM 6055 KEIN TEIL GESPANNT
UN  DB2.DBX 8.3;    // 6067  KEINE DRUCKLUFT
UN  M 138.5;        // SPANNMITTEL GESPANNT
UN  M 138.4;        // SPANNMITTEL ENTSPANNT
O   M 138.4;        // SPANNMITTEL ENTSPANNT
=   M 22.0;         // HM 7055  SPANNMITTEL OFFEN !
R   M 22.1;         // HM 7054 SPANNMITTEL KEIN TEIL GESPANNT
NETWORK 20
TITLE = SPS/OB-->SPANNMITTEL GESPANNT
U   M 138.5;        // SPANNMITTEL GESPANNT
=   DB20.DBX 310.2; // SPS/OB-->SPANNMITTEL GESPANNT
NETWORK 21
TITLE = SPS/OB-->SPANNMITTEL ENTSPANNT
U   M 138.4;        // SPANNMITTEL ENTSPANNT
=   DB20.DBX 310.1; // SPS/OB-->SPANNMITTEL ENTSPANNT
NETWORK 22
TITLE = SPANNMITTEL/NEG.DNC-QUITTUNG
U   DB1.DBX 1366.0; // DNC-BETRIEB AKTIV
U(  ;
U   DB20.DBX 302.2; // DNC/SPANNMITTEL ZU
UN  M 139.7;        // HM M26 STAT.
O   ;
U   DB20.DBX 302.1; // DNC/SPANNMITTEL AUF
UN  M 139.6;        // HM M25 STAT.
)   ;
S   DB20.DBX 318.1; // SPANNMITTEL/NEG.DNC-QUITTUNG
NETWORK 23
TITLE = UMSCHALTUNG ZUG- ODER DRUCKSPANNMITTEL
U   M 5.0;          // ZUGROHR NACH LINKS (ZUGSPANNMITTEL)
U   M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
O(  ;
U   M 5.1;          // ZUGROHR NACH RECHTS (DRUCKSPANNMITTEL)
U   M 139.3         // LEISTUNG SPANNMITTEL ÖFFNEN
)   ;
U   M 137.4;        // SPANNMITTELLUFT EINSCHALTEN
=   M 57.3;         // AUSGANGSMERKER LEISTUNG ZUGROHR NACH LINKS
U   M 5.0;          // ZUGROHR NACH LINKS (ZUGSPANNMITTEL)
U   M 139.3         // LEISTUNG SPANNMITTEL ÖFFNEN
O(  ;
U   M 5.1;          // ZUGROHR NACH RECHTS (DRUCKSPANNMITTEL)
U   M 139.2         // LEISTUNG SPANNMITTEL SCHLIESSEN
)   ;
U   M 137.4;        // SPANNMITTELLUFT EINSCHALTEN
=   M 57.4;         // AUSGANGSMERKER LEISTUNG ZUGROHR NACH RECHTS
END_FUNCTION
FUNCTION FC 25: VOID
NAME: AUSBLASEINRICHTUNG
BEGIN
NETWORK
TITLE = AUSBLASEN EIN (M71)
O   DB20.DBX 200.7; // M71 DYN.
O   DB20.DBX 303.0; // DNC/AUSBLASEN EIN
S   M 140.1;        // AUSBLASEN EIN
=   DB20.DBX 264.7; // M71 RÜCKMELDEN
NETWORK
TITLE = AUSBLASEN AUS (M72)
O   DB20.DBX 201.0; // M72 DYN.
O   DB20.DBX 302.7; // DNC/AUSBLASEN AUS
ON  M 110.0;        // AUX-ON
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
O   DB20.DBX 324.2; // DRYRUN AKTIV
O   M 34.1;         // HM M0/M1 DYNAMISCH
O   DB20.DBX 192.2; // M2 DYN.
O   DB20.DBX 195.6; // M30 DYN.
R   M 140.1;        // AUSBLASEN EIN
=   DB20.DBX 265.0; // M72 RÜCKMELDEN
NETWORK
TITLE = LEISTUNG AUSBLASEN
U   M 140.1;        // AUSBLASEN EIN
=   M 57.5;         // AUSGANGSMERKER AUSBLASMAGNETVENTIL FÜR SPANNMITTEL (OPTION)
NETWORK
TITLE = SPS/OB-->AUSBLASEN AKTIV
U   M 57.5;         // AUSGANGSMERKER AUSBLASMAGNETVENTIL FÜR SPANNMITTEL (OPTION)
=   DB20.DBX 310.7; // SPS/RM-->AUSBLASEN AKTIV
NETWORK
TITLE = AUSBLASEN/NEG.DNC-QUITTUNG
U   DB20.DBX 303.0; // DNC/AUSBLASEN EIN
UN  DB20.DBX 264.7; // M71 RÜCKMELDEN
O   ;
U   DB20.DBX 302.7; // DNC/AUSBLASEN AUS
UN  DB20.DBX 265.0; // M72 RÜCKMELDEN
U   DB1.DBX 1366.0; // DNC-BETRIEB AKTIV
S   DB20.DBX 318.4; // AUSBLASEN/NEG.DNC-QUITTUNG
END_FUNCTION
FUNCTION FC 26: VOID
NAME: PNEUM_PINOLE
BEGIN
NETWORK  1
TITLE = FM BERO GESPANNT
U   E  6.5;          // PINOLE GESPANNT
FP  M 142.5;        // FM BERO GESPANNT
NETWORK  2
TITLE = FM BERO ENDLAGE HINTEN
U   E  6.6;         // PINOLE HINTERE ENDLAGE
FP  M 142.3;        // FM BERO ENDLAGE HINTEN
NETWORK  3
TITLE = FREIGABE PINOLE VOR/ZURÜCK
U   M 110.0;        // AUX-ON
UN  M 20.0;         // HAUPTANTRIEB LÄUFT (AUSGANG BEDIENMODUL X1:9)
UN  M 131.7;        // ACHSEN IN BEWEGUNG
UN  M 152.0         // WERKZEUGWENDEN AKTIV
=   M 141.0;        // FREIGABE PINOLE VOR/ZURÜCK
NETWORK  4
TITLE = HM TIPPBETRIEB PINOLE VOR
U   M 141.0;        // FREIGABE PINOLE VOR/ZURÜCK
UN  M 141.1;        // HM PINOLE KEIN TEIL GESPANNT
U(  ;
ON  DB20.DBX 324.0; // PROGRAMM LÄUFT
O   DB20.DBX 324.1; // PROGRAMM ANGEHALTEN
O   DB20.DBX 325.1; // STOP-ZUSTAND DURCH SINGLE
)   ;
U(
U   DB20.DBX 294.3; // TASTE PINOLE VOR (PC)
UN  DB20.DBX 294.4; // TASTE PINOLE ZURÜCK (PC)
O
U   E  7.6;          // FUSZTASTER PINOLE VOR
UN  E  7.7;          // FUSZTASTER PINOLE ZURÜCK
)
=   M 141.7;        // HM TIPPBETRIEB PINOLE VOR
R   M 141.6;        // HM TIPPBETRIEB PINOLE ZURÜCK
R   M 141.4;        // HM PINOLE ZURÜCK STAT.
NETWORK  5
TITLE = HM TIPPBETRIEB PINOLE ZURÜCK
U   M 141.0;        // FREIGABE PINOLE VOR/ZURÜCK
U(  ;
ON  DB20.DBX 324.0; // PROGRAMM LÄUFT
O   DB20.DBX 324.1; // PROGRAMM ANGEHALTEN
O   DB20.DBX 325.1; // STOP-ZUSTAND DURCH SINGLE
)   ;
U(
U   DB20.DBX 294.4; // TASTE PINOLE ZURÜCK (PC)
UN  DB20.DBX 294.3; // TASTE PINOLE VOR (PC)
O
U   E  7.7;          // FUSZTASTER PINOLE ZURÜCK
UN  E  7.6;          // FUSZTASTER PINOLE VOR
)
=   M 141.6;        // HM TIPPBETRIEB PINOLE ZURÜCK
R   M 141.7;        // HM TIPPBETRIEB PINOLE VOR
R   M 141.5;        // HM PINOLE VOR STAT.
NETWORK  6
TITLE = HM PINOLE VOR (M21)
U   DB20.DBX 324.0; // PROGRAMM LÄUFT
U   DB20.DBX 194.5; // M21 DYN.
S   M 142.1;        // HM PINOLE VOR (M21)
NETWORK  7
TITLE = HM PINOLE VOR STAT.
U   M 6.7           // PINOLE VOR AUS DEN SETTINGDATEN
FP  M 135.2         // FM PINOLE VOR AUS DEN SETTINGDATEN
U   M 135.2         // FM PINOLE VOR AUS DEN SETTINGDATEN
S   M 135.3         // HM PINOLE VOR AUS DEN SETTINGDATEN
U   M 141.7;        // HM TIPPBETRIEB PINOLE VOR
U   E  6.5;         // PINOLE GESPANNT
=   M 135.0;        // HM TIPPBETRIEB PINOLE VOR
O   M 169.5;        // ROBOTIK/FM PINOLE VOR
O   DB20.DBX 302.4; // DNC/PINOLE VOR
=   M 135.1;        // HM ROBOTIK/FM PINOLE VOR
O   M 135.0;        // HM TIPPBETRIEB PINOLE VOR
O   M 135.1;        // HM ROBOTIK/FM PINOLE VOR
O   M 142.1;        // HM PINOLE VOR (M21)
O   M 135.3         // HM PINOLE VOR AUS DEN SETTINGDATEN
U   M 141.0;        // FREIGABE PINOLE VOR/ZURÜCK
UN  M 141.1;        // HM PINOLE KEIN TEIL GESPANNT
S   M 141.5;        // HM PINOLE VOR STAT.
=   DB20.DBX 258.5; // M21 RÜCKMELDEN
R   M 141.4;        // HM PINOLE ZURÜCK STAT.
R   M 141.6;        // HM TIPPBETRIEB PINOLE ZURÜCK
R   M 142.1;        // HM PINOLE VOR (M21)
R   M 135.3         // HM PINOLE VOR AUS DEN SETTINGDATEN
NETWORK  9
TITLE = HM PINOLE ZURÜCK (M20)
U   DB20.DBX 324.0; //PROGRAMM LÄUFT
U   DB20.DBX 194.4; // M20 DYN.
S   M 142.0;        // HM PINOLE ZURÜCK (M20)
NETWORK 10
TITLE = HM PINOLE ZURÜCK STAT.
U   M 141.0;        // FREIGABE PINOLE VOR/ZURÜCK
U(  ;
O   M 142.3;        // FM BERO ENDLAGE HINTEN
O   DB20.DBX 194.4; // M20 DYN.
O(  ;
O   M 169.7;        // ROBOTIK/FM PINOLE ZURÜCK
O   DB20.DBX 302.3; // DNC/PINOLE ZURÜCK
)   ;
O(  ;
U   M 142.0;        // HM PINOLE ZURÜCK (M20)
UN  M 131.7;        // ACHSEN IN BEWEGUNG
)   ;
)   ;
O   ;
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
U   E  6.6;         // PINOLE HINTERE ENDLAGE
S   M 141.4;        // HM PINOLE ZURÜCK STAT.
=   DB20.DBX 258.4; // M20 RÜCKMELDEN
R   M 141.5;        // HM PINOLE VOR STAT.
R   M 141.7;        // HM TIPPBETRIEB PINOLE VOR
R   M 142.0;        // HM PINOLE ZURÜCK (M20)
NETWORK 12
TITLE = HM PINOLE KEIN TEIL GESPANNT
U   E  6.7;         // PINOLE KEIN TEIL GESPANNT
S   M 141.1;        // HM PINOLE KEIN TEIL GESPANNT
R   M 141.7;        // HM TIPPBETRIEB PINOLE VOR
R   M 141.5;        // HM PINOLE VOR STAT.
O   E  6.6;         // PINOLE HINTERE ENDLAGE
O   M 141.6;        // HM TIPPBETRIEB PINOLE ZURÜCK
R   M 141.1;        // HM PINOLE KEIN TEIL GESPANNT
NETWORK 13
TITLE = ABBRUCH PINOLENBEWEGUNG
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKT
U   M 91.4;         // PINOLENBEWEGUNG AKTIV  AFG/EFG
R   M 141.7;        // HM TIPPBETRIEB PINOLE VOR
R   M 141.6;        // HM TIPPBETRIEB PINOLE ZURÜCK
R   M 141.5;        // HM PINOLE VOR STAT.
R   M 141.4;        // HM PINOLE ZURÜCK STAT.
NETWORK 14
TITLE = LEISTUNG PINOLE VOR
UN  M 141.1;        // HM PINOLE KEIN TEIL GESPANNT
U(  ;
O   M 141.7;        // HM TIPPBETRIEB PINOLE VOR
O   M 141.5;        // HM PINOLE VOR STAT.
)   ;
=   M 57.6;         // AUSGANGSMERKER LEISTUNG PINOLE VOR
NETWORK 15
TITLE = LEISTUNG PINOLE ZURÜCK
O   M 141.6;        // HM TIPPBETRIEB PINOLE ZURÜCK
O   M 141.4;        // HM PINOLE ZURÜCK STAT.
=   M 57.7;         // AUSGANGSMERKER LEISTUNG PINOLE ZURÜCK
NETWORK 17
TITLE = PINOLE ENDLAGE HINTEN
U   E  6.6;         // PINOLE HINTERE ENDLAGE
=   M 141.2;        // PINOLE ENDLAGE HINTEN
NETWORK 18
TITLE = PINOLE GESPANNT
UN  M 141.1;        // HM PINOLE KEIN TEIL GESPANNT
U   E  6.5;          // PINOLE GESPANNT
U   M 57.6;         // AUSGANGSMERKER LEISTUNG PINOLE VOR
UN  E  6.6;         // PINOLE HINTERE ENDLAGE
=   M 141.3;        // PINOLE GESPANNT
=   M 6.7           // BITT FÜR SETTINGDATEN
U   M 141.3;        // PINOLE GESPANNT
FN  M 135.4         // FM PINOLE GESPANNT
U   M 141.3;        // PINOLE GESPANNT
FP  M 135.5         // FM PINOLE GESPANNT
NETWORK 18
TITLE = PINOLE GESPANNT IN DEN SETTINGDATEN SPEICHERN
O   M 135.4         // FM PINOLE GESPANNT
O   M 135.5         // FM PINOLE GESPANNT
SPBN   M001
L   MW 5;           // akt. Maschinenkonfiguration
T   DB15.DBW 20;    // Maschinenkonfig. in SE-Daten
SET;
=   DB20.DBX 348.3; // ANFORDERUNG ZUM SOFORTIGEN SETTINGDATENSICHERN
M001:  NOP 0
NETWORK 19
TITLE = PINOLENBEWEGUNG AKTIV  AFG/EFG
U   M 57.6;         // AUSGANGSMERKER LEISTUNG PINOLE VOR
UN  E  6.5;          // PINOLE GESPANNT
O   ;
U   M 57.7;         // AUSGANGSMERKER LEISTUNG PINOLE ZURÜCK
UN  E  6.6;         // PINOLE HINTERE ENDLAGE
O   M 142.1;        // HM PINOLE VOR (M21)
O   M 142.0;        // HM PINOLE ZURÜCK (M20)
=   M 91.4;         // PINOLENBEWEGUNG AKTIV  AFG/EFG
NETWORK 20
TITLE = 6056  PINOLE NICHT BEREIT
U   M 57.6;         // AUSGANGSMERKER LEISTUNG PINOLE VOR
L   S5T#10S;        // 10S
SE  T 33;           // STARTEN T 33 ALS EINSCHALTVERZ.
UN  E  6.5;          // PINOLE GESPANNT
L   S5T#0S200MS;    // 2X0,1S
SE  T 34;           // STARTEN T 34 ALS EINSCHALTVERZ.
U   M 57.7;         // AUSGANGSMERKER LEISTUNG PINOLE ZURÜCK
L   S5T#10S;        // 10S
SE  T 35;           // STARTEN T 35 ALS EINSCHALTVERZ.
UN  E  6.6;         // PINOLE HINTERE ENDLAGE
L   S5T#0S200MS;    // 2X0,1S
SE  T 36;           // STARTEN T 36 ALS EINSCHALTVERZ.
U   T 33;           // PINOLE VOR/ÜBERWACHUNG SCHARF
U   T 34;           // BERO GESPANNT (0,2S)
O(  ;
U   T 35;           // PINOLE ZURÜCK/ÜBERW. SCHARF
U   T 36;           // BERO ENDLAGE HINTEN (0,2S)
)
O(   ;
UN  M 141.2;        // PINOLE ENDLAGE HINTEN
UN  M 141.3;        // PINOLE GESPANNT
U(  ;
O   DB20.DBX 224.3; // M3/RÜCKMELDUNG NC
O   DB20.DBX 224.4; // M4/RÜCKMELDUNG NC
O   M 151.1;        // WERKZEUGWENDER STARTEN VON GÜLTIGEN T-WORT
)     ;
)
O(
U   DB20.DBX 0.2;   // FC NC-START
UN  M 141.2;        // PINOLE ENDLAGE HINTEN
UN  M 141.3;        // PINOLE GESPANNT
)
S   DB2.DBX 7.0;    // 6056  PINOLE NICHT BEREIT
U   DB2.DBX 7.0;    // 6056  PINOLE NICHT BEREIT
UN  M 20.0;         // HAUPTANTRIEB LÄUFT (AUSGANG BEDIENMODUL X1:9)
R   M 57.6;         // AUSGANGSMERKER LEISTUNG PINOLE VOR
R   M 57.7;         // AUSGANGSMERKER LEISTUNG PINOLE ZURÜCK
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
UN  M 57.6;         // AUSGANGSMERKER LEISTUNG PINOLE VOR
UN  M 57.7;         // AUSGANGSMERKER LEISTUNG PINOLE ZURÜCK
R   DB2.DBX 7.0;    // 6056  PINOLE NICHT BEREIT
NETWORK 21
TITLE = 6057  M20/M21 BEI AKTIVEM HA
U   M 20.0;         // HAUPTANTRIEB LÄUFT (AUSGANG BEDIENMODUL X1:9)
U(  ;
O   DB20.DBX 194.5; // M21 DYN.
O   DB20.DBX 194.4; // M20 DYN.
)   ;
S   DB2.DBX 7.1;    // 6057  M20/M21 BEI AKTIVEM HA
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 7.1;    // 6057  M20/M21 BEI AKTIVEM HA
NETWORK 22
TITLE = 6058  M25/M26 BEI AUSGEF. PINOLE
UN  M 141.2;        // PINOLE ENDLAGE HINTEN
U   DB20.DBX 324.0; // PROGRAMM LÄUFT
U(  ;
O   DB20.DBX 195.2; // M26 DYN.
O   DB20.DBX 195.1; // M25 DYN.
)   ;
S   DB2.DBX 7.2;    // 6058  M25/M26 BEI AUSGEF. PINOLE
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 7.2;    // 6058  M25/M26 BEI AUSGEF. PINOLE
NETWORK 23
TITLE = ALARM 6055  KEIN TEIL GESPANNT
U   M 20.0;         // HAUPTANTRIEB LÄUFT (AUSGANG BEDIENMODUL X1:9)
U   E  6.7;         // PINOLE KEIN TEIL GESPANNT
S   DB2.DBX 6.7;    // 6055  KEIN TEIL GESPANNT
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 6.7;    // 6055  KEIN TEIL GESPANNT
NETWORK 24
TITLE = MELDUNG 7052  PINOLE IN ZWISCHENSTELLUNG
U   M 110.0;        // AUX-ON
;       UN  M 141.3;        // PINOLE GESPANNT
UN  E  6.5;          // PINOLE GESPANNT
UN  E  6.7;          // PINOLE KEIN TEIL GESPANNT
U(
ON  M 141.2;        // PINOLE ENDLAGE HINTEN
ON  M 57.7;         // AUSGANGSMERKER LEISTUNG PINOLE ZURÜCK
)
=   M 22.4;         // HM 7052  PINOLE IN ZWISCHENSTELLUNG
NETWORK 25
TITLE = MELDUNG 7053  PINOLE/KEIN TEIL GESPANNT
U   M 110.0;        // AUX-ON
U   E  6.7;          // PINOLE KEIN TEIL GESPANNT
=   M 22.5;         // HM 7053  PINOLE/KEIN TEIL GESPANNT
NETWORK 26
TITLE = SPS/OB-->PINOLE GESPANNT
U   M 141.3;        // PINOLE GESPANNT
=   DB20.DBX 310.4; // SPS/RM-->PINOLE GESPANNT
NETWORK 27
TITLE = SPS/OB-->PINOLE ENDLAGE HINTEN
U   M 141.2;        // PINOLE ENDLAGE HINTEN
=   DB20.DBX 310.3; // SPS/RM-->PINOLE ENDLAGE HINTEN
NETWORK 28
TITLE = PINOLE/FC DNC-QUITTUNG
U   DB1.DBX 1366.0; // DNC-BETRIEB AKTIV
U(  ;
U   DB20.DBX 302.4; // DNC/PINOLE VOR
UN  M 141.5;        // HM PINOLE VOR STAT.
O   ;
U   DB20.DBX 302.3; // DNC/PINOLE ZURÜCK
UN  M 141.4;        // HM PINOLE ZURÜCK STAT.
)   ;
S   DB1.DBX 1398.1; // PINOLE/FC DNC-QUITTUNG
END_FUNCTION
FUNCTION FC 27: VOID
NAME: TUERAUTOMATIK
BEGIN
//  X6:6     E 6.0       // Türautomatik Enschalter Tür offen
//  X6:7     E 6.1       // Türautomatik Sicherheitstürschaltleiste nicht ausgelöst
//           Nur 1-Signal wenn A 9.2 Sicherheits-Testventil Y3 eingeschaltet ist!!
//
//  X5:1     A 9.6 = M 57.0 // LEISTUNG TÜR ZU  Y1
//  X5:2     A 9.7 = M 57.1 // LEISTUNG TÜR AUF Y2
//  X421:6   A 9.2 // Verriegelunsmagnet Maschinentür entriegeln ohne Türautomatik
//  X421:6   A 9.2 // Sicherheits-Testventil Y3 bei Türautomatik
// Bei der Türautomatik wird der Verriegelungsmagnet auf 24V geklemmt und der A 9.2 zum schalten
// des Sicherheits-Testventiles Y3 verwendet.
// DNC Betrieb:
// DB1.DBX 1382.0  Maschinentüre auf
// DB1.DBX 1382.1  Maschinentüre zu
// DB1.DBX 1382.2  Maschinentüre Stop
NETWORK  1
TITLE = /FM MASCHINENTÜR OFFEN
U   M 110.1;        // MASCHINENTÜR OFFEN
FN  M 144.5;        // /FM MASCHINENTÜR OFFEN
NETWORK  2
TITLE = FM ENDSCH. TÜR OFFEN
U   E 6.0;          // Türautomatik Enschalter Tür offen
FP  M 144.3;        // FM ENDSCH. TÜR OFFEN
NETWORK  3
TITLE = FREIGABE TÜR ZU/AUF
UN  DB2.DBX 0.0;    // 6000  NOT-AUS
U   M 55.7;         // FREIGABE ZUM TÜRENTRIEGELN
U   E 6.1           // Türautomatik Sicherheitstürschaltleiste nicht ausgelöst
=   M 143.0;        // FREIGABE TÜR ZU/AUF
NETWORK  4
TITLE = HM TASTE TÜR ZU/AUF
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
UN  E 6.0;          // Türautomatik Enschalter Tür offen
O   M 144.1;        // HM TÜRBEWEG. UNTERBROCHEN
S   M 143.1;        // HM TASTE TÜR ZU/AUF
NETWORK  6
TITLE = HM TIPPBETRIEB TÜR ZU bei AUX OFF
U(  ;
U   DB1.DBX 1374.0; // TASTE TÜR ZU (MSTT)
UN  DB1.DBX 1374.1; // TASTE TÜR AUF (MSTT)
O   ;
UN  M 143.1;        // HM TASTE TÜR ZU/AUF
U   DB1.DBX 1374.2; // TASTE TÜR ZU/AUF (PC)
)   ;
UN   M 110.0;       // AUX-ON
U   M 143.0;        // FREIGABE TÜR ZU/AUF
=   M 143.7;        // HM TIPPBETRIEB TÜR ZU
R   M 143.6;        // HM TIPPBETRIEB TÜR AUF
R   M 143.4;        // HM TÜR AUF STAT.
NETWORK  7
TITLE = HM TIPPBETRIEB TÜR AUF bei AUX OFF
U(  ;
U   DB1.DBX 1374.1; // TASTE TÜR AUF (MSTT)
UN  DB1.DBX 1374.0; // TASTE TÜR ZU (MSTT)
O   ;
U   M 143.1;        // HM TASTE TÜR ZU/AUF
U   DB1.DBX 1374.2; // TASTE TÜR ZU/AUF (PC)
)   ;
UN   M 110.0;       // AUX-ON
U   M 143.0;        // FREIGABE TÜR ZU/AUF
=   M 143.6;        // HM TIPPBETRIEB TÜR AUF
R   M 143.7;        // HM TIPPBETRIEB TÜR ZU
R   M 143.5;        // HM TÜR ZU STAT.
NETWORK  8
TITLE = HM TÜR ZU STAT.
U(  ;
U   DB1.DBX 1374.0; // TASTE TÜR ZU (MSTT)
UN  DB1.DBX 1374.1; // TASTE TÜR AUF (MSTT)
O   ;
UN  M 143.1;        // HM TASTE TÜR ZU/AUF
U   DB1.DBX 1374.2; // TASTE TÜR ZU/AUF (PC)
)   ;
U   M 110.0;        // AUX-ON
U   M 143.0;        // FREIGABE TÜR ZU/AUF
O(  ;
O   DB1.DBX 1382.1; // DNC/TÜR ZU
O   M 170.4;        // ROBOTIK/FM TÜR ZU
U   M 143.0;        // FREIGABE TÜR ZU/AUF
)   ;
O(
U   M 12.0          // Tür zu und Verriegelt
U   M 143.0;        // FREIGABE TÜR ZU/AUF
U   M 57.0;         // AUSGANGSMERKER LEISTUNG TÜR ZU
UN  M 143.4;        // HM TÜR AUF STAT.
UN   M 143.6;       // HM TIPPBETRIEB TÜR AUF
)
O(
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
)
S   M 143.5;        // HM TÜR ZU STAT.
R   M 143.4;        // HM TÜR AUF STAT.
R   M 143.6;        // HM TIPPBETRIEB TÜR AUF
S   M 143.1;        // HM TASTE TÜR ZU/AUF
NETWORK  9
TITLE = HM TÜR AUF STAT. (M0/M1/M2/M30)
O   DB20.DBX 348.1; // PROGRAMM LÄUFT WIRD ZURÜCKGESETZT (M2,M30)
O   M 34.1;         // HM M0/M1 DYNAMISCH
S   M 144.0;        // HM TÜR AUF STAT. (M0/M1/M2/M30)
NETWORK 10
TITLE = HM TÜR AUF STAT.
U(  ;
U   DB1.DBX 1374.1; // TASTE TÜR AUF (MSTT)
UN  DB1.DBX 1374.0; // TASTE TÜR ZU (MSTT)
O   ;
U   M 143.1;        // HM TASTE TÜR ZU/AUF
U   DB1.DBX 1374.2; // TASTE TÜR ZU/AUF (PC)
)   ;
U   M 110.0;        // AUX-ON
U   M 143.0;        // FREIGABE TÜR ZU/AUF
O   M 144.3;        // FM ENDSCH. TÜR OFFEN
O(  ;
O   DB1.DBX 1382.0; // DNC/TÜR AUF
O   M 170.3;        // ROBOTIK/FM TÜR AUF
U   M 143.0;        // FREIGABE TÜR ZU/AUF
UN  E 6.0;          // Türautomatik Enschalter Tür offen
)   ;
O(   ;
U   M 143.0;        // FREIGABE TÜR ZU/AUF
U   M 144.0;        // HM TÜR AUF STAT. (M0/M1/M2/M30)
)
O(   ;
U   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF
U   E 6.0;          // Türautomatik Enschalter Tür offen
)
S   M 143.4;        // HM TÜR AUF STAT.
R   M 57.0;         // AUSGANGSMERKER LEISTUNG TÜR ZU
R   M 143.5;        // HM TÜR ZU STAT.
R   M 143.7;        // HM TIPPBETRIEB TÜR ZU
R   M 143.1;        // HM TASTE TÜR ZU/AUF
R   M 144.0;        // HM TÜR AUF STAT. (M0/M1/M2/M30)
NETWORK 12
TITLE = ABBRUCH TÜRBEWEGUNG
U   M 91.3;         // TÜRBEWEGUNG AKTIV  AFG/EFG
U(  ;
O   DB2.DBX 0.0;    // 6000  NOT-AUS
O   DB1.DBX 1440.0  // RESET AUSGELÖST
O   DB1.DBX 1370.3; // TASTE RESET
O   DB1.DBX 1382.2; // DNC/TÜR STOP
ON  E 6.1           // Türautomatik Sicherheitstürschaltleiste nicht ausgelöst
)   ;
R   M 143.5;        // HM TÜR ZU STAT.
R   M 143.4;        // HM TÜR AUF STAT.
R   M 144.0;        // HM TÜR AUF STAT. (M0/M1/M2/M30)
NETWORK 13
TITLE = HM TÜRBEW. UNTERBROCHEN
U   M 91.3;         // TÜRBEWEGUNG AKTIV  AFG/EFG
UN  M 143.7;        // HM TIPPBETRIEB TÜR ZU
UN  M 143.6;        // HM TIPPBETRIEB TÜR AUF
UN  M 143.5;        // HM TÜR ZU STAT.
UN  M 143.4;        // HM TÜR AUF STAT.
S   M 144.1;        // HM TÜRBEW. UNTERBROCHEN
O   E 6.0;          // Türautomatik Enschalter Tür offen
O   M 143.5;        // HM TÜR ZU STAT.
R   M 144.1;        // HM TÜRBEW. UNTERBROCHEN
NETWORK 14
TITLE = LEISTUNG TÜR ZU
O   M 143.7;        // HM TIPPBETRIEB TÜR ZU
O   M 143.5;        // HM TÜR ZU STAT.
=   M 57.0;         // AUSGANGSMERKER LEISTUNG TÜR ZU
FP  M 144.6;        // FM TÜR ZU
U   M 144.6;        // FM TÜR ZU
S   M 144.7;        // HM TÜR ZU
NETWORK 15
TITLE = LEISTUNG TÜR AUF
O   M 143.4;        // HM TÜR AUF STAT.
O   M 143.6;        // HM TIPPBETRIEB TÜR AUF
UN  E 0.0;          // X-ACHSE SERVO-READY
UN  E 0.2;          // Z-ACHSE SERVO-READY
UN  E 3.4           // Bremse öffnen von X-Achsreglerbaugruppe
=   M 57.1;         // AUSGANGSMERKER LEISTUNG TÜR AUF
NETWORK 16
TITLE = TÜR OFFEN
U   M 57.1;         // AUSGANGSMERKER LEISTUNG TÜR AUF
U   E 6.0;          // Türautomatik Enschalter Tür offen
=   M 143.2;        // TÜR OFFEN
NETWORK
TITLE = HM TÜR ZU LÖSCHEN
U   M 144.7;        // HM TÜR ZU
U   M 57.0;         // AUSGANGSMERKER LEISTUNG TÜR ZU
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
R   M 144.7;        // HM TÜR ZU
NETWORK 17
TITLE = TÜRBEWEGUNG AKTIV  AFG/EFG
U   M 144.7;        // HM TÜR ZU
U   M 57.0;         // AUSGANGSMERKER LEISTUNG TÜR ZU
U   M 110.1;        // MASCHINENTÜR OFFEN
O   ;
U   M 57.1;         // AUSGANGSMERKER LEISTUNG TÜR AUF
UN  E 6.0;          // Türautomatik Enschalter Tür offen
=   M 91.3;         // TÜRBEWEGUNG AKTIV  AFG/EFG
NETWORK 18
TITLE = 6064  TÜR NICHT BEREIT
U   M 91.3;         // TÜRBEWEGUNG AKTIV  AFG/EFG
L   S5T#10S;        //
SE  T 37;           // STARTEN T 37 ALS EINSCHALTVERZ.
U   T 37;           // TÜR AUF/ZEITÜBERWACHUNG
S   DB2.DBX 8.0;    // 6064  TÜR NICHT BEREIT
R   M 57.0;         // AUSGANGSMERKER LEISTUNG TÜR ZU
R   M 57.1;         // AUSGANGSMERKER LEISTUNG TÜR AUF
O   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
R   DB2.DBX 8.0;    // 6064  TÜR NICHT BEREIT
NETWORK 19
TITLE = SPS/OB-->TÜR OFFEN
U   M 143.2;        // TÜR OFFEN
=   DB1.DBX 1390.0; // SPS/RM-->TÜR OFFEN
NETWORK 20
TITLE = TÜR/FC DNC-QUITTUNG
U   DB1.DBX 1366.0; // DNC-BETRIEB AKTIV
U(  ;
U   DB1.DBX 1382.1; // DNC/TÜR ZU
UN  M 143.5;        // HM TÜR ZU STAT.
O   ;
U   DB1.DBX 1382.0; // DNC/TÜR AUF
UN  M 143.4;        // HM TÜR AUF STAT.
O   ;
U   DB1.DBX 1382.2; // DNC/TÜR STOP
U(  ;
O   M 143.7;        // HM TIPPBETRIEB TÜR ZU
O   M 143.6;        // HM TIPPBETRIEB TÜR AUF
O   M 143.5;        // HM TÜR ZU STAT.
O   M 143.4;        // HM TÜR AUF STAT.
)   ;
)   ;
S   DB1.DBX 1398.1; // TÜR/FC DNC-QUITTUNG
NETWORK 21
TITLE = Automatischer Cycle-Start nach Tür zu
U   DB10.DBX 77.4;  // SPS-MSD Automatischer Cycle-Start nach Tür zu
U   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   M 57.0;         // AUSGANGSMERKER LEISTUNG TÜR ZU
FP  M 146.0;        // FM NC-Startanforderung nach Tür zu
U   M 146.0;        // FM NC-Startanforderung nach Tür zu
U   DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
U(
U   DB20.DBX 224.1; // M1 STATISCH
U   DB20.DBX 324.5; // BEDINGTER HALT AKTIV
O   DB20.DBX 224.0; // M0 STATISCH
O   DB20.DBX 224.2; // M2 STATISCH
O   DB20.DBX 227.6; // M30 STATISCH
)
L   S5T#1S;         // 1S
SV  T 72            // IMPULS (VERLÄNGERT)
U   T 72            // IMPULS (VERLÄNGERT)
=   M 146.3         // CYCLE START NACH TÜR ZU
O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKT
O   DB1.DBX 1440.0  // RESET AUSGELÖST
ON  DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
R   T 72
END_FUNCTION
FUNCTION FC 28: VOID
NAME: WARNLEUCHTE
BEGIN
NETWORK
TITLE = 1S IMPULSDAUER FÜR HS PENDELN
UN  T 58;           // PAUSENDAUER
L   S5T#1S;         // 1S
SV  T 57;           // STARTEN ALS VERLÄNGERTER IMPULS
NETWORK
TITLE = 1S PAUSENDAUER FÜR HS PENDELN
UN  T 57;           // 2HZ FREQUENZ
L   S5T#1S;         // 1S
SV  T 58;           // STARTEN ALS VERLÄNGERTER IMPULS
NETWORK
TITLE = BLINKLICHT IMPULSDAUER
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
SPBN   M001
L   DB10.DBW 20;    // LADE ZEIT AUS SPS-MSD
ITB;                // UMWANDELN EINER GANZZAHL IN EINEN BCD-WERT
T   MW 30;          // TRANSFERIERE IN MW30
SET;
R   M 31.4;         // ZEITRASTER 0,01S EINSTELLEN
R   M 31.5;         // ZEITRASTER 0,01S EINSTELLEN
M001:  NOP 0
UN  T 48;           // PAUSENDAUER
L   MW 30;          // LADE MW30
SV  T 47;           // STARTEN ALS VERLÄNGERTER IMPULS
NETWORK
TITLE = BLINKLICHT PAUSENDAUER
U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF
SPBN   M002
L   DB10.DBW 22;    // LADE ZEIT AUS SPS-MSD
ITB;                // UMWANDELN EINER GANZZAHL IN EINEN BCD-WERT
T   MW 32;          // TRANSFERIERE IN MW32 (ZEITRASTER IST  0,01S)
SET;
R   M 33.4;         // ZEITRASTER 0,01S EINSTELLEN
R   M 33.5;         // ZEITRASTER 0,01S EINSTELLEN
M002:  NOP 0
UN  T 47;           // IMPULSDAUER
L   MW 32;          // LADE MW30
SV  T 48;           // STARTEN ALS VERLÄNGERTER IMPULS
NETWORK
TITLE =  ANSTEUERUNG FÜR DIE GRÜNE LAMPE AUTOMATIKANZEIGE
U   DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
U   T 47;           // IMPULSDAUER
UN  DB1.DBX 1366.3; // MASCHINENALARM AKTIV
O
U   DB20.DBX 324.0; // PROGRAMM LÄUFT
UN  DB20.DBX 324.1; // STOP-ZUSTAND
UN  DB20.DBX 325.1; // STOP-ZUSTAND DURCH SINGLE
UN  DB1.DBX 1366.3; // MASCHINENALARM AKTIV
=   M 58.4;         // AUSGANGSMERKER GRÜNE WARNLEUCHTE AUTOMATIK
NETWORK
TITLE =  ANSTEUERUNG FÜR DIE WEISE LAMPE
UN  M 8.2           // 1X AKTIV
=   M 58.3;         // AUSGANGSMERKER WEISSE WARNLEUCHTE LADEMAGAZIN STEHT
NETWORK
TITLE =  ANSTEUERUNG FÜR DIE ROTE LAMPE ALARMANZEIGE
U   DB1.DBX 1366.3; // MASCHINENALARM AKTIV
U   T 47;           // IMPULSDAUER
=   M 58.5;         // AUSGANGSMERKER ROTE WARNLEUCHTE ALARM
END_FUNCTION
FUNCTION FC 40: VOID
NAME: ROBOTIK_INTERFACE
BEGIN
NETWORK
TITLE = Robotik Achsen stehen auf Referenzpunkt
L   DB1.DBD 70;     // REF-POSITION X
L   -0.5E-03;       // 0,5MM
+R  ;
L   DB1.DBD 0;      // IST POSITION X
<R  ;
=   M 168.0
L   DB1.DBD 78;     // REF-POSITION Z
L   -0.5E-03;       // 0,5MM
+R  ;
L   DB1.DBD 8;      // IST POSITION Z
<R  ;
=   M 168.2
U   M 168.0
U   M 168.2
U   DB1.DBX 134.0;  // REFERENZPUNKT X-ACHSE AKTIV
U   DB1.DBX 134.2;  // REFERENZPUNKT Z-ACHSE AKTIV
=   M 59.7          // ROBOTIK ACHSEN STEHEN AUF REF.PKT.
NETWORK
TITLE = VORSCHUB HALT AKTIV  AFG/EFG
O   M 52.2;         // ROBOTIK VORSCHUB-STOP
=   M 91.2;         // ROBOTIK VORSCHUB-STOP AFG/EFG
NETWORK
TITLE = ROBOTIK/FM AUX-ON
U   M 51.6;         // ROBOTIK AUX-ON
FP  M 168.1;        // ROBOTIK/FM AUX-ON
NETWORK
TITLE = ROBOTIK/FM UMSCH. BA REF/AUTO
U   M 51.7;         // ROBOTIK AUTOMATIK/REFERENZBETRIEB UMSCHALTEN
FP  M 168.3;        // ROBOTIK/FM UMSCH. BA REF/AUTO
NETWORK
TITLE = REFERENZPUNKT ANFAHREN
U   M 52.0;         // ROBOTIK REFERENZPUNKT ANFAHREN STARTEN
FP  M 168.5;        // ROBOTIK/FM REF ACHSEN
U   M 168.5;        // ROBOTIK/REF ACHSEN
SPBN   M001;
S   DB20.DBX 289.2; // BETRIEBSART REFERENZPUNKT ANFAHREN
S   DB20.DBX 0.0;   // BETRIEBSARTUMSCHALTUNG AKTIVIEREN
L   W#16#5;         // LADE HEX 5 (X UND Z-ACHSE REFERENZIEREN)
T   DB20.DBB 8;     // REFERENZIEREN DER KANALACHSEN
S   DB20.DBX 1.1;   // ANFORDERUNG REFERENZPKT.ANFAHREN
M001:  NOP 0;
NETWORK
TITLE = ROBOTIK/FM NC-START
U   M 52.1;         // ROBOTIK PROGRAMM START
FP  M 168.7;        // ROBOTIK/FM NC-START
NETWORK
TITLE = ROBOTIK/FM SPM ZU
U   M 52.3;         // ROBOTIK SPANNMITTEL SCHLIEßEN
UN  M 52.4;         // ROBOTIK SPANNMITTEL ÖFFNEN
FP  M 169.1;        // ROBOTIK/FM SPM ZU
NETWORK
TITLE = ROBOTIK/FM SPM AUF
U   M 52.4;         // ROBOTIK SPANNMITTEL ÖFFNEN
UN  M 52.3;         // ROBOTIK SPANNMITTEL SCHLIEßEN
FP  M 169.3;        // ROBOTIK/FM SPM AUF
NETWORK
TITLE = ROBOTIK/FM PINOLE VOR
U   M 52.5;         // ROBOTIK PINOLE VOR
UN  M 52.6;         // ROBOTIK PINOLE ZURÜCK
FP  M 169.5;        // ROBOTIK/FM PINOLE VOR
NETWORK
TITLE = ROBOTIK/FM PINOLE ZURÜCK
U   M 52.6;         // ROBOTIK PINOLE ZURÜCK
UN  M 52.5;         // ROBOTIK PINOLE VOR
FP  M 169.7;        // ROBOTIK/FM PINOLE ZURÜCK
NETWORK
TITLE = ROBOTIK/TÜR AUF
U   M 52.7;         // ROBOTIK TÜR ÖFFNEN
UN  M 51.2;         // ZUSTIMMTASTE GEDRÜCKT
FP  M 170.3;        // ROBOTIK/FM TÜR AUF
NETWORK
TITLE = ROBOTIK/TÜR ZU
U   M 51.5;         // ROBOTIK TÜR SCHLIESSEN
UN  M 51.2;         // ZUSTIMMTASTE GEDRÜCKT
FP  M 170.4;        // ROBOTIK/FM TÜR ZU
NETWORK
TITLE = ROBOTIK/NOT-AUS AKTIV
U   DB2.DBX 0.0;    // 6000  NOT-AUS AKTIV
=   M 59.3;         // AUSGANGSMERKER ROBOTIK NOT-AUS AKTIV
NETWORK
TITLE = ROBOTIK/MASCHINE READY
U   M 110.0;        // AUX-ON
U   M 110.1;        // MASCHINENTÜR OFFEN
U   DB20.DBX 324.4; // REFERENZPUNKT AKTIV
U(
O   M 141.2;        // PINOLE ENDLAGE HINTEN
ON  DB10.DBX 75.1;  // SPS-MSD /PINOLE
)
U   DB20.DBX 326.4; // BETRIEBSART AUTOMATIK
=   M 59.4;         // AUSGANGSMERKER ROBOTIK MASCHINE BETRIEBSBEREIT
NETWORK
TITLE = ROBOTIK BETRIEBSART REFERENZ
U   DB20.DBX 327.2; // BETRIEBSART REFERENZ
=   M 59.5;         // AUSGANGSMERKER ROBOTIK BETRIEBSART REFERENZ
NETWORK
TITLE = ROBOTIK M0,M1,M2,ODER M30 AKTIV
U   DB20.DBX 224.1; // M1 STATISCH
U   DB20.DBX 324.5; // BEDINGTER HALT AKTIV
O   DB20.DBX 224.0; // M0 STATISCH
O   DB20.DBX 224.2; // M2 STATISCH
O   DB20.DBX 227.6; // M30 STATISCH
=   M 59.6;         // AUSGANGSMERKER ROBOTIK M0,M1,M2,ODER M30 AKTIV
NETWORK
TITLE = ROBOTIK SPANNMITTEL GESPANNT
U   M 138.5;        // SPANNMITTEL GESPANNT
=   M 60.0;         // AUSGANGSMERKER ROBOTIK SPANNMITTEL GESPANNT
NETWORK
TITLE = ROBOTIK SPANNMITTEL OFFEN
U   M 138.4;        // SPANNMITTEL ENTSPANNT
=   M 60.1;         // AUSGANGSMERKER ROBOTIK SPANNMITTEL OFFEN
NETWORK
TITLE = ROBOTIK SPANNMITTEL KEIN TEIL GESPANNT
U   M 139.0         // SPANNMITTEL KEIN TEIL GESPANNT
=   M 60.2;         // AUSGANGSMERKER ROBOTIK SPANNMITTEL KEIN TEIL GESPANNT
NETWORK
TITLE = ROBOTIK PINOLE GESPANNT
U   M 141.3;        // PINOLE GESPANNT
=   M 60.3;         // AUSGANGSMERKER ROBOTIK PINOLE GESPANNT
NETWORK
TITLE = ROBOTIK PINOLE ENDLAGE HINTEN
U   M 141.2;        // PINOLE ENDLAGE HINTEN
=   M 60.4;         // AUSGANGSMERKER ROBOTIK PINOLE ENDLAGE HINTEN
NETWORK
TITLE = ROBOTIK PINOLE KEIN TEIL GESPANNT
U   M 141.1;        // HM PINOLE KEIN TEIL GESPANNT
=   M 60.5;         // AUSGANGSMERKER ROBOTIK PINOLE KEIN TEIL GESPANNT
NETWORK
TITLE = ROBOTIK MASCHINENTÜR GESCHLOSSEN
U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
=   M 60.6;         // AUSGANGSMERKER ROBOTIK MASCHINENTÜR GESCHLOSSEN
NETWORK
TITLE = ROBOTIK MASCHINENTÜR OFFEN
U   M 143.2;        // TÜR OFFEN
=   M 60.7;         // AUSGANGSMERKER ROBOTIK MASCHINENTÜR OFFEN
NETWORK
TITLE = UMSCH. BA REF/AUTO
UN  M 168.3;        // ROBOTIK/FM UMSCH. BA REF/AUTO
BEB ;
UN  M 59.5;         // AUSGANGSMERKER ROBOTIK BETRIEBSART REFERENZ
S   DB20.DBX 289.2; // FC BETRIEBSART REFERENZ
S   DB20.DBX 0.0;   // BETRIEBSARTENUMSCHALTUNG
BEB ;
U   M 59.5;         // AUSGANGSMERKER ROBOTIK BETRIEBSART REFERENZ
S   DB20.DBX 288.4; // FC BETRIEBSART AUTOMATIK
S   DB20.DBX 0.0;   // BETRIEBSARTENUMSCHALTUNG
END_FUNCTION
FUNCTION FC 15: VOID
NAME: MELDUNGEN
BEGIN
;HILFSMERKER ZUORDNUNG:
;TITLE = 7000  FALSCHES T-WORT                M 16.0
;TITLE = 7016  HILFSANTRIEBE EINSCHALTEN      M 18.0
;TITLE = 7017  REFERENZPUNKT ANFAHREN         M 18.1
;TITLE = 7018  SCHLÜSSEL UMSCHALTEN           M 18.2
;TITLE = 7019  PNEUMATIKÖLER LEER             M 18.3
;TITLE = 7020  SONDERBETRIEB AKTIV            M 18.4
;TITLE = 7021  WERKZEUGWENDER FREIFAHREN      M 18.5
;TITLE = 7022  AUFFANGSCHALEÜBERWACHUNG       M 18.6
;TITLE = 7023  DRUCKSCHALTER EINSTELLEN       M 18.7
;TITLE = 7024  SPANNMITTELBERO EINSTELLEN     M 19.0
;TITLE = 7025  WARTEZEIT HAUPTANTRIEB         M 19.1
;TITLE = 7026  Störung Lüfter Hauptmotor      M 19.2
;TITLE = 7038  DRUCKSCH.SCHMIERMITTEL DEFEKT  M 20.6
;TITLE = 7039  SCHMIERMITTEL DEFEKT           M 20.7
;TITLE = 7040  MASCHINENTÜR OFFEN             M 21.0
;TITLE = 7042  MASCHINENTÜR INIT.             M 21.2
;TITLE = 7043  SOLLSTÜCKZAHL ERREICHT         M 21.3
;TITLE = 7055  SPANNMITTEL OFFEN              M 22.0
;TITLE = 7054  SPANNMITTEL KEIN TEIL GESPANNT M 22.1
;TITLE = 7050  ZANGE SCHLIESSEN               M 22.2
;TITLE = 7051  ZANGE/KEIN TEIL GESPANNT       M 22.3
;TITLE = 7052  PINOLE IN ZWISCHENSTELLUNG     M 22.4
;TITLE = 7053  PINOLE/KEIN TEIL GESPANNT      M 22.5
NETWORK
TITLE = ALLE MELDUNGEN LOESCHEN
L   0
T   DB3.DBD 0       // 7000 BIS 7031
T   DB3.DBD 4       // 7032 BIS 7063
T   DB3.DBD 8       // 7064 BIS 7095
NETWORK
TITLE = MELDUNG 7026 Schutzschalter Hauptmotorlüfter ausgelöst
U   M 19.2;         // HM  7026 Störung Lüfter Hauptmotor
=   DB3.DBX 3.2;    // MELDUNG 7026 Störung Lüfter Hauptmotor
BEB
NETWORK
TITLE = 7042  MASCHINENTÜR INIT.
U   M 21.2          // HM 7042  MASCHINENTÜR INIT.
=   DB3.DBX 5.2;    // 7042  MASCHINENTÜR INIT.
BEB
NETWORK
TITLE = 7016  HILFSANTRIEBE EINSCHALTEN
U   M 18.0          // HM 7016  HILFSANTRIEBE EINSCHALTEN
=   DB3.DBX 2.0;    // 7016  HILFSANTRIEBE EINSCHALTEN
BEB
NETWORK
TITLE = 7019  PNEUMATIKÖLER LEER
U   M 18.3          // HM 7019  PNEUMATIKÖLER LEER
=   DB3.DBX 2.3;    // 7019  PNEUMATIKÖLER LEER
BEB
NETWORK
TITLE = MELDUNG 7022  AUFFANGSCHALEÜBERWACHUNG
U   M 18.6;         // HM 7022  AUFFANGSCHALEÜBERWACHUNG
=   DB3.DBX 2.6;    // MELDUNG 7022  AUFFANGSCHALEÜBERWACHUNG
BEB
NETWORK
TITLE = MELDUNG 7024  SPANNMITTELENDSCHALTER EINSTELLEN
U   M 19.0;         // HM 7024  SPANNMITTELENDSCHALTER EINSTELLEN
=   DB3.DBX 3.0;    // MELDUNG 7024  SPANNMITTELENDSCHALTER EINSTELLEN
BEB
NETWORK
TITLE = 7021  WERKZEUGWENDER FREIFAHREN
U   M 18.5;         // HM 7021  WZW NICHT VERRIEGELT
=   DB3.DBX 2.5;    // MELDUNG 7021  WERKZEUGWENDER FREIFAHREN
BEB
NETWORK
TITLE = 7020  SONDERBETRIEB AKTIV
U   M 18.4;         // HM 7020  SONDERBETRIEB AKTIV
=   DB3.DBX 2.4;    // 7020  SONDERBETRIEB AKTIV
BEB
NETWORK
TITLE = 7018  SCHLÜSSEL UMSCHALTEN
U   M 18.2;         // HM 7018  SCHLÜSSEL UMSCHALTEN
=   DB3.DBX 2.2;    // 7018  SCHLÜSSEL UMSCHALTEN
BEB
NETWORK
TITLE = 7055  SPANNMITTEL OFFEN !
U   M 110.0;        // AUX-ON
U   DB20.DBX 324.4; // REFERENZPUNKT AKTIV
U   M 22.0;         // HM 7055  SPANNMITTEL OFFEN !
=   DB3.DBX 6.7;    // 7055  SPANNMITTEL OFFEN !
BEB
NETWORK
TITLE = 7054 SPANNMITTEL KEIN TEIL GESPANNT
U   M 110.0;        // AUX-ON
U   DB20.DBX 324.4; // REFERENZPUNKT AKTIV
U   M 22.1;         // HM 7054 SPANNMITTEL KEIN TEIL GESPANNT
=   DB3.DBX 6.6;    // 7054 SPANNMITTEL KEIN TEIL GESPANNT
BEB
NETWORK
TITLE = 7050  ZANGE SCHLIESSEN
U   M 110.0;        // AUX-ON
U   DB20.DBX 324.4; // REFERENZPUNKT AKTIV
U   M 22.2;         // HM 7050  ZANGE SCHLIESSEN
=   DB3.DBX 6.2;    // 7050  ZANGE SCHLIESSEN
BEB
NETWORK
TITLE = 7051  ZANGE/KEIN TEIL GESPANNT
U   M 110.0;        // AUX-ON
U   DB20.DBX 324.4; // REFERENZPUNKT AKTIV
U   M 22.3;         // HM 7051  ZANGE/KEIN TEIL GESPANNT
=   DB3.DBX 6.3;    // 7051  ZANGE/KEIN TEIL GESPANNT
BEB
NETWORK 24
TITLE = 7052  PINOLE IN ZWISCHENSTELLUNG
UN  E  6.5;          // PINOLE GESPANNT
U   M 22.4;         // HM 7052  PINOLE IN ZWISCHENSTELLUNG
=   DB3.DBX 6.4;    // 7052  PINOLE IN ZWISCHENSTELLUNG
BEB
NETWORK 25
TITLE = 7053  PINOLE/KEIN TEIL GESPANNT
U   M 22.5;         // HM 7053  PINOLE/KEIN TEIL GESPANNT
=   DB3.DBX 6.5;    // 7053  PINOLE/KEIN TEIL GESPANNT
BEB
NETWORK
TITLE = 7016  HILFSANTRIEBE EINSCHALTEN
U   DB20.DBX 324.4; // REFERENZPUNKT AKTIV
U   M 18.0          // HM 7016  HILFSANTRIEBE EINSCHALTEN
=   DB3.DBX 2.0;    // 7016  HILFSANTRIEBE EINSCHALTEN
BEB
NETWORK
TITLE = 7040  MASCHINENTÜR OFFEN
U   M 21.0          // HM 7040  MASCHINENTÜR OFFEN
=   DB3.DBX 5.0;    // 7040  MASCHINENTÜR OFFEN
BEB
NETWORK
TITLE = 7016  HILFSANTRIEBE EINSCHALTEN
U   M 18.0          // HM 7016  HILFSANTRIEBE EINSCHALTEN
=   DB3.DBX 2.0;    // 7016  HILFSANTRIEBE EINSCHALTEN
BEB
NETWORK
TITLE = 7038  DRUCKSCHALTER SCHMIERMITTEL DEFEKT
U   M 20.6;         // HM 7038  DRUCKSCHALTER SCHM. DEFEKT
=   DB3.DBX 4.6;    // 7038  DRUCKSCHALTER SCHM. DEFEKT
BEB
NETWORK
TITLE = 7039  SCHMIERMITTEL DEFEKT
U   M 20.7;         // HM 7039  SCHMIERMITTEL DEFEKT
=   DB3.DBX 4.7;    // 7039  SCHMIERMITTEL DEFEKT
BEB
NETWORK 24
TITLE = 7052  PINOLE IN ZWISCHENSTELLUNG
U   M 22.4;         // HM 7052  PINOLE IN ZWISCHENSTELLUNG
=   DB3.DBX 6.4;    // 7052  PINOLE IN ZWISCHENSTELLUNG
BEB
NETWORK
TITLE = 7017  REFERENZPUNKT ANFAHREN
U   M 18.1          // HM 7017  REFERENZPUNKT ANFAHREN
=   DB3.DBX 2.1;    // 7017  REFERENZPUNKT ANFAHREN
BEB
NETWORK
TITLE = 7021  WERKZEUGWENDER FREIFAHREN
U   M 18.5;         // HM 7021  WZW NICHT VERRIEGELT
=   DB3.DBX 2.5;    // MELDUNG 7021  WERKZEUGWENDER FREIFAHREN
BEB
NETWORK
TITLE = 7000  FALSCHES T-WORT
U   M 16.0;         // HM 7000  FALSCHES T-WORT
=   DB3.DBX 0.0;    // 7000  FALSCHES T-WORT
BEB
NETWORK
TITLE = 7043  SOLLSTÜCKZAHL ERREICHT
U   M 21.3;         // HM 7043  SOLLSTÜCKZAHL ERREICHT
=   DB3.DBX 5.3;    // 7043  SOLLSTÜCKZAHL ERREICHT
BEB
NETWORK
TITLE = 7018  SCHLÜSSEL UMSCHALTEN
U   M 18.2;         // HM 7018  SCHLÜSSEL UMSCHALTEN
=   DB3.DBX 2.2;    // 7018  SCHLÜSSEL UMSCHALTEN
BEB
END_FUNCTION
FUNCTION FC 32: VOID
NAME: LED ANSTEUERUNG
BEGIN
NETWORK
TITLE = LAMPENTEST
;       U   DB20.DBX 294.7  // 8*************
;       S   A 8.1
;       S   DB20.DBX 846.0  // SKIP
;       S   DB20.DBX 846.1  // DRYRUN
;       S   DB20.DBX 847.0  // TÜR ÖFFNEN
;       S   DB20.DBX 847.1  // TÜR SCHLIESSEN
;       S   DB20.DBX 847.3  // 1X TASTE
;       S   DB20.DBX 847.4  // OPT.STOP (M1)
;       S   DB20.DBX 848.4  // FUTTER
;       S   DB20.DBX 848.6  // RESET
;       S   DB20.DBX 848.7  // EINZELSATZ
;       S   DB20.DBX 849.6  // PINOLE ZURÜCK
;       S   DB20.DBX 849.7  // PINOLE VOR
;       S   DB20.DBX 850.0  // WERKZEUGWENDEN
;       S   DB20.DBX 850.4  // REFERENZPUNKT ANFAHREN
;       S   DB20.DBX 851.1  // KÜHLMITTEL
;       S   DB20.DBX 851.4  // PROGRAMM HALT
;       S   DB20.DBX 851.5  // PROGRAMM START
;       S   DB20.DBX 851.6  // VORSCHUB HALT
;       S   DB20.DBX 852.0  // VORSCHUB START
;       S   DB20.DBX 852.1  // SPINDEL STOPP
;       S   DB20.DBX 852.3  // SPINDEL START
;       S   DB20.DBX 852.4  // AUX OFF
;       S   DB20.DBX 852.6  // AUX ON
;
;       R   DB20.DBX 846.0  // SKIP
;       R   DB20.DBX 846.1  // DRYRUN
;       R   DB20.DBX 847.0  // TÜR ÖFFNEN
;       R   DB20.DBX 847.1  // TÜR SCHLIESSEN
;       R   DB20.DBX 847.3  // 1X TASTE
;       R   DB20.DBX 847.4  // OPT.STOP (M1)
;       R   DB20.DBX 848.4  // FUTTER
;       R   DB20.DBX 848.6  // RESET
;       R   DB20.DBX 848.7  // EINZELSATZ
;       R   DB20.DBX 849.6  // PINOLE ZURÜCK
;       R   DB20.DBX 849.7  // PINOLE VOR
;       R   DB20.DBX 850.0  // WERKZEUGWENDEN
;       R   DB20.DBX 850.4  // REFERENZPUNKT ANFAHREN
;       R   DB20.DBX 851.1  // KÜHLMITTEL
;       R   DB20.DBX 851.4  // PROGRAMM HALT
;       R   DB20.DBX 851.5  // PROGRAMM START
;       R   DB20.DBX 851.6  // VORSCHUB HALT
;       R   DB20.DBX 852.0  // VORSCHUB START
;       R   DB20.DBX 852.1  // SPINDEL STOPP
;       R   DB20.DBX 852.3  // SPINDEL START
;       R   DB20.DBX 852.4  // AUX OFF
;       R   DB20.DBX 852.6  // AUX ON
;       U   T 47;           // BLINKIMPULS
;       =   DB20.DBX 851.0
;
;
;       U   T 48;           // STARTEN ALS VERLÄNGERTER IMPULS
;       =   DB20.DBX 850.6
NETWORK
TITLE = LED SPANNMITTEL
O   DB3.DBX 6.7;    // 7055  SPANNMITTEL OFFEN !
O   DB3.DBX 6.6;    // 7054 SPANNMITTEL KEIN TEIL GESPANNT
ON  M 138.5;        // SPANNMITTEL GESPANNT
U   T 47;           // BLINKIMPULS
;       UN  M 138.5;        // SPANNMITTEL GESPANNT
O   M 138.5;        // SPANNMITTEL GESPANNT
U(
O   DB10.DBX 75.2;  // SPS-MSD /PNEUM. SPM
O   DB10.DBX 75.6;  // EMCO-SPANNMITTEL AKTIVIEREN ET325II (ohne Bit 2 aktiv)
)
U(
O   M 5.0;          // ZUGROHR NACH LINKS
O   M 5.1;          // ZUGROHR NACH RECHTS
)
=   M 58.7;         // AUSGANGSMERKER LAMPE SPANNMITTELTASTE
=   DB20.DBX 848.4  // LED FUTTER
NETWORK
TITLE = LED KÜHLMITTEL
U   M 56.6;         // AUSGANGSMERKER KÜHLMITTEL LEISTUNG
=   DB20.DBX 851.1  // KÜHLMITTEL
NETWORK
TITLE = LED DRYRUN AKTIV
U   DB20.DBX 324.2  // DRYRUN aktiv
=   DB20.DBX 846.1  // DRYRUN
NETWORK
TITLE = LED AUSBLENDSATZ SKIP
U   DB20.DBX 324.6  // Ausblendsatz (SKIP) aktiv
=   DB20.DBX 846.0  // SKIP
NETWORK
TITLE = LED Optionaler Halt M1 aktiv
U   DB20.DBX 324.5  // Optionaler Halt M1 aktiv
=   DB20.DBX 847.4  // OPT.STOP (M1)
NETWORK
TITLE = LED 1X AKTIV
U   M 8.2           // 1X AKTIV
=   DB20.DBX 847.3  // 1X TASTE
NETWORK
TITLE = LED EINZELSATZ
U   DB20.DBX 324.7  // Einzelsatz (SINGLE) aktiv
=   DB20.DBX 848.7  // EINZELSATZ
NETWORK
TITLE = LED AUX ON LEUCHTEN, AUX OFF BLINKEN
U   T 47;           // STARTEN ALS VERLÄNGERTER IMPULS
O   M 110.0;        // AUX-ON
UN  M 11.0          // HM NOT AUS Test Ersteinschaltung
UN  M 11.4          // HM Tür auf/zu-Test Ersteinschaltung
=   DB20.DBX 852.6  // AUX ON
NETWORK
TITLE = LED REFERENZPUNKT ANFAHREN
U   T 47;           // STARTEN ALS VERLÄNGERTER IMPULS
U   M 110.0;        // AUX-ON
O   M 121.3;        // REFPKT.X,Z,ZUGLEICH ANFAHREN
UN  DB20.DBX 324.4; // REFERENZPUNKT AKTIV
UN  M 50.1;         // SCHLÜSSELSCHALTER AUF SONDERBETRIEB
;       UN  M 22.4;         // HM 7052  PINOLE IN ZWISCHENSTELLUNG
UN  M 21.0          // HM 7040  MASCHINENTÜR OFFEN
U   E 0.0;          // X-ACHSE SERVO-READY
=   DB20.DBX 850.4  // REFERENZPUNKT ANFAHREN
NETWORK
TITLE = LED WERKZEUGWENDEN AKTIV
U   T 47;           // STARTEN ALS VERLÄNGERTER IMPULS
U   DB3.DBX 2.5;    // MELDUNG 7021  WERKZEUGWENDER FREIFAHREN
O   M 152.0;        // WERKZEUGWENDEN AKTIV
=   DB20.DBX 850.0  // WERKZEUGWENDEN
NETWORK
TITLE = LED SPINDEL HALT AKTIV
U   M 132.1;        // SPINDEL HALT AKTIV
U   T 47;           // STARTEN ALS VERLÄNGERTER IMPULS
=   DB20.DBX 852.3  // SPINDEL START
NETWORK
TITLE = LED VORSCHUB HALT AKTIV
U   M 133.1;        // VORSCHUB HALT AKTIV
U   T 47;           // STARTEN ALS VERLÄNGERTER IMPULS
=   DB20.DBX 852.0  // VORSCHUB START
NETWORK
TITLE = LED PROGRAMM HALT AKTIV
U   DB20.DBX 324.0; // Programm läuft
U   DB20.DBX 324.1; // STOP-ZUSTAND
U   T 47;           // STARTEN ALS VERLÄNGERTER IMPULS
=   DB20.DBX 851.5  // PROGRAMM START
NETWORK
TITLE = TÜR GESCHLOSSEN TÜRAUTOMATIK
O   T 47;           // STARTEN ALS VERLÄNGERTER IMPULS
O   M 50.0;          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1
U   DB10.DBX 75.0;  // TÜRAUTOMATIK AKTIVIEREN
=   DB20.DBX 847.0  // TÜR SCHLIESSEN
NETWORK
TITLE = LED Taste Späneförderer
U   T 47;           // STARTEN ALS VERLÄNGERTER IMPULS
U   A 10.5          // Späneförderer rückwärts
O   A 10.4          // Späneförderer vorwärts
=   DB20.DBX 847.2  // LED Taste Späneförderer
NETWORK
TITLE =  PROGRAMM BEENDEN UND LED LÖSCHEN
U   DB1.DBX 1440.1; // PROGRAMM BEENDEN
U   M 110.0;        // AUX-ON
R   DB1.DBX 1440.1; // PROGRAMM BEENDEN
U   DB1.DBX 1440.1; // PROGRAMM BEENDEN
UN  M 110.0;        // AUX-ON
SPBN   M001
L   W#16#0;         // LADE KONSTANTE HEX 0
T   DB20.DBW 846    // LED IM BEDIENPULT LÖSCHEN
T   DB20.DBW 848    // LED IM BEDIENPULT LÖSCHEN
T   DB20.DBW 850    // LED IM BEDIENPULT LÖSCHEN
T   DB20.DBW 852    // LED IM BEDIENPULT LÖSCHEN
M001:  NOP 0
END_FUNCTION
FUNCTION FC 60: VOID
NAME: FREI PROGRAMMIERBARE M-BEFEHLE
BEGIN
UN  M 62.0;         // NOT AUS EINGANG FÜR FREI PROGRAMMIERBARE AUSGÄNGE
L   S5T#500MS;      // 500MS
SE  T 61;           // STARTEN T 61 ALS EINSCHALTVERZ.
U   T 61;
FP  M 46.0
ON  M 110.0;        // AUX-ON
O   DB1.DBX 1440.0   // RESET AUSGELÖST
O   DB1.DBX 1370.3;  // RESETTASTE GEDRÜCKT
U   M 62.0;         // NOT AUS EINGANG FÜR FREI PROGRAMMIERBARE AUSGÄNGE
O   M 46.0
SPBN   M001
L   0
T   MB 61
M001:  NOP 0
U   DB20.DBX 201.0; // M72 dyn
UN  DB20.DBX 201.1; // M73 dyn
S   M 61.1;         // AUSGANGSMERKER M72/M73
U   DB20.DBX 201.1; // M73 dyn
R   M 61.1;         // AUSGANGSMERKER M72/M73
U   DB20.DBX 201.2; // M74 dyn
UN  DB20.DBX 201.3; // M75 dyn
S   M 61.2;         // AUSGANGSMERKER M74/M75
U   DB20.DBX 201.3; // M75 dyn
R   M 61.2;         // AUSGANGSMERKER M74/M75
U   DB20.DBX 201.4; // M76 dyn
UN  DB20.DBX 201.5; // M77 dyn
S   M 61.3;         // AUSGANGSMERKER M76/M77
U   DB20.DBX 201.5; // M77 dyn
R   M 61.3;         // AUSGANGSMERKER M76/M77
U   DB20.DBX 201.6; // M78 dyn
UN  DB20.DBX 201.7; // M79 dyn
S   M 61.4;         // AUSGANGSMERKER M78/M79
U   DB20.DBX 201.7; // M79 dyn
R   M 61.4;         // AUSGANGSMERKER M78/M79
U   DB20.DBX 202.0; // M80 dyn
UN  DB20.DBX 202.1; // M81 dyn
S   M 61.5;         // AUSGANGSMERKER M80/M81
U   DB20.DBX 202.1; // M81 dyn
R   M 61.5;         // AUSGANGSMERKER M80/M81
U   DB20.DBX 202.2; // M82 dyn
UN  DB20.DBX 202.3; // M83 dyn
S   M 61.6;         // AUSGANGSMERKER M82/M83
U   DB20.DBX 202.3; // M83 dyn
R   M 61.6;         // AUSGANGSMERKER M82/M83
U   DB20.DBX 202.4; // M84 dyn
UN  DB20.DBX 202.5; // M85 dyn
S   M 61.7;         // AUSGANGSMERKER M84/M85
U   DB20.DBX 202.5; // M85 dyn
R   M 61.7;         // AUSGANGSMERKER M84/M85
END_FUNCTION
FUNCTION FC 62: VOID
NAME: LEISTUNGSANZEIGE ACC
BEGIN
; DER WERT VON 1023 ( 10 BIT )ERGIBT EINEN VOLLAUSSCHLAG DES LEISTUNGSBALKEN AUF DER SIE840 OBERFLÄCHE
NETWORK
TITLE = Leistungsanzeige loeschen
L   0
T   DB1.DBW 1508
T   DB1.DBW 1510
L   EW 14;
T   MD 460;
SET;
R   M 461.2;
R   M 461.3;
R   M 461.4;
R   M 461.5;
R   M 461.6;
R   M 461.7;
L   MD 460;
DTR;                // GANZZAHL (32BIT) IN GLEITPUNKTZAHL (FLOAT) UMWANDELN
T   MD 470;
NETWORK
TITLE = Leistungsanzeige HAUPTSPINDEL
U   M 145.3         // REGLERFREIGABE FÜR HAUPTANTRIEB
SPBN M001
L   MD 470;
L   DB10.DBD 80;    // Kalibrierfaktor der Hauptspindelstromanzeige
*R;
T   MD 480;
T   DB1.DBD 1536    // Schnittstellendaten für Abfrage im NC-Programm
L   MD 480;
RND;                // GLEITPUNKTZAHL (FLOAT) IN GANZZAHL (32BIT) UMWANDELN
T   DB1.DBW 1508    // HAUPTSPINDEL
M001:   NOP 0
NETWORK
TITLE = Leistungsanzeige AWZ SPINDEL
U   M 40.3          // REGLERFREIGABE FÜR AWZ-MOTOR
SPBN M002
L   MD 470;
L   DB10.DBD 84;    //Kalibrierfaktor der AWZ-Spindelstromanzeige
*R;
T   MD 480;
L   MD 480;
RND;                // GLEITPUNKTZAHL (FLOAT) IN GANZZAHL (32BIT) UMWANDELN
T   DB1.DBW 1510    // AWZ SPINDEL
M002:   NOP 0
END_FUNCTION
ORGANIZATION_BLOCK OB 1
NAME: ORGANISATIONSBAUSTEIN
BEGIN
CALL   FC 34;          // ZUWEISEN DER EINGÄNGE AC 95 - ACC
CALL   FC 11;          // Neues Sicherheitskonzept
U   DB10.DBX 76.5;  // SPS-MSD /Späneförderer aktiviert
CC   FC 24;          // Späneförderer
CALL   FC 13 ;         // INITIALISIERUNGEN ÜBERWACHUNGEN UND ALARME
U   DB1.DBX 1426.1; // ROBOTIK SCHNITTSTELLE AKTIVIERT MIT DISKETTE
U   DB10.DBX 75.7;  // ROBOTIK SCHNITTSTELLE AKTIVIERT IN MSD
CC   FC 40;          // ROBOTIK-INTERFACE
CALL   FC 9 ;          // RESET
CALL   FC 10 ;         // BEI PROGRAMM ENDE RESET ODER NEUSTART
CALL   FC 21 ;         // FUSZTASTER FÜR PNEUMATISCHES SPANNMITTEL
CALL   FC 17 ;         // UE Modul Netzeinspeisung
UN  DB10.DBX 100.1  // CT250 TCM mit AWZ
U   DB10.DBX 100.0  // CT250 TC  ohne AWZ
=   M 4.0           // CT250 TC  ohne AWZ
U   DB10.DBX 100.1  // CT250 TCM mit AWZ
UN  DB10.DBX 100.0  // CT250 TC  ohne AWZ
=   M 4.1           // CT250 TCM mit AWZ
CC   FC 33 ;         // AWZ STEUERUNG SPINDEL1 (M3/M4/M5)
CALL   FC 3 ;          // HA STEUERUNG und LEISTUNG SPINDEL0
;       U   DB10.DBX 76.0;  // SPS-MSD SAUTER-WENDER mit kuppelbarem AWZ aktivieren
;;       UN  M 200.0         // Einstellarbeiten
;      CC   FC 91;          // AWZ MIT KUPPELBAREN ANTRIEB (M3/M4/M5)
CALL   FC 4 ;          // X,Z-ACHSE, Bremssteuerung, Imp.und Reglerfreigabe
U   DB10.DBX 75.2;  // SPS-MSD /PNEUM. RÖHM-SPANNMITTEL AKTIVIEREN
;       UN  DB10.DBX 75.6;  // SPS-MSD /PNEUM. EMCO-SPANNMITTEL AKTIVIEREN
U(
O   M 5.0;          // ZUGROHR NACH LINKS
O   M 5.1;          // ZUGROHR NACH RECHTS
)
CC   FC 23;          // PNEUM. RÖHM SPANNMITTEL
UN  M 5.0;          // ZUGROHR NACH LINKS
UN  M 5.1;          // ZUGROHR NACH RECHTS
SPBN   M001
CLR
SE  T 29;           // STARTEN T29 ALS EINSCHALTVERZ.
SE  T 30;           // STARTEN T30 ALS EINSCHALTVERZ.
SE  T 31;           // STARTEN T31 ALS EINSCHALTVERZ.
SE  T 32;           // STARTEN T32 ALS EINSCHALTVERZ.
SET
R   M 22.0;         // HM 7055  SPANNMITTEL OFFEN !
R   M 22.1;         // HM 7054 SPANNMITTEL KEIN TEIL GESPANNT
M001:  NOP 0
U   DB10.DBX 75.3;  // SPS-MSD /AUSBLASEN
CC   FC 25;          // AUSBLASEINRICHTUNG
U   DB10.DBX 75.1;  // SPS-MSD /PINOLE
CC   FC 26;          // PNEUM. PINOLE
U   DB10.DBX 75.0;  // SPS-MSD /TÜRAUTOMATIK
CC   FC 27;          // TÜRAUTOMATIK
CALL   FC 7 ;          // AUX-ON
CALL   FC 12 ;         // SONDERBETRIEB
CALL   FC 6 ;          // REF ACHSEN
CALL   FC 5 ;          // JOG ACHSEN
CALL   FC 16 ;         // INC ACHSEN
U   DB10.DBX 75.5;  // SPS-MSD /WERKZEUGWENDER
UN  DB10.DBX 76.0;  // SPS-MSD SAUTER-WENDER mit kuppelbarem AWZ aktivieren
UN  DB10.DBX 76.1;  // SPS-MSD emco-WENDER aktivieren
U   DB10.DBX 76.2;  // SPS-MSD SAUTER-WENDER aktivieren
CC   FC 0;           // SAUTER WERKZEUGWENDER
;
;       U   DB10.DBX 75.5;  // SPS-MSD /WERKZEUGWENDER
;       UN  DB10.DBX 76.2;  // SPS-MSD SAUTER-WENDER aktivieren
;       UN  DB10.DBX 76.0;  // SPS-MSD SAUTER-WENDER mit kuppelbarem AWZ aktivieren
;       U   DB10.DBX 76.1;  // SPS-MSD emco-WENDER aktivieren
;      CC   FC 100;         // EMCO WERKZEUGWENDER
;
;       U   DB10.DBX 75.5;  // SPS-MSD /WERKZEUGWENDER
;       UN  DB10.DBX 76.2;  // SPS-MSD SAUTER-WENDER aktivieren
;       UN  DB10.DBX 76.1;  // SPS-MSD emco-WENDER aktivieren
;       U   DB10.DBX 76.0;  // SPS-MSD SAUTER-WENDER mit kuppelbarem AWZ aktivieren
;      CC   FC 90;          // WERKZEUGWENDER SAUTER MIT KUPPELBAREN AWZ-ANTRIEB
;
;       U   DB10.DBX 75.5;  // SPS-MSD /WERKZEUGWENDER
;       UN  DB10.DBX 76.2;  // SPS-MSD SAUTER-WENDER aktivieren
;       UN  DB10.DBX 76.1;  // SPS-MSD emco-WENDER aktivieren
;       U   DB10.DBX 76.0;  // SPS-MSD SAUTER-WENDER mit kuppelbarem AWZ aktivieren
;      CC   FC 92;          // AWZ EINKUPPELN
CALL   FC 19 ;         // SPINDEL HALT/START
CALL   FC 20 ;         // VORSCHUB HALT/START
CALL   FC 1 ;          // SCHMIERMITTEL und PNEUMATKÖLSTANDÜBERWACHUNG
CALL   FC 2 ;          // STÜCKZÄHLER
CALL   FC 18 ;         // KÜHLMITTEL (M8/M9)
U   DB10.DBX 76.3;  // PNEUMATISCHE AUFFANGSCHALE aktivieren
CC   FC 22 ;         // PNEUM.AUFFANGSCHALE
CALL   FC 28 ;         // WARNLEUCHTE
CALL   FC 15 ;         // MELDUNGEN 7000
CALL   FC 32 ;         // LED ANSTEUERUNG
;    CALL   FC 60 ;         // FREI PROGRAMMIERBARE M-BEFEHLE
CALL   FC 61 ;         // AUSWERTUNG DER H-BEFEHLE
CALL   FC 65 ;         // HANDRAD
U   DB10.DBX 77.2;  // LADEMAGAZIN UND 1x TASTE AKTIVIEREN
;;       =   DB20.DBX 343.0; // BEGRENZUNG AC
CC   FC 70;          // LADEMAGAZIN UND 1x TASTE
CALL   FC 8 ;          // NC-STARTVERR. UND BEDIENTASTEN
CALL   FC 14 ;         // PLC NC-ÜBERGABE UND AFG/EFG/SFG
;       U   DB10.DBX 70.0;  // LEISTUNGSANZEIGE aktivieren
;       U   DB10.DBX 2.0;   // ACC  AKTIVIEREN
CALL   FC 62 ;         // LEISTUNGSANZEIGE ACC
CALL   FC 35;          // ZUWEISEN DER AUSGÄNGE AC95 - ACC
;DB10.DBX B100= ;Bit 0  1  (TURN255_.MSD) ohne AWZ
;DB10.DBX B100= ;Bit 1  2  (TURN250A.MSD) mit AWZ
;       U   DB10.DBX 100.0  // ohne AWZ
;       U   DB10.DBX 100.1  // mit AWZ
END_ORGANIZATION_BLOCK

[Info]d220b130Version=1.28CheckChange=G130861I//       DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUF////   ***********************************************************************//   *                                                                     *//   *      SPS-PROGRAMM FÜR DIE C40 EASYCYCLE mit 3 Achssteller           *//   *                   MIT SIEMENS-Antriebe                              *//   *                                                                     *//   *      Designed by Friedrich Schörghofer          28.01.2008          *//   *                                                                     *//   *                                                                     *//   *                                                                     *//   ***********************************************************************////   INHALTSVERZEICHNIS:////      OB  1   ORGANISATIONSBAUSTEIN//      FC  0//      FC  1   SCHMIERMITTEL//      FC  2   CYCLISCHE ÜBERWACHUNG PIC//      FC  3   HA STEUERUNG und LEISTUNG SPINDEL0 (M3/M4/M5)//      FC  4   Achsmodul Imp.und Reglerfreigabe//      FC  5   JOG ACHSEN und Handräder//      FC  6   REF ACHSEN//      FC  7   AUX-ON//      FC  8   NC-STARTVERRIEGELUNG//      FC  9//      FC 10   BEI PROGRAMM ENDE RESET ODER NEUSTART//      FC 11   Neues Sicherheitskonzept//      FC//      FC 12   Einricht-Automatikbetrieb//      FC 13   INITIALISIERUNGEN UEBERWACHUNGEN UND ALARME//      FC 14   PLC NC-UEBERGABE UND AFG/EFG/SFG//      FC 15   MELDUNGEN 7000//      FC 17   NE Modul Netzeinspeisung//      FC 18   KUEHLMITTEL Schalter//      FC 19   Spindel Start/Stopp im Automatikbetrieb//      FC 20   KUEHLMITTEL (M8/M9)//      FC 21   WERKZEUGWECHSELBESTAETIGUNG MANUELL//      FC 22   WERKZEUGWECHSELBESTAETIGUNG HYDRAULISCH//      FC 23   LAMPENIMPULS//      FC 24//      FC 25//      FC 26//      FC 27   Achsanvorderung von Oberfläche//      FC 28   Hydraulischer Werkzeugentspanner//      FC 30   Elektronisches Handrad////////   SET; = 1//   CLR; = 0////   TIMER://   SI = IMPULS//        DIE MAXIMALE IMPULSLÄNGE ENTSPRICHT DER PROGRAMMIERTEN ZEIT//        DIE MINIMALE IMPULSLÄNGE ENTSPRICHT DER LÄNGE DES EINGANGSSIGNALES////   SV = IMPULS (VERLÄNGERT)//        DIE IMPULSLÄNGE ENTSPRICHT DER PROGRAMMIERTEN ZEIT//        DIE DAUER DES EINGANGSSIGNALES HAT KEINEN EINFLUSS////   SE = EINSCHALTVERZÖGERUNG//        DIE VERZÖGERUNGSDAUER ENTSPRICHT DER PROGRAMMIERTEN ZEIT//        DAS EINGANGSSIGNAL MUSS MINDESTENS SOLANGE ANLIEGEN////   SS = EINSCHALTVERZÖGERUNG (SPEICHERND)//        DIE VERZÖGERUNGSDAUER ENTSPRICHT DER PROGRAMMIERTEN ZEIT//        DIE DAUER DES EINGANGSSIGNALES HAT KEINEN EINFLUSS////   SA = AUSSCHALTIMPULS//        DIE IMPULSLÄNGE ENTSPRICHT DER PROGRAMMIERTEN ZEIT//        DER TIMER WECHSELT VON "0"AUF "1" UND DIE ZEIT WIRD GESTARTET//            WENN DAS EINGANGSSIGNAL VON "1" AUF "0" GEHT.//// ZEITBASIS     BELEGUNG DES ZEITWORTES//               15......8  7.......0//    0,01 S     0000 0000  0000 0000//    0,1  S     0001 0000  0000 0000//    1    S     0010 0000  0000 0000//   10    S     0011 0000  0000 0000//                     H     Z     E   = ZEITWERT IM BCD-FORMAT//                 00                  = BINÄRCODE FÜR ZEITBASIS//;  BITNUMMERN DER PC-UND MASCHINENSTEUERTAFEL TASTEN:;  BITNR.:        PC:     MSTT:      MSTT:;DB1.DBX 1374.0   -----     1        ----------;DB1.DBX 1374.1   -----     2        | 1| 2| 3|;DB1.DBX 1374.7   -----     3        ----------;DB1.DBX 1374.6   -----     6        | 4| 5| 6|;DB20.DBX 294.7   -----    11        ----------;DB20.DBX 295.0   -----    12        | 7| 8| 9|;DB20.DBX 294.2   CTRL ^    5        ----------;DB20.DBX 294.5   CTRL 1    9        |10|11|12|;DB20.DBX 294.6   CTRL 2   10        ----------;DB20.DBX 294.1   CTRL 3    4        |13|  |14|;DB20.DBX 295.1   CTRL 4    -        ----------;DB20.DBX 295.2   CTRL 5    -;DB20.DBX 295.3   CTRL 6    -;DB20.DBX 295.4   CTRL 7    -;DB1.DBX 1374.4   CTRL 8   14;DB20.DBX 294.4   CTRL 9    8;DB20.DBX 294.3   CTRL 0    7;DB1.DBX 1374.3   CTRL ß   13;DB1.DBX 1374.2   CTRL `    -;DB20.DBX 295.7    // TASTE EILGANGSÜBERLAGERUNG//  1. PINBELEGUNG AUF REF-MODUL Y5A017000////  -A131////  X5:1     E 16.0 // Referenzschalter X  (Endschalter Achse)//  X5:2     E 16.1 // Referenzschalter Y  (Endschalter Achse)//  X5:3     E 16.2 // Referenzschalter Z  (Endschalter Achse)//  X5:4     E 16.3//  X5:5     E 16.4//  X5:6     E 17.0 // Sync X//  X5:7     E 17.1 // Sync Y//  X5:8     E 17.2 // Sync Z//  X5:9     E 17.3//  X5:10    E 17.4//  X5:11    E 2.3  // Fräskopfschwenkeinrichtung in Parkposition.////////  X6:1     E 2.0 // TÜR geschlossen von Türendschalter//  X6:2     E 2.1 // TÜR verriegelt von Türendschalter//  X6:3     E 2.2 // Vertikal Fräßkopf eingeschwenkt//  X6:4     E 2.4 // Alive Eingang von PIC-Controller//  X6:5     E 2.5 // Nicht NOT AUS von USBSPS X2.9//  X6:6     E 2.6 // Überwachung AS Relais U/E Modul//  X6:7     E 2.7//  X6:8     E 3.0//  X6:9     A 3.5//  X6:10    A 3.4//  X6:11    A 3.3//  2. PINBELEGUNG AUF ERSTEM EINGANGS-MODUL Y5A018000////  -A132////  X5:1     E 4.0 // Überwachung NOT AUS-Relais K1 auf Sicherheitsmodul//  X5:2     E 4.1 // Überwachung TÜR zu Relais (K2, K3)//  X5:3     E 4.2 // Überwachung Achsfreigabe Relais (K4, K5)//  X5:4     E 4.3 // Überwachung AS Relais Hauptantrieb//  X5:5     E 4.4 // Überwachung AS Relais Achsen//  X5:6     E 4.5 // HA Drehzahl=0 von Relais//  X5:7     E 4.6 // Endschalter Werkzeugwechsel Vertikal//  X5:8     E 4.7 // Endschalter Werkzeugwechsel Horizontal//  X5:9     E 5.0 // NE-Modul betriebsbereit//  X5:10    E 5.1 // Rückmeldung Netzschütz NE-Modul abgefallen//  X5:11    E 5.2 // NC-STOPP Eingang von Endschalter////////  X6:1     E 5.3//  X6:2     E 5.4//  X6:3     E 5.5 // INC 1-Signal=x100 0-Signal=x1//  X6:4     E 5.6 // Anwahl X-Achse//  X6:5     E 5.7 // Anwahl Y-Achse//  X6:6     E 6.0 // Anwahl Z-Achse//  X6:7     E 6.1 // Handrad X-Achse eingekuppelt//  X6:8     E 6.2 // Handrad Y-Achse eingekuppelt//  X6:9     E 6.3 // Handrad Z-Achse eingekuppelt//  X6:10    E 6.4 // Druckschalter Hydraulikpumpe//  X6:11    E 6.5 // Taster Hydraulik Spannsystem//  3. PINBELEGUNG AUF ERSTEM AUSGANGS-MODUL Y5A019000////  -A134////  X5:1     A 4.0 // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4B135000//  X5:2     A 4.1 // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000//  X5:3     A 4.2 // AUX ON Schütz//  X5:4     A 4.3//  X5:5     A 4.4//  X5:6     A 4.5//  X5:7     A 4.6//  X5:8     A 4.7//  X5:9     A 5.0//  X5:10    A 5.1//  X5:11////////  X6:1     A 5.2//  X6:2     A 5.3//  X6:3     A 5.4//  X6:4     A 5.5//  X6:5     A 5.6//  X6:6     A 5.7//  X6:7     A 6.0//  X6:8     A 6.1//  X6:9     A 6.2//  X6:10    A 6.3//  X6:11//  4. PINBELEGUNG EINGÄNGE AUF DER BACK-PLANE Y5A023000////  -A100////  X422:1   E 3.1 // DRUCKSCHALTER SCHMIERMITTEL//  X422:2   E 3.2 // OELSTAND ZENTRALSCHMIERUNG//  X422:3   E 3.3//  X422:4   E 3.4//  X422:5   E 3.5//  X422:6   E 3.6//  X422:7   E 3.7//  X422:8   E 9.4 // MOTORSCHUTZ KUEHLMITTELPUMPE//  X422:9   E 9.5 // MOTORSCHUTZ LUEFTER HAUPTANTRIEB//  X422:10  E 9.6 // MOTORSCHUTZ Hydraulikpumpe//  X422:11  E 9.7 // Zustimmkontakt von Achs- und Spindeltastern//////  5. PINBELEGUNG AUSGÄNGE AUF DER BACK-PLANE Y5A023000////  -A100////  X421:1   +24 V     24V VERSORGUNG//  X421:2   +24 V//  X421:3   GND//  X421:4   A 9.0 // Antriebsfreigabe auf NE Modul X121.64//  X421:5   A 9.1 // Lüfter Hauptantrieb//  X421:6   A 9.2 // Maschinentür entriegeln//  X421:7   A 9.3 // Leistung Hydraulikpumpe//  X421:8   A 9.4 // Hydraulikventil//  X421:9   A 9.5 // Leistung Kühlmittelpumpe//  X421:10  A 9.6 // LEISTUNG SCHMIERMITTEL//  X421:11  A 9.7////////  X420:1   +24 V     24V VERSORGUNG//  X420:2   +24 V//  X420:3   GND//  X420:4   A 10.0 // Alive Impuls zum PIC-Controller//  X420:5   A 10.1 // Impulsfreigabe Achsen//  X420:6   A 10.2 // Haltebremse X-Achse//  X420:7   A 10.3 // Haltebremse Y-Achse//  X420:8   A 10.4 // Haltebremse Z-Achse//  X420:9   A 10.5 // Schütz Leistung X-Achse//  X420:10  A 10.6 // Schütz Leistung Y-Achse//  X420:11  A 10.7 // Schütz Leistung Z-Achse//  6. Belegung USB-SPS// DB1.DBX 1564.0       Eingang X5.1// DB1.DBX 1564.1       Eingang X5.2;              :                    :;       DB1.DBX 1565.3       Eingang X5.12// DB1.DBX 1598.0 1590.6 = Ausgang X 2.7 auf USBSPS Impulsfreigabe NE-Modul X161.63,.48,.112// DB1.DBX 1592.6 = Ausgang X 3.7 auf USBSPS Impulsfreigabe Hauptantrieb X431.663// DB1.DBX 1598.2 = 0 Achs-Stillstandsüberwachung aktivieren//                = 1 Achs-Stillstandsüberwachung deaktivieren// DB1.DBX 1598.3 = 0 Spindel-Stillstandsüberwachung aktivieren//                = 1 Spindel-Stillstandsüberwachung deaktivieren////////  7. LED und Tastenbelegung auf dem Bedienpult////  DB20.DBX 826.0  // AUX ON Taste//  DB20.DBX 846.0  // LED AUX ON Taste//  DB20.DBX 826.1  // CYCLE START Taste//  DB20.DBX 846.1  // LED CYCLE START Taste//  DB20.DBX 826.2  // HA Linkslauftaste//  DB20.DBX 846.2  // LED HA Linkslauftaste//  DB20.DBX 826.3  // HA Stopptaste//  DB20.DBX 846.3  // LED HA Stopptaste//  DB20.DBX 826.4  // HA Rechtslauftaste//  DB20.DBX 846.4  // LED HA Rechtslauftaste//  DB20.DBX 826.5  // Vorschubschalter//  DB20.DBX 846.5  // LED Vorschubschalter//  DB20.DBX 826.6  // -Z Taster//  DB20.DBX 846.6  // LED -Z Taster//  DB20.DBX 826.7  // +Y Taster//  DB20.DBX 846.7  // LED +Y Taster//  DB20.DBX 827.0  // NOT AUS Taster USB Bedienpult//  DB20.DBX 847.0  // LED NOT AUS Taster//  DB20.DBX 827.1  // Programm Halt Taster//  DB20.DBX 847.1  // LED Programm Halt Taster//  DB20.DBX 827.3  // +X Taster//  DB20.DBX 847.3  // LED +X Taster//  DB20.DBX 827.4  // Eilgang Taster//  DB20.DBX 847.4  // LED Eilgang Taster//  DB20.DBX 827.5  // -X Taster//  DB20.DBX 847.5  // LED -X Taster//  DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)//  DB20.DBX 847.6  // LED Hand / Automatik Schalter//  DB20.DBX 827.7  // Werkzeugbestätigung Taster//  DB20.DBX 847.7  // LED Werkzeugbestätigung Taster//  DB20.DBX 828.0  // Kühlmittelschalter Handbetrieb//  DB20.DBX 828.1  // Kühlmittelschalter Spindelbetrieb//  DB20.DBX 848.0  // LED Kühlmittelschalter//  DB20.DBX 828.2  // -Y Taster//  DB20.DBX 848.1  // LED -Y Taster//  DB20.DBX 828.3  // +Z Taster//  DB20.DBX 848.2  // LED +Z TasterFUNCTION FC  1 : VOIDNAME: SCHMIERMITTELBEGINNETWORKTITLE = FM WEGIMPULS X-ACHSEU   DB1.DBX 1422.0; // WEGIMPULS X-ACHSEZV  Z 2;            // ZÄHLE VORWÄRTS Z2NETWORKTITLE = FM WEGIMPULS Y-ACHSEU   DB1.DBX 1422.1; // WEGIMPULS Y-ACHSEZV  Z 4;            // ZÄHLE VORWÄRTS Z2NETWORKTITLE = FM WEGIMPULS Z-ACHSE (2M)U   DB1.DBX 1422.2; // WEGIMPULS Z-ACHSEZV  Z 6;            // ZÄHLE VORWÄRTS Z6NETWORKTITLE = WEGINITIALISIERUNG/SCHMIERIMPULSO(L   DB10.DBW 10;    // SPS-MSD X-ACHSE ALLE 8 METER EINEN SCHMIERIMPULSL   Z 2;            // LADE Z2<=I ;               // VERGLEICH AUF KLEINER GLEICH)O(L   DB10.DBW 12;    // SPS-MSD Y-ACHSE ALLE 8 METER EINEN SCHMIERIMPULSL   Z 4;            // LADE Z4<=I ;               // VERGLEICH AUF KLEINER GLEICH)O(L   DB10.DBW 14;    // SPS-MSD Z-ACHSE ALLE 8 METER EINEN SCHMIERIMPULSL   Z 6;            // LADE Z6<=I ;               // VERGLEICH AUF KLEINER GLEICH)O(U   DB20.DBX 826.0  // AUX ON TasteU   M 14.0          // Schmiermittel nur beim Ersten AUX ON einschalten)UN  A 9.6;          // LEISTUNG SCHMIERMITTELUN  T 24;           // PAUSENZEIT SCHMIERMITTELU   M 110.0;        // AUX-ONSPBN M3;                 // SPRUNG BEI 0SET;R   M 14.0          // Schmiermittel nur beim Ersten AUX ON einschaltenR   Z 2;            // RUECKSETZEN Z2R   Z 4;            // RUECKSETZEN Z4R   Z 6;            // RUECKSETZEN Z6S   A 9.6;          // LEISTUNG SCHMIERMITTELU   E 3.1;          // DRUCKSCHALTER SCHMIERMITTELS   M 20.6;         // HM 7038  DRUCKSCHALTER SCHM. DEFEKTM3:   NOP  0;NETWORKTITLE = DRUCKSCHALTER SCHMIERMITTELU   A 9.6;          // LEISTUNG SCHMIERMITTELU   E 3.1;          // DRUCKSCHALTER SCHMIERMITTELL   S5T#2S;         // 2SSE  T 22;           // STARTEN T 22 ALS EINSCHALTVERZ.NETWORKTITLE = UEBERWACHUNGSZEIT SCHMIERMITTELU   A 9.6;          // LEISTUNG SCHMIERMITTELUN  E 3.1;          // DRUCKSCHALTER SCHMIERMITTELL   S5T#20S;        // 20SSE  T 23;           // STARTEN T 23 ALS EINSCHALTVERZ.NETWORKTITLE = RUECKSETZEN SCHMIERMITTELO   T 22;           // DRUCKSCHALTER SCHMIERMITTELO   T 23;           // UEBERWACHUNGSZEIT ABGELAUFENO   DB2.DBX 0.0;    // 6000  NOT-AUSR   A 9.6;          // LEISTUNG SCHMIERMITTELNETWORKTITLE = /FM LEISTUNG SCHMIERMITTELU   A 9.6;          // LEISTUNG SCHMIERMITTELFP  M 129.1;        // FM LEISTUNG SCHMIERMITTELNETWORKTITLE = PAUSENZEIT SCHMIERMITTELU   M 129.1;        // FM LEISTUNG SCHMIERMITTELL   S5T#120S;       // 120SSV  T 24;           // STARTEN T 24 ALS VERL. IMPULSNETWORKTITLE = 7039  SCHMIERMITTEL DEFEKTU   T 23;           // UEBERWACHUNGSZEIT ABGELAUFENS   M 20.7;         // HM 7039  SCHMIERMITTEL DEFEKTR   A 9.6;          // LEISTUNG SCHMIERMITTELR   T 24;           // STARTEN T 24 ALS VERL. IMPULSU   T 22;           // DRUCKSCHALTER SCHMIERMITTELR   M 20.7;         // HM 7039  SCHMIERMITTEL DEFEKTR   M 20.6;         // HM 7038  DRUCKSCHALTER SCHM. DEFEKTNETWORKTITLE = SPS/OB-->SCHMIERIMPULS AKTIVU   A 9.6;          // LEISTUNG SCHMIERMITTEL=   DB20.DBX 311.4; // SPS/RM-->SCHMIERIMPULS AKTIVNETWORKTITLE = MELDUNG 7063 OELSTAND ZENTRALSCHMIERUNGUN  E 3.2;          // OELSTAND ZENTRALSCHMIERUNGS   M 56.6;         // HM 7063 OELSTAND ZENTRALSCHMIERUNGU   E 3.2;          // OELSTAND ZENTRALSCHMIERUNGR   M 56.6;         // HM MELDUNG 7019  FUELLSTAND SCHMIERMITTEL UNTERSCHRITTENEND_FUNCTIONFUNCTION FC 30 : VOIDNAME: Elektronisches HandradBEGIN//  DB20.DBX 348.5  Handradachse abwählen (Handrad muss neu angewählt werden)//  DB20.DBX 349.0  Anforderung Handradeistellung geändert oder bei Anwahl Handrad (DB1.DBX 1440.2) mit//                  Nachfolgenden Angaben schicken!//  DB20.DBB 974    Handradnummer (bei FB40 Nr.:4 ist Steckplatzbezogen -A125)//  DB20.DBB 975    Achsnummer, wenn keine Achse angewählt dann 255 schicken//  DB20.DBD 970    Schrittweite in Float// E 5.3 NOT AUS Handrad// E 5.4 Zustimmtaste Handrad// E 5.5 INC 1-Signal=x100 0-Signal=x1// E 5.6 Anwahl X-Achse// E 5.7 Anwahl Y-Achse// E 6.0 Anwahl Z-Achse// Bei aktivem Handrad und nicht X,Y,oder Z angewählt, steht der Achswahlschalter auf Achse 4L   0T   MB 39U   E 5.6           // Anwahl X-Achse=   M 45.0U   E 5.7           // Anwahl Y-Achse=   M 45.1U   E 6.0           // Anwahl Z-Achse=   M 45.2U   M 400.3SPBN  M3101L   MB 45L   MB 47==IUN   M 400.1SPB M3101L   MB 45T   MB 47L   0               // Anwahl X-AchseT   MB 46L   MB 45L   1==ISPB M3100L   1               // Anwahl Y-AchseT   MB 46L   MB 45L   2==ISPB M3100L   2               // Anwahl Z-AchseT   MB 46L   MB 45L   4==ISPB M3100L   MB 45L   0==ISPBN M3100L   255T   MB 46M3100:NOP 0=   DB20.DBX 349.0; // Handrad AnwahlL   MB 46T   DB20.DBB 975    // Achsnummer, wenn keine Achse angewählt dann 255 schickenL   4               // Handradnummer (bei FB40 Nr.:4 ist Steckplatzbezogen -A125)T   DB20.DBB 974    // Handradnummer (bei FB40 Nr.:4 ist Steckplatzbezogen -A125)M3101:NOP 0NETWORKTITLE = Handradauflösung Umschalten auslösenON  DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUFFP  M 57.6          // FM 1.SPS-SCHLEIFENDURCHLAUFUN  E 5.5           // INC kleinUN  M 57.5;         // FM BETREIBSART INC großFP  M 57.3          // FM BETREIBSART INC kleinU   E 5.5           // INC großUN  M 57.3;         // FM BETREIBSART INC kleinFP  M 57.5          // FM BETREIBSART INC großO   M 57.6          // FM 1.SPS-SCHLEIFENDURCHLAUFO   M 122.5;        // FM REFERENZPUNKT AKTIVO   M 57.3          // FM BETREIBSART INC kleinO   M 57.5          // FM BETREIBSART INC großO   M 400.1UN  DB20.DBX 327.2; // BETRIEBSART REFERENZIEREN=   M 57.7          // FM INC Umschaltung ausloesen// Einstellungen im SPS-MSDFile://       O   DB10.DBX 78.0 und 78.1 = 0   // ANWAHL 1/10//       O   DB10.DBX 78.0 = 1      = 1   // ANWAHL 1/100//       O   DB10.DBX 78.1 = 1      = 2   // ANWAHL 10/100//       DB20.DBX  288.5  INC 1//       DB20.DBX  288.6  INC 10//       DB20.DBX  288.7  INC 100//       DB20.DBX  289.0  INC 1000//       DB20.DBX  289.1  INC 10000NETWORKTITLE = Handradauflösung aus SPSMSD-FileUN  DB10.DBX 78.0UN  DB10.DBX 78.1=   M 38.0          // SPSMSD-File ANWAHL 1/10U   DB10.DBX 78.0UN  DB10.DBX 78.1=   M 38.1          // SPSMSD-File ANWAHL 1/100UN  DB10.DBX 78.0U   DB10.DBX 78.1=   M 38.2          // SPSMSD-File ANWAHL 10/100NETWORKTITLE = Handradauflösung umschalten INC 1/10 KLEIN// E 5.5 INC 1-Signal=x100 0-Signal=x1//       UN  E 5.5           // INC klein//       U   E 5.5           // INC großO   M 57.7          // FM INC Umschaltung ausloesenUN  E 5.5           // INC kleinFP  M 57.0;         // FM INC kleinU   M 57.0;         // FM INC kleinUN  DB10.DBX 78.1   // ANWAHL INC1/10SPBN M3004=   DB20.DBX 288.5  // BETREIBSART INC 1=   DB20.DBX 0.0;   // BA WECHSELANFORDERUNG=   DB20.DBX 349.0;  // Handrad AnwahlL   +1.0E-06;T   DB20.DBD 970    // INC SchrittweiteM3004: NOP 0;U   M 57.0;         // FM INC kleinU   DB10.DBX 78.1   // ANWAHL INC10/100SPBN M3005=   DB20.DBX 288.6  // BETREIBSART INC 10=   DB20.DBX 0.0;   // BA WECHSELANFORDERUNG=   DB20.DBX 349.0;  // Handrad AnwahlL   +1.0E-05;T   DB20.DBD 970    // INC SchrittweiteM3005: NOP 0;NETWORKTITLE =  Handradauflösung umschalten  INC 10/100 GROSSO   M 57.7          // FM INC Umschaltung ausloesenU   E 5.5           // INC großFP  M 57.2;         // FM INC großU   M 57.2;         // FM INC großU   M 38.0          // SPSMSD-File ANWAHL 1/10SPBN M3006=   DB20.DBX 288.6  // BETREIBSART INC 10=   DB20.DBX 0.0;   // BA WECHSELANFORDERUNG=   DB20.DBX 349.0;  // Handrad AnwahlL   +1.0E-05;T   DB20.DBD 970    // INC SchrittweiteM3006: NOP 0;U   M 57.2;         // FM INC großU(O   DB10.DBX 78.0   // ANWAHL 1/100O   DB10.DBX 78.1   // ANWAHL 10/100)SPBN M3007=   DB20.DBX 288.7  // BETREIBSART INC 100=   DB20.DBX 0.0;   // BA WECHSELANFORDERUNG=   DB20.DBX 349.0;  // Handrad AnwahlL   +1.0E-04;T   DB20.DBD 970    // INC SchrittweiteM3007: NOP 0;NETWORKTITLE = Handrad An-AbwahlO   DB20.DBX 289.2  // Anforderung BETREIBSART ReferenzierenO   DB20.DBX 288.4  // Anforderung BETREIBSART AutomatikU   DB20.DBX 0.0;   // BA WECHSELANFORDERUNG=   DB1.DBX 1440.3; // Handrad AbwahlR   M 400.3UN  DB20.DBX 289.2  // Anforderung BETREIBSART ReferenzierenUN  DB20.DBX 288.4  // Anforderung BETREIBSART AutomatikU   DB20.DBX 0.0;   // BA WECHSELANFORDERUNG=   DB1.DBX 1440.2; // Handrad AnwahlFP   M 400.1U    M 400.1S    M 400.3//  DB20.DBB 974    Handradnummer (bei FB40 Nr.:4 ist Steckplatzbezogen -A125)//  DB20.DBB 975    Achsnummer, wenn keine Achse angewählt dann 255 schicken//  DB20.DBD 970    Schrittweite in FloatEND_FUNCTIONFUNCTION FC 22: VOIDNAME: WERKZEUGWECHSEL HYDRAULISCHBEGINNETWORKTITLE = Neue Werkzeugbestätigung aktivU   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF=   DB20.DBX 382.7  // Neue Werkzeugbestätigung aktivNETWORKTITLE = Neues Werkzeug einwechselnU   DB20.DBX 182.0; // NEUES T-WORTSPBN M2200;L   DB20.DBW 184;   // T-WORTL   DB20.DBW 356;   // AKTIVES WERKZEUG IN DB20<>I;                // VERGLEICH AUF UNGLEICHS   M 44.0          // Neues Werkzeug einwechselnM2200:NOP 0;O   DB1.DBX 1440.0; // RESET AUSGELÖSTO   DB1.DBX 1370.3; // RESET TASTE GEDRUECKTR   M 58.1;         // HM ANFORDERUNG NEUES T-WORTR   M 44.0          // Neues Werkzeug einwechselnNETWORKTITLE = Neues Werkzeug rückmeldenU   M 35.1          // Hydraulik zum Werkzeugentspannen freigegebenFN  M 43.1          // FM Hydraulik zum Werkzeugentspannen freigegebenU   M 43.1          // FM Hydraulik zum Werkzeugentspannen freigegeben;       U   M 12.1          // TÜR offenU   M 114.3;        // ISTDREHZAHL KLEINER 20U/MINU   M 58.1;         // HM ANFORDERUNG NEUES T-WORTON  DB20.DBX 324.0; // Programm läuftU   M 44.0          // Neues Werkzeug einwechselnSPBN M2201;L   DB20.DBW 184;   // T-WORTT   DB20.DBW 356;   // AKTIVES WERKZEUG IN DB20R   M 44.0          // Neues Werkzeug einwechselnR   M 58.1;         // HM ANFORDERUNG NEUES T-WORTM2201:NOP 0;NETWORKTITLE = Neues Werkzeug einspannenU   DB20.DBX 324.0; // Programm läuftU   M 44.0          // Neues Werkzeug einwechselnFP  M 58.0;         // FM ANFORDERUNG NEUES T-WORTU   M 58.0;         // FM ANFORDERUNG NEUES T-WORTS   M 58.1;         // HM ANFORDERUNG NEUES T-WORTO   DB1.DBX 1440.0; // RESET AUSGELÖSTO   DB1.DBX 1370.3; // RESET TASTE GEDRUECKTR   M 58.1;         // HM ANFORDERUNG NEUES T-WORTR   M 44.0          // Neues Werkzeug einwechselnNETWORKTITLE = MELDUNG 7066 WERKZUEG BESTAETIGENO   M 59.1;         // HM FREIGABE WERKZEUGBESTAETIGUNGO   M 58.1;         // HM ANFORDERUNG NEUES T-WORTO   M 35.1          // Hydraulik zum Werkzeugentspannen freigegeben=   M 42.3;         // HM MELDUNG 7066 WERKZUEG BESTAETIGENEND_FUNCTIONFUNCTION FC 19: VOIDNAME: Spindel Start/Stopp im AutomatikbetriebBEGINNETWORKTITLE = FM TASTE SPINDEL HALT (BEDINPULT)U   DB20.DBX 826.3  // HA StopptasteFP  M 132.7;        // FM TASTE SPINDEL HALTNETWORKTITLE = SPINDEL HALT/START FREIGABEU   DB20.DBX 324.1; // NC-STOP AKTIVU   M 20.0;         // HAUPTANTRIEB LÄUFTUN  M 131.7;        // ACHSEN IN BEWEGUNG=   M 132.0;        // SPINDEL HALT/START FREIGABENETWORKTITLE = SPINDEL HALT AKTIVU   M 132.0;        // SPINDEL HALT/START FREIGABEU   M 132.7;        // FM TASTE SPINDEL HALTU   DB20.DBX 324.0; // PROGRAMM LÄUFTS   M 132.1;        // SPINDEL HALT AKTIVU(O   DB20.DBX 826.4  // HA Rechtslauftaste Spindel START M3O   DB20.DBX 826.2  // HA Linkslauftaste Spindel START M4U   E 9.7           // Zustimmkontakt von Achs- und Spindeltastern)U   M 132.1;        // SPINDEL HALT AKTIVU   DB20.DBX 324.0; // PROGRAMM LÄUFTU   M 50.0          // Tür ZU VON TÜRMODUL Y4A043000 X5:4 FG1R   M 132.1;        // SPINDEL HALT AKTIVO   DB1.DBX 1440.0  // RESET AUSGELÖSTO   DB1.DBX 1370.3; // RESETTASTE GEDRUECKTR   M 132.1;        // SPINDEL HALT AKTIVNETWORKTITLE = SPINDEL HALT AKTIV  SFG/ AFG/EFGU   M 132.1;        // SPINDEL HALT AKTIV=   M 95.7;         // SPINDEL HALT AKTIV  SFG=   M 91.7;         // SPINDEL HALT AKTIV  AFG/EFGEND_FUNCTIONFUNCTION FC 28 : VOIDNAME: Hydraulischer WerkzeugentspannerBEGIN//  X421:7   A 9.3 // Leistung Hydraulikpumpe//  X421:8   A 9.4 // Hydraulikventil//  X6:10    E 6.4 // Druckschalter Hydraulikpumpe//  X6:11    E 6.5 // Taster Hydraulik Spannsystem//  X422:10  E 9.6 // MOTORSCHUTZ Hydraulikpumpe//  DB20.DBX 827.7  // Werkzeugbestätigung Taster//  DB20.DBX 847.7  // LED Werkzeugbestätigung TasterNETWORKTITLE = Freigabe WerkzeugentspannerUN  E 0.3;          // Hauptantrieb SERVO-READYUN  M 131.7;        // ACHSEN IN BEWEGUNGU   E 4.3           // Überwachung AS Relais HauptantriebU   M 110.0;        // AUX-ON;       U   M 12.1          // TÜR offen=   M 35.0          // Freigabe WerkzeugentspannerNETWORKTITLE = Aktivieren  WerkzeugentspannenU   DB20.DBX 827.7  // Werkzeugwechselbestätigungs TasterFP  M 35.2          // FM Werkzeugwechselbestätigungs TasterU   M 35.2          // FM Werkzeugwechselbestätigungs TasterUN  M 35.1          // Hydraulik zum Werkzeugentspannen freigegeben=   M 35.3U   M 35.2          // FM Werkzeugwechselbestätigungs TasterUN  M 35.1          // Hydraulik zum Werkzeugentspannen freigegebenU   M 35.0          // Freigabe WerkzeugentspannerS   M 35.1          // Hydraulik zum Werkzeugentspannen freigegebenNETWORKTITLE = WerkzeugbestätigenU   M 35.2          // FM Werkzeugwechselbestätigungs TasterU   M 35.1          // Hydraulik zum Werkzeugentspannen freigegebenU   M 35.4          // Werkzeugbestätigen freigegebenUN  M 35.3O   DB1.DBX 1440.0  // RESET AUSGELÖSTO   DB1.DBX 1370.3; // RESET TASTE GEDRÜCKTON  M 110.0;        // AUX-ONR   M 35.1          // Hydraulik zum Werkzeugentspannen freigegebenR   M 35.4          // Werkzeugbestätigen freigegebenNETWORKTITLE = Werkzeugbestätigen freigebenU   M 35.1          // Hydraulik zum Werkzeugentspannen freigegebenU   M 12.1          // TÜR offenU   A 9.3           // Leistung HydraulikpumpeS   M 35.4          // Werkzeugbestätigen freigegebenNETWORKTITLE = LED im Werkzeugwechselbestätigungs TasterU   M 35.1          // Hydraulik zum Werkzeugentspannen freigegebenU   T 47            // Blinkfrequenz=   DB20.DBX 847.7  // LED im Werkzeugwechselbestätigungs TasterNETWORKTITLE = Leistung HydraulikpumpeU   E 6.5           // Taster Hydraulik SpannsystemU   M 35.1          // Hydraulik zum Werkzeugentspannen freigegebenU   E 9.6           // MOTORSCHUTZ HydraulikpumpeU   M 12.1          // TÜR offen=   A 9.3           // Leistung HydraulikpumpeNETWORKTITLE = Leistung HydraulikventilU   A 9.3           // Leistung Hydraulikpumpe=   A 9.4           // HydraulikventilNETWORKTITLE = Meldung 7087 Motorschutz Hydraulik Spannsystem ausgelöstUN  E 9.6           // MOTORSCHUTZ HydraulikpumpeS   M 42.4;         // HM Meldung 7087 Motorschutz Hydraulik Spannsystem ausgelöstU   E 9.6           // MOTORSCHUTZ HydraulikpumpeR   M 42.4;         // HM Meldung 7087 Motorschutz Hydraulik Spannsystem ausgelöstEND_FUNCTIONFUNCTION FC  5 : VOIDNAME: JOG ACHSEN und HandräderBEGINNETWORKTITLE = LED AchstastenO   DB20.DBX 10.0;  // JOG +XUN  M 18.2;         // HM 7018  Schlüsselschalter umschalten=   DB20.DBX 847.3  // LED +X TasterO   DB20.DBX 12.0;  // JOG -XUN  M 18.2;         // HM 7018  Schlüsselschalter umschalten=   DB20.DBX 847.5  // LED -X TasterO   DB20.DBX 10.1;  // JOG +YUN  M 18.2;         // HM 7018  Schlüsselschalter umschalten=   DB20.DBX 846.7  // LED +Y TasterO   DB20.DBX 12.1;  // JOG -YUN  M 18.2;         // HM 7018  Schlüsselschalter umschalten=   DB20.DBX 848.1  // LED -Y TasterO   DB20.DBX 10.2;  // JOG +ZUN  M 18.2;         // HM 7018  Schlüsselschalter umschalten=   DB20.DBX 848.2  // LED +Z TasterO   DB20.DBX 12.2;  // JOG -ZUN  M 18.2;         // HM 7018  Schlüsselschalter umschalten=   DB20.DBX 846.6  // LED -Z TasterNETWORKTITLE = Meldungen Handräder im EingriffUN  E 6.1           // Handrad X-Achse ausgekuppelt (1-Signal)=   M 19.0          // X-Handrad im EingriffUN  E 6.2           // Handrad Y-Achse ausgekuppelt=   M 19.1          // Y-Handrad im EingriffUN  E 6.3           // Handrad Z-Achse ausgekuppelt=   M 19.2          // Z-Handrad im EingriffON  E 6.1           // Handrad X-Achse ausgekuppelt (1-Signal)ON  E 6.2           // Handrad Y-Achse ausgekuppeltON  E 6.3           // Handrad Z-Achse ausgekuppelt=   M 14.1          // Handrad im Eingriff=   M 97.1;         // NC-STARTVERRIEGELUNGNETWORKTITLE = Reset auslösen wenn bei Programm läuft ein Handrad herausgezogen wirdU   M 14.1          // Handrad im EingriffU   DB20.DBX 324.0; // PROGRAMM LÄUFT: RUECKSETZEN MIT PROGRAMM ENDE BZW. RESET.UN  DB20.DBX 324.1; // STOP-ZUSTANDFP  M 43.0          // FM Programm läuft und ein Handrad wurde herausgezogenNETWORKTITLE = JOG-ACHSEN FREIGABEO   M 18.2;         // HM 7018  Schlüsselschalter umschaltenO   M 14.1          // Handrad im Eingriff=   M 112.0;        // JOG-ACHSEN verhindern;  NETWORK;  TITLE = JOG-ACHSEN/STARTVERR.;;       U   DB20.DBX 1.2;   // FC JOG-ACHSEN;       U   M 112.0;        // JOG-ACHSEN verhindern;    SPBN   M051;       =   DB20.DBX 1.2;   // JOG-ANFORDERUNG;       L   DW#16#0000_0000;// LADE 0;       T   DB20.DBD 10;    // JOG IN ALLEN ACHSEN AUS;M051: NOP 0END_FUNCTIONFUNCTION FC  6 : VOIDNAME: ACHSEN_REFERENZIERENBEGINNETWORKTITLE = FREIGABE REFERENZIERENU   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1U   M 102.0;        // SUM ACHSFREIGABEUN  M 100.2;        // VORSCHUBSCHALTER AUF 0%UN  M 131.7;        // ACHSEN IN BEWEGUNGUN  M 91.1;         // SUM ALARME  AFG/EFGU   M 16.7          // Achsendschalter nicht betätigt=   M 120.1;        // REF ACHSEN FREIGABENETWORKTITLE = REFERENZPUNKT ANFAHREN ABBRECHEN(RESET AUSLÖSEN)U   DB20.DBX 327.2; // BETRIEBSART REFERENZU   M 110.1;        // MASCHINENTÜR OFFENFP  M 122.4         // FLANKENMERKER RESET AUSLÖSENO   M 122.4         // FLANKENMERKER RESET AUSLÖSENO   DB1.DBX 1440.0  // NC-RESET AUSLÖSEN=   DB1.DBX 1440.0  // NC-RESET AUSLÖSENNETWORKTITLE = REFPKT.ANFAHREN SPERRENU   DB20.DBX 1.1;   // REFERENZPKT.ANFAHRENUN  M 120.1;        // REF ACHSEN FREIGABER   DB20.DBX 1.1;   // REFERENZPKT.ANFAHRENR   DB20.DBX 8.0;   // REFERENZIEREN X-ACHSER   DB20.DBX 8.1;   // REFERENZIEREN Y-ACHSER   DB20.DBX 8.2;   // REFERENZIEREN Z-ACHSENETWORKTITLE = FM REFERENZPUNKT AKTIVU   DB20.DBX 324.4; // REFERENZPUNKT AKTIVFP  M 122.5;        // FM REFERENZPUNKT AKTIVU   M 122.5;        // FM REFERENZPUNKT AKTIVSPBN M08=   DB20.DBX 0.0;   // BA WECHSELANFORDERUNG=   DB20.DBX 288.0  // BETRIEBSART JOGM08: NOP 0;NETWORKTITLE = 7017  REFERENZPUNKT ANFAHRENU   M 110.0;        // AUX-ONUN  DB20.DBX 324.4; // REFERENZPUNKT AKTIV=   M 18.1;         // HM 7017  REFERENZPUNKT ANFAHRENEND_FUNCTIONFUNCTION FC  8 : VOIDNAME: NC-STARTVERRIEGELUNGBEGINNETWORKTITLE = NC-STOPP VON M0/M1 DYNAMISCHU   E 5.2           // NC-STOPP Eingang von Endschalter=   M 96.2;         // NC-STARTVERRIEGELUNGU   E 5.2           // NC-STOPP Eingang von EndschalterFP  M 103.0;        // FM NC-STOPP Eingang von EndschalterO   M 34.1;         // HM M0/M1 DYNAMISCHO   M 58.0;         // FM ANFORDERUNG NEUES T-WORTO   M 103.0;        // FM NC-STOPP Eingang von EndschalterU   DB20.DBX 324.0; // PROGRAMM LÄUFT: RUECKSETZEN MIT PROGRAMM ENDE BZW. RESET.O   DB20.DBX 0.1;   // NC-STOPP ANFORDERUNG=   DB20.DBX 0.1;   // NC-STOPP ANFORDERUNGNETWORKTITLE = AFG/EFG/SFG/ALARM AKTIVU   M 104.2;        // SUM  SFGU   DB20.DBX 340.4; // ACHSFREIGABEU   DB20.DBX 340.3; // EINLESEFREIGABE=   M 103.1;        // NC-START FREIGABE VON AFG,EFG,SFGON  M 103.1;        // NC-START FREIGABE VON AFG,EFG,SFGO   DB1.DBX 1366.3; // MASCHINENALARM AKTIV=   M 96.0;         // NC-STARTVERRIEGELUNGNETWORKTITLE = SCHLUESSELSCHALTER BETRIEBSART AUTOMATIK/HANDUN  DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)=   M 96.1;         // NC-STARTVERRIEGELUNGNETWORKTITLE = SOLLSTUECKZAHL ERREICHTU   M 21.3;         // HM 7043  SOLLSTUECKZAHL ERREICHT=   M 96.3;         // NC-STARTVERRIEGELUNGNETWORKTITLE = SCHMIERMITTEL UND MOTORSCHUTZO   M 56.6;         // HM 7063 OELSTAND ZENTRALSCHMIERUNGO   M 20.6;         // HM 7038 DRUCKSCHALTER SCHM. DEFEKTO   M 20.7;         // HM 7039 SCHMIERMITTEL DEFEKTO   M 40.0;         // HM MELDUNG 7065 MOTORSCHUTZ KUEHLMITTELPUMPEO   M 40.2;         // HM MELDUNG 7066 MOTORSCHUTZ LUEFTER HAUPTANTRIEBO   M 42.4;         // HM Meldung 7087 Motorschutz Hydraulik Spannsystem ausgelöst=   M 96.5;         // NC-STARTVERRIEGELUNGNETWORKTITLE = REFERENZPUNKT NICHT AKTIV UND FREIGABE WERKZEUG NACH REF.;8((((((((       ON  M 59.3;         // FREIGABE WERKZEUG NACH REFERNZIERENON  DB20.DBX 324.4; // REFERENZPUNKT AKTIV=   M 96.6;         // NC-STARTVERRIEGELUNGNETWORKTITLE = NC-STARTVERRIEGELUNG WERKZEUGBESTAETIGUNG AKTIV;       O   M 42.0;         // HM MELDUNG 7074 WERKZEUG WECHSELNO   M 42.3;         // HM MELDUNG 7066 WERKZEUG BESTAETIGENO   M 58.1;         // HM ANFORDERUNG NEUES T-WORT=   M 96.7;         // NC-STARTVERRIEGELUNGNETWORKTITLE = Spindelfreigabe WERKZEUGBESTAETIGUNG AKTIV;       O   M 42.0;         // HM MELDUNG 7074 WERKZEUG WECHSELNO   M 42.3;         // HM MELDUNG 7066 WERKZEUG BESTAETIGENUN  M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MINS   M 94.2;         // Spindelfreigabe WERKZEUGBESTAETIGUNG AKTIVNETWORKTITLE = SUM NC-START VERR.L   MW 96;          // WORT/NC-STARTVERR.L   W#16#0;         // LADE KONSTANTE HEX 0==I ;               // VERGEICH AUF UNGEICH=   M 104.3;        // SUM NC-STARTFREIGABENETWORKTITLE = NC-START IST FREIGEGEBENU   M 104.3;        // SUM  NC-STARTFREIGABE=   DB20.DBX 311.5  // Melden NC-START IST FREIGEGEBENNETWORKTITLE = NC-START/STARTFREIGABEU   DB20.DBX 0.2;   // FC NC-STARTU   M 104.3;        // SUM  NC-STARTFREIGABEU   DB20.DBX 326.4; // BETRIEBSART AUTOMATIK=   DB20.DBX 0.2;   // FC NC-STARTNETWORKTITLE = RESET Spindelfreigabe WERKZEUGBESTAETIGUNG AKTIVO   DB20.DBX 0.2;   // FC NC-STARTO   DB1.DBX 1440.0  // RESET AUSGELÖSTO   DB1.DBX 1370.3; // RESETTASTE GEDRUECKTR   M 94.2;         // Spindelfreigabe WERKZEUGBESTAETIGUNG AKTIVNETWORKTITLE = NC-START/NEG.DNC-QUITTUNGU   DB1.DBX 1366.0; // DNC-BETRIEB AKTIVU   DB20.DBX 0.2;   // FC NC-STARTUN  M 104.3;        // SUM  NC-STARTFREIGABES   DB20.DBX 319.0; // NC-START/NEG.DNC-QUITTUNGNETWORKTITLE = LED NC-STARTU   DB20.DBX 324.1; // STOP-ZUSTANDU   T 47            // BlinkfrequenzO(U   DB20.DBX 324.0; // PROGRAMM LÄUFT: RUECKSETZEN MIT PROGRAMM ENDE BZW. RESET.UN  DB20.DBX 324.1; // STOP-ZUSTAND)=   DB20.DBX 846.1  // LED CYCLE START TasteNETWORKTITLE = LED NC-STOPU   DB20.DBX 324.1; // STOP-ZUSTAND=   DB20.DBX 847.1  // LED Programm Halt TasterEND_FUNCTIONFUNCTION FC 18: VOIDNAME: KUEHLMITTEL SchalterBEGINNETWORKTITLE = Kühlmittelschalter//  X422:8   E 9.4 // MOTORSCHUTZ KUEHLMITTELPUMPE//  X421:9   A 9.5 // Leistung Kühlmittelpumpe//  DB20.DBX 828.0  // Kühlmittelschalter Handbetrieb//  DB20.DBX 828.1  // Kühlmittelschalter Spindelbetrieb//  DB20.DBX 848.0  // LED KühlmittelschalterO   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGERO   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGERU   DB20.DBX 340.5; // SPINDELFREIGABE SPINDEL 0UN  M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN=   M 107.6         // Spindel läuftU   DB20.DBX 828.1  // Kühlmittelschalter SpindelbetriebU   M 107.6         // Spindel läuftO   DB20.DBX 828.0  // Kühlmittelschalter Handbetrieb=   M 107.1;        // KUEHLMITTEL EINU   M 110.0;        // AUX-ONU   E 9.4           // MOTORSCHUTZ KUEHLMITTELPUMPE=   M 107.0;        // KUEHLMITTEL FREIGABENETWORKTITLE = KUEHLMITTEL LEISTUNGU   M 107.1;        // KUEHLMITTEL EINU   M 107.0;        // KUEHLMITTEL FREIGABE=   A 9.5           // KUEHLMITTEL LEISTUNGNETWORKTITLE = LED KühlmittelschalterU   T 47            // BlinkfrequenzU   DB20.DBX 828.1  // Kühlmittelschalter SpindelbetriebUN  M 107.6         // Spindel läuftO   A 9.5           // KUEHLMITTEL LEISTUNG=   DB20.DBX 848.0  // LED KühlmittelschalterNETWORKTITLE = SPS/OB-->KUEHLMITTEL EINU   M 107.1;        // KUEHLMITTEL EIN=   DB20.DBX 310.5; // SPS/OB-->KUEHLMITTEL EINNETWORKTITLE = SPS/OB-->KUEHLMITTEL SPRITZTU   A 9.5;          // AUSGANGSMERKER KUEHLMITTEL LEISTUNG=   DB20.DBX 310.6; // SPS/RM-->KUEHLMITTEL SPRITZTNETWORKTITLE = ALARM 7065 MOTORSCHUTZ KUEHLMITTELUN  E 9.4           // MOTORSCHUTZ KUEHLMITTELPUMPES   M 40.0;         // HM MELDUNG 7065 MOTORSCHUTZ KUEHLMITTELPUMPEU   E 9.4           // MOTORSCHUTZ KUEHLMITTELPUMPER   M 40.0;         // HM MELDUNG 7065 MOTORSCHUTZ KUEHLMITTELPUMPEEND_FUNCTIONFUNCTION FC 20: VOIDNAME: KUEHLMITTEL_M8_M9BEGINNETWORKTITLE = Kühlmittelschalter//  X422:8   E 9.4 // MOTORSCHUTZ KUEHLMITTELPUMPE//  X421:9   A 9.5 // Leistung Kühlmittelpumpe//  DB20.DBX 828.0  // Kühlmittelschalter Handbetrieb//  DB20.DBX 828.1  // Kühlmittelschalter Spindelbetrieb//  DB20.DBX 848.0  // LED Kühlmittelschalter//  DB20.DBX 324.0; // Programm läuftNETWORKTITLE = Spindel läuftO   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGERO   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGERU   DB20.DBX 340.5; // SPINDELFREIGABE SPINDEL 0UN  M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MIN=   M 107.6         // Spindel läuftNETWORKTITLE = Auswertung KühlmittelschalterU   DB20.DBX 828.1  // Kühlmittelschalter SpindelbetriebU   M 107.6         // Spindel läuftUN  DB20.DBX 324.0; // Programm läuftO   DB20.DBX 828.0  // Kühlmittelschalter Handbetrieb=   M 117.1;        // KUEHLMITTEL EIN HandbetriebO   DB20.DBX 828.0  // Kühlmittelschalter HandbetriebO   DB20.DBX 828.1  // Kühlmittelschalter Spindelbetrieb=   M 117.0         // Kühlmittelfreigabe von KühlmittelschalterNETWORKTITLE = ANWAHL KUEHLMITTEL (EIN M8)U   DB20.DBX 193.0; // M8 DYN.U   DB20.DBX 324.0; // Programm läuftS   M 107.3;        // KUEHLMITTEL PROGRAMMIERT=   DB20.DBX 257.0; // M8 RUECKMELDENNETWORKTITLE = ABWAHL KUEHLMITTEL (AUS M9)O   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUFO   DB1.DBX 1440.0  // RESET AUSGELÖSTO   DB1.DBX 1370.3; // RESETTASTE GEDRUECKTON  M 110.0;        // AUX-ONO   DB20.DBX 192.2; // M2 DYN.O   DB20.DBX 195.6; // M30 DYN.O   DB20.DBX 193.1; // M9 DYN.=   DB20.DBX 257.1; // M9 RUECKMELDENR   M 107.3;        // KUEHLMITTEL PROGRAMMIERTNETWORKTITLE = KUEHLMITTEL EIN AutomatikbetriebU   M 107.3;        // KUEHLMITTEL PROGRAMMIERTUN  DB20.DBX 324.1; // PROGRAMM ANGEHALTENUN  DB20.DBX 324.2; // DRYRUN AKTIV=   M 107.1;        // KUEHLMITTEL EIN AutomatikbetriebNETWORKTITLE = KUEHLMITTEL LEISTUNGO   M 107.1;        // KUEHLMITTEL EIN AutomatikbetriebO   M 117.1;        // KUEHLMITTEL EIN HandbetriebU   M 110.0;        // AUX-ONU   M 117.0         // Kühlmittelfreigabe von KühlmittelschalterU   E 9.4           // MOTORSCHUTZ KUEHLMITTELPUMPE=   A 9.5           // KUEHLMITTEL LEISTUNGNETWORKTITLE = LED KühlmittelschalterU   M 107.3;        // KUEHLMITTEL PROGRAMMIERTU   DB20.DBX 828.1  // Kühlmittelschalter SpindelbetriebU   T 47            // BlinkfrequenzO   A 9.5           // KUEHLMITTEL LEISTUNG=   DB20.DBX 848.0  // LED KühlmittelschalterNETWORKTITLE = SPS/OB-->KUEHLMITTEL eingeschaltet und spritztU   A 9.5;          // AUSGANGSMERKER KUEHLMITTEL LEISTUNG=   DB20.DBX 310.6; // SPS/RM-->KUEHLMITTEL SPRITZT=   DB20.DBX 310.5; // SPS/OB-->KUEHLMITTEL EINNETWORKTITLE = ALARM 7065 MOTORSCHUTZ KUEHLMITTELUN  E 9.4           // MOTORSCHUTZ KUEHLMITTELPUMPES   M 40.0;         // HM MELDUNG 7065 MOTORSCHUTZ KUEHLMITTELPUMPEU   E 9.4           // MOTORSCHUTZ KUEHLMITTELPUMPER   M 40.0;         // HM MELDUNG 7065 MOTORSCHUTZ KUEHLMITTELPUMPEEND_FUNCTIONFUNCTION FC 21 : VOIDNAME: WERKZEUGWECHSELBESTAETIGUNG MANUELLBEGIN//  DB20.DBX 827.7  // Werkzeugwechselbestätigungs Taster//  DB20.DBX 847.7  // LED im Werkzeugwechselbestätigungs Taster//  E 4.6           // Endschalter Werkzeugwechsel Vertikal//  E 4.7           // Endschalter Werkzeugwechsel HorizontalO   E 4.6           // Endschalter Werkzeugwechsel VertikalO   E 4.7           // Endschalter Werkzeugwechsel HorizontalS   M 23.0          // Werkzeugwechsel aktivU   DB20.DBX 827.7  // Werkzeugwechselbestätigungs TasterUN  E 4.6           // Endschalter Werkzeugwechsel VertikalUN  E 4.7           // Endschalter Werkzeugwechsel HorizontalR   M 23.0          // Werkzeugwechsel aktivU   M 23.0          // Werkzeugwechsel aktivU   T 47            // BlinkfrequenzO   E 4.6           // Endschalter Werkzeugwechsel VertikalO   E 4.7           // Endschalter Werkzeugwechsel HorizontalU   M 110.0;        // AUX-ON=   DB20.DBX 847.7  // LED im Werkzeugwechselbestätigungs TasterNETWORKTITLE = Meldungen 7071, 7072 Werkzeugwechsel aktivO   E 4.6           // Endschalter Werkzeugwechsel Vertikal betätigt=   M 19.6          // 7071 Werkzeugwechsel VertikalO   E 4.7           // Endschalter Werkzeugwechsel Horizontal betätigt=   M 19.7          // 7072 Werkzeugwechsel HorizontalNETWORKTITLE = MELDUNG 7066 WERKZEUG BESTAETIGENUN  E 4.6           // Endschalter Werkzeugwechsel VertikalUN  E 4.7           // Endschalter Werkzeugwechsel HorizontalU   M 23.0          // Werkzeugwechsel aktiv=   M 42.3;         // HM MELDUNG 7066 WERKZEUG BESTAETIGENEND_FUNCTIONFUNCTION FC  4 : VOIDNAME: Achsmodul Imp.und ReglerfreigabeBEGIN;// Für Standart und Streckensteuerung:;//  -A115 XYZ-ACHSE;//;//  X3:5  Led H2   E 0.4  // ACHSE SERVO-READY;//  X3:11 Led H1   A 0.4  // ACHSE Reglerfreigabe;//  X3:12 Led H3   A 11.7 // Parkende Achse;//  X3:13 Led H4   A 12.0 //;;//    M 131.0;        // NE Modul BETRIEBSBEREIT;;//    E 5.5     // n=0 von Achsbaugruppe;//    A 10.1    // Impulsfreigabe Achsbaugruppe;//    E 4.4     // Überwachung AS-Impulsfreigaberelais Achsen;;//    A 4.1     // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000;//    E 4.2     // Ueberwachung von K4 und K5 auf Sicherheitsmodul Y4A135000;;//    DB20.DBX 4.4    // Umschalten Achsen;//    DB20.DBW 884    // Absolute Achse, auf die der Stelle umgeschaltet werden muss.;// Für Bahnsteuerung://  -A111 X-ACHSE//  X3:5  Led H2   E 0.0  // X-ACHSE SERVO-READY//  X3:11 Led H1   A 0.0  // X-ACHSE Reglerfreigabe//  X3:12 Led H3   A 11.0 // Parkende X-Achse//  X3:13 Led H4   A 11.1 ////  -A112 Y-ACHSE//  X3:5  Led H2   E 0.1  // Y-ACHSE SERVO-READY//  X3:11 Led H1   A 0.1  // Y-ACHSE Reglerfreigabe//  X3:12 Led H3   A 12.1 // Parkende X-Achse//  X3:13 Led H4   A 11.2 ////  -A113 Z-ACHSE//  X3:5  Led H2   E 0.2  // Z-ACHSE SERVO-READY//  X3:11 Led H1   A 0.2  // Z-ACHSE Reglerfreigabe//  X3:12 Led H3   A 11.3 // Parkende Z-Achse//  X3:13 Led H4   A 11.4 ////    E 9.7  // Zustimmkontakt von Achs- und Spindeltastern//    DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)//    A 4.1  // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000//    E 4.2  // Ueberwachung von K4 und K5 auf Sicherheitsmodul Y4A135000//    A 10.1 // Impulsfreigabe AchsbaugruppeNETWORKTITLE = Deaktivierung der stehenden Achsen  8(((((((( testen im Einrichtbetrieb!!!!;       U   M 12.1          // TÜR offen;       UN  M 113.0         // Einrichtbetrieb AKTIVON  M 2.0           // SUMME aller NOT-AUS MöglichkeitenO   DB2.DBX 2.3;    // A 6019 NE Modul nicht betriebsbereitO   DB2.DBX 9.3;    // Alarm 6075 Achsendschalter ausgelöstO   DB2.DBX 1.5;    // 6013 HAUPTANTRIEB NICHT BEREITO   M 111.1;        // HM ANTRIEB XYZ-ACHSEN NICHT BEREIT=   M 26.0          // HM Deaktivierung der stehenden AchsenO   M 26.0          // HM Deaktivierung der stehenden AchsenON  E 6.1           // Handrad X-Achse ausgekuppelt (1-Signal)=   DB1.DBX 1734.0  // Deaktivierung absolute Achse XO   M 26.0          // HM Deaktivierung der stehenden AchsenON  E 6.2           // Handrad Y-Achse ausgekuppelt=   DB1.DBX 1734.1  // Deaktivierung absolute Achse YO   M 26.0          // HM Deaktivierung der stehenden AchsenON  E 6.3           // Handrad Z-Achse ausgekuppelt=   DB1.DBX 1734.2  // Deaktivierung absolute Achse ZNETWORKTITLE = Achsreglerfreigaben bei TÜR ZU oder Sonderbetrieb einschaltenO   M 113.0;        // SONDERBETRIEB AKTIVO   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1U   M 110.0;        // AUX-ONU   T 83;           // 200mS EINSCHALTVERZ.Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000UN  M 110.2         // HM AUX OFF schaltenS   A 0.0           // X-ACHSE ReglerfreigabeS   A 0.1           // Y-ACHSE ReglerfreigabeS   A 0.2           // Z-ACHSE ReglerfreigabeNETWORKTITLE = Achsreglerfreigaben ausschaltenO   M 110.2         // HM AUX OFF schaltenO(U   M 12.1          // TÜR offenU   M 12.7;         // FREIGABE ZUM TÜRENTRIEGELNUN  M 113.0;        // SONDERBETRIEB AKTIVUN  DB10.DBX 75.0;  // SPS-MSD /TÜRAUTOMATIK)O   M 113.1;        // Anwahl Sonderbetrieb beendenUN  M 131.7;        // ACHSEN IN BEWEGUNGON  M 2.0           // SUMME aller NOT-AUS MöglichkeitenR   A 0.0           // X-ACHSE ReglerfreigabeR   A 0.1           // Y-ACHSE ReglerfreigabeR   A 0.2           // Z-ACHSE ReglerfreigabeON  E 6.1           // Handrad X-Achse ausgekuppelt (1-Signal)R   A 0.0           // X-ACHSE ReglerfreigabeON  E 6.2           // Handrad Y-Achse ausgekuppeltR   A 0.1           // Y-ACHSE ReglerfreigabeON  E 6.3           // Handrad Z-Achse ausgekuppeltR   A 0.2           // Z-ACHSE ReglerfreigabeNETWORKTITLE = Impulsfreigabe AchsbaugruppeO   A 4.0           // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4B135000O   M 113.0         // Einrichtbetrieb AKTIVU   A 4.1           // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000O   M 145.7;        // HM REGLERFREIGABE FUER HAUPTANTRIEB=   A 10.1          // Impulsfreigabe AchsbaugruppeNETWORKTITLE = Servo-Ready FilterU   E 0.0;          // X-ACHSE SERVO-READYL   S5T#200MS       // 200 msSA  T 4O   E 0.0           // X-ACHSE SERVO-READYO   T 4=   M 36.0          // X-ACHSE SERVO-READY gefiltertU   E 0.1;          // Y-ACHSE SERVO-READYL   S5T#200MS       // 200 msSA  T 5O   E 0.1           // Y-ACHSE SERVO-READYO   T 5=   M 36.1          // Y-ACHSE SERVO-READY gefiltertU   E 0.2;          // Z-ACHSE SERVO-READYL   S5T#200MS       // 200 msSA  T 6O   E 0.2           // Z-ACHSE SERVO-READYO   T 6=   M 36.2          // Z-ACHSE SERVO-READY gefiltertNETWORKTITLE = ACHSEN BETRIEBSBEREITU   M 36.0          // X-ACHSE SERVO-READY gefiltertU   M 36.1          // Y-ACHSE SERVO-READY gefiltertU   M 36.2          // Z-ACHSE SERVO-READY gefiltert=   M 111.0;        // ACHSEN BETRIEBSBEREITNETWORKTITLE = Reglerfreigabe ACHSEN BETRIEBSBEREIT;       U   M 36.0          // X-ACHSE SERVO-READY gefiltert;       =   DB1.DBX 1460.0  // REGLERFREIGABE ABSOLUTE ACHSE 0;       U   M 36.1          // Y-ACHSE SERVO-READY gefiltert;       =   DB1.DBX 1460.1  // REGLERFREIGABE ABSOLUTE ACHSE 1;       U   M 36.2          // Z-ACHSE SERVO-READY gefiltert;       =   DB1.DBX 1460.2  // REGLERFREIGABE ABSOLUTE ACHSE 2NETWORKTITLE = ACHSEN BETRIEBSBEREIT  AFG/EFGUN  M 111.0;        // ACHSEN BETRIEBSBEREIT=   M 90.1;         // ACHSEN BETRIEBSBEREITNETWORKTITLE = 6010  ANTRIEB X-ACHSE N. BEREITU   A 0.0           // X-ACHSE ReglerfreigabeU   A 4.1           // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000U   A 10.1          // Impulsfreigabe AchsbaugruppeL   S5T#3S;         // 3 SEKUNDENSE  T 30;           // STARTEN T 30 ALS EINSCHALTVERZ.U   T 30;           // ACHSÜBERWACHUNG SCHARFUN  M 36.0          // X-ACHSE SERVO-READY gefiltertS   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREIT;       U   T 30;           // ACHSÜBERWACHUNG SCHARF;       UN  E 0.0;          // X-ACHSE SERVO-READY;       L   S5T#1S;         // 1 Sekunde;       SE  T 31;           // STARTEN T 31 ALS EINSCHALTVERZ.;;       U   T 31;;       S   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREITO   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREITNETWORKTITLE = 6076  ANTRIEB Y-ACHSE N. BEREITU   A 0.1           // Y-ACHSE ReglerfreigabeU   A 4.1           // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000U   A 10.1          // Impulsfreigabe AchsbaugruppeL   S5T#3S;         // 3 SEKUNDENSE  T 32;           // STARTEN T 32 ALS EINSCHALTVERZ.U   T 32;           // ACHSÜBERWACHUNG SCHARFUN  M 36.1          // Y-ACHSE SERVO-READY gefiltertS   DB2.DBX 9.4;    // 6076  ANTRIEB Y-ACHSE N. BEREIT;       U   T 32;           // ACHSÜBERWACHUNG SCHARF;       UN  E 0.1;          // X-ACHSE SERVO-READY;       L   S5T#1S;         // 1 Sekunde;       SE  T 33;           // STARTEN T 33 ALS EINSCHALTVERZ.;;       U   T 33;;       S   DB2.DBX 9.4;    // 6076  ANTRIEB Y-ACHSE N. BEREITO   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 9.4;    // 6076  ANTRIEB Y-ACHSE N. BEREITNETWORKTITLE = 6012  ANTRIEB Z-ACHSE N. BEREITU   A 0.2           // Z-ACHSE ReglerfreigabeU   A 4.1           // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000U   A 10.1          // Impulsfreigabe AchsbaugruppeL   S5T#3S;         // 3 SEKUNDENSE  T 34;           // STARTEN T 34 ALS EINSCHALTVERZ.U   T 34;           // ACHSÜBERWACHUNG SCHARFUN  M 36.2          // Z-ACHSE SERVO-READY gefiltertS   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREIT;       U   T 34;           // ACHSÜBERWACHUNG SCHARF;       UN  E 0.2;          // Z-ACHSE SERVO-READY;       L   S5T#1S;         // 1 Sekunde;       SE  T 35;           // STARTEN T 35 ALS EINSCHALTVERZ.;;       U   T 35;;       S   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREITO   DB1.DBX 1370.2; // QUITTIERT. GEDRÜCKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREITNETWORKTITLE = HM ANTRIEB ACHSEN NICHT BEREITO   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREITO   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREITO   DB2.DBX 9.4;    // 6076  ANTRIEB Y-ACHSE N. BEREIT=   M 111.1;        // HM ANTRIEB XYZ-ACHSEN NICHT BEREITNETWORKTITLE = Achsendschalter nicht betätigtU   E 16.0          // Referenzschalter X  (Endschalter Achse)U   E 16.1          // Referenzschalter Y  (Endschalter Achse)U   E 16.2          // Referenzschalter Z  (Endschalter Achse)=   M 16.7          // Achsendschalter nicht betätigtUN  M 16.7          // Achsendschalter nicht betätigtUN  DB20.DBX 327.2; // BETRIEBSART REFERENZ=   M 90.2;         // Achsendschalter betätigt AFG/EFGNETWORKTITLE = Alarm 6075 Achsendschalter ausgelöstON  E 16.0          // Referenzschalter X  (Endschalter Achse)ON  E 16.1          // Referenzschalter Y  (Endschalter Achse)ON  E 16.2          // Referenzschalter Z  (Endschalter Achse)UN  DB20.DBX 327.2; // BETRIEBSART REFERENZU   M 110.0;        // AUX-ONS   DB2.DBX 9.3;    // Alarm 6075 Achsendschalter ausgelöstO   DB1.DBX 1370.2; // QUITTIERT. GEDRUECKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 9.3;    // Alarm 6075 Achsendschalter ausgelöstNETWORKTITLE = Meldungen Achsendschalter freifahrenUN  E 16.0          // Referenzschalter X  (Endschalter Achse)UN  DB20.DBX 327.2; // BETRIEBSART REFERENZ=   M 54.5;         // HM MELDUNG 7061 ENDSCHALTER X-ACHSE FREIFAHRENUN  E 16.1          // Referenzschalter Y  (Endschalter Achse)UN  DB20.DBX 327.2; // BETRIEBSART REFERENZ=   M 19.4          // HM MELDUNG 7073 ENDSCHALTER Y-ACHSE FREIFAHRENUN  E 16.2          // Referenzschalter Z  (Endschalter Achse)UN  DB20.DBX 327.2; // BETRIEBSART REFERENZ=   M 56.5;         // HM MELDUNG 7062 ENDSCHALTER Z-ACHSE FREIFAHRENNETWORKTITLE = Haltebremse X- Y- Z-Achse öffnenO   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUFON  DB2.DBX 9.3;    // Alarm 6075 Achsendschalter ausgelöstON  DB2.DBX 8.7;    // Alarm 6071ON  DB2.DBX 0.0;    // Alarm 6000 NOT-AUSS   A 10.2          // Haltebremse X-AchseS   A 10.3          // Haltebremse Y-AchseS   A 10.4          // Haltebremse Z-AchseO   DB2.DBX 9.3;    // Alarm 6075 Achsendschalter ausgelöstO   DB2.DBX 8.7;    // Alarm 6071O   DB2.DBX 0.0;    // Alarm 6000 NOT-AUSR   A 10.2          // Haltebremse X-AchseR   A 10.3          // Haltebremse Y-AchseR   A 10.4          // Haltebremse Z-AchseEND_FUNCTIONFUNCTION FC 27 : VOIDNAME: Achsanvorderung von OberflächeBEGINL   MB 25L   0<>I                 // VERGLEICH AUF UNGLEICH=   M 23.4          // Achsen von Oberfläche angefordertU   DB20.DBX 4.4    // Umschalten AchsenU   DB20.DBX 1.3    // INC-AnforderungS   M 23.1          // HM INC-Anforderung weiterleitenFP  M 23.5          // FM INC-Anforderung weiterleitenU   DB20.DBX 4.4    // Umschalten AchsenU   M 12.2          // TÜR zu und Schalter auf AutomatikU   M 110.0         // AUX ONU   DB20.DBX 324.4  // REFERENZPUNKT AKTIVU   M 14.2          // Freigabe AchseinschaltungSPBN M01L   DB20.DBB 884    // 1=X 2=Y 4=Z Absolute Achse für StellerumschaltungL   MB 25==I=   DB20.DBX 4.4    // Umschalten AchsenSPB M01L   MB 25L   0<>I                 // VERGLEICH AUF UNGLEICHS   M 23.3          // Achse wechselnL   0T   MB 25L   DB20.DBW 884    // 1=X 2=Y 4=Z Absolute Achse für StellerumschaltungL 1==IS   M 25.0          // X-Achse angewähltSPB M01L   DB20.DBW 884    // 1=X 2=Y 4=Z Absolute Achse für StellerumschaltungL 2==IS   M 25.1          // Y-Achse angewähltSPB M01L   DB20.DBW 884    // 1=X 2=Y 4=Z Absolute Achse für StellerumschaltungL 4==IS   M 25.2          // Z-Achse angewähltSPB M01;8((((((( Reset auslösenM01: NOP 0;U   M 23.5          // FM INC-Anforderung weiterleitenSPBN M02U   DB20.DBX 4.4    // Umschalten Achsen=   DB20.DBX 1.3    // INC-AnforderungM02: NOP 0;END_FUNCTIONFUNCTION FC 11 : VOIDNAME: Neues SicherheitskonzeptBEGINNETWORKTITLE = NOT AUS von USB-Tastatur und USB-SPS// USB-Tastatur://  DB20.DBX 827.0 // NOT AUS Taster USB Bedienpult (1-Signal wenn betätigt)//  DB20.DBX 847.0 // LED NOT AUS Taster USB Bedienpult//  E 4.0          // Überwachung NOT AUS-Relais K1 auf Sicherheitsmodul// USB-SPS://  E 2.5          // Nicht NOT AUS von USBSPS X 2.6//  DB1.DBX 1578.5 // NOT-AUS Relais auf USBSPS eingeschaltet//  DB1.DBX 1565.0 // Externer NOT AUS  (1-Signal wenn betätigt)UN  DB20.DBX 827.0  // NOT AUS Taster USB BedienpultUN  DB1.DBX 1565.0  // Externer NOT AUS  (1-Signal wenn betätigt)UN  E 4.0           // Überwachung NOT AUS-Relais K1 auf SicherheitsmodulU   E 2.5           // Nicht NOT AUS von USBSPS X 2.6 = NOT AUS RelaisU   DB1.DBX 1578.5  // NOT-AUS Relais auf USBSPS eingeschaltet=   M 2.0           // SUMME aller NOT-AUS MöglichkeitenNETWORKTITLE = Warten auf USBSPS//   DB1.DBB 1558 = 255   USB SPS nicht aktiv//   DB1.DBB 1558 = 0     Hexschalter auf USBSPS auf 0 = Ueberwachungsschaltung aktiv//   DB1.DBB 1558 = 14    Hexschalter auf USBSPS auf E = Ueberwachungsschaltung inaktiv//   DB1.DBX 1578.5       NOT-AUS Relais auf USBSPS eingeschaltet//   Ausgaenge nur lesen://   DB1.DBW 1578 Abbild von X2 auf USBSPS Ausgaenge//   DB1.DBW 1580 Abbild von X3 auf USBSPS Ausgaenge//   Ausgaenge setzen://   DB1.DBW 1586 = X2 USBSPS Ausgaenge (X2.7-9 werden nicht von der USBSPS kontolliert)//   DB1.DBW 1588 = X3 USBSPS Ausgaenge (X3.9 wird nicht von der USBSPS kontolliert)// Überprüfen auf gültige USBSPS-HexschaltereinstellungU   M 11.7          // USBSPS auf Ueberwachungsbetrieb eingestelltSPB  M001L   DB1.DBB 1558    // Stellung des HEX-Schalters auf USBSPSL   255==ISPB  M001L   DB1.DBB 1558    // Stellung des HEX-Schalters auf USBSPSL   0               // Stellung 2 MILLC40 Sicherheitsüberwachung aktiv==I;                // VERGLEICH AUF UNGLEICHS   M 11.7          // USBSPS auf Ueberwachungsbetrieb eingestelltSPB  M001L   DB1.DBB 1558    // Stellung des HEX-Schalters auf USBSPSL   14==I;                // VERGLEICH AUF UNGLEICH;       =   M          // USBSPS auf nicht Ueberwachungsbetrieb eingestelltM001:NOP 0;//  Warten auf NOT-AUS Relais USBSPS eingeschaltetU   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUFS   M 11.5          // Warten auf USBSPS nicht NOT-AUSS   M 14.0          // Schmiermittel nur beim Ersten AUX ON einschaltenU   M 11.5          // Warten auf USBSPS nicht NOT-AUSU   DB1.DBX 1578.5  // NOT-AUS Relais auf USBSPS eingeschaltetR   M 11.5          // Warten auf USBSPS nicht NOT-AUSFP  M 11.6          // FM 1.SPS SCHLEIFENDURCHLAUF und NOT-AUS Relais auf USBSPS eingeschaltet// NOT AUS TEST:////        M 2.0 // SUMME aller NOT-AUS Möglichkeiten//        E 4.0 // Überwachung NOT AUS-Relais K1 auf SicherheitsmodulU   M 11.6          // FM 1.SPS SCHLEIFENDURCHLAUF und NOT-AUS Relais auf USBSPS eingeschaltetS   M 11.0          // HM NOT AUS Test ErsteinschaltungS   M 11.4          // HM TÜR auf/zu-Test ErsteinschaltungU   M 11.1          // FM Test NOT-AUS Schalter und RelaisR   M 11.2R   M 11.3R   M 11.5          // Warten auf USBSPS nicht NOT-AUSNETWORKTITLE = Test NOT-AUS Schalter und RelaisU   M 11.6          // FM 1.SPS SCHLEIFENDURCHLAUF und NOT-AUS Relais auf USBSPS eingeschaltetU   M 2.0           // SUMME aller NOT-AUS MöglichkeitenUN  E 4.0           // Ueberwachung NOT AUS-Relais K1 auf SicherheitsmodulS   M 11.2U   M 11.6          // FM 1.SPS SCHLEIFENDURCHLAUF und NOT-AUS Relais auf USBSPS eingeschaltetUN  M 2.0           // SUMME aller NOT-AUS MöglichkeitenU   E 4.0           // Ueberwachung NOT AUS-Relais K1 auf SicherheitsmodulS   M 11.3UN  M 2.0           // SUMME aller NOT-AUS MöglichkeitenU   E 4.0           // Ueberwachung NOT AUS-Relais K1 auf SicherheitsmodulU   M 11.2O(U   M 2.0           // SUMME aller NOT-AUS MöglichkeitenUN  E 4.0           // Ueberwachung NOT AUS-Relais K1 auf SicherheitsmodulU   M 11.3)FP  M 11.1          // FM Test NOT-AUS Schalter und RelaisNETWORKTITLE = 6000 ALARM NOT-AUSUN  M 2.0           // SUMME aller NOT-AUS MöglichkeitenUN  M 11.5          // Warten auf USBSPS nicht NOT-AUSO   M 11.0          // HM NOT AUS Test ErsteinschaltungS   DB2.DBX 0.0;    // 6000  NOT-AUSO   T 47            // BlinkfrequenzON(O   M 11.2O   M 11.3)U   DB2.DBX 0.0;    // 6000  NOT-AUS=   DB20.DBX 847.0  // LED NOT AUS TasterO   DB1.DBX 1370.2; // QUITTIERT. GEDRUECKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTO   M 24.7;         // Positiv FM NOT AUS von USBSPS X2.9UN  M 11.2UN  M 11.3UN  M 11.5          // Warten auf USBSPS nicht NOT-AUSU   M 2.0           // SUMME aller NOT-AUS MöglichkeitenR   DB2.DBX 0.0;    // 6000 ALARM NOT-AUSR   M 11.0          // HM NOT AUS Test ErsteinschaltungNETWORKTITLE = Alarm 6006 Ueberwachung NOT AUS-Relais K1 auf Sicherheitsmodul oder AS Signal nicht abgefallenU   M 2.0           // HM NICHT NOT-AUSU   E 4.0           // Ueberwachung NOT AUS-Relais K1 auf SicherheitsmodulO(UN  M 2.0           // HM NICHT NOT-AUSUN  E 4.0           // Ueberwachung NOT AUS-Relais K1 auf Sicherheitsmodul)U   E 4.5           // HA Drehzahl=0 von RelaisL   S5T#1000MS;      // 1000MSSE  T 80;           // STARTEN  ALS EINSCHALTVERZ.U   T 80;           // STARTEN  ALS EINSCHALTVERZ.S   DB2.DBX 0.6;    // A 6006  NOT AUS-Relais K1 auf Sicherheitsmodul nicht AbgefallenO   DB1.DBX 1370.2; // QUITTIERT. GEDRUECKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 0.6;    // A 6006  NOT AUS-Relais K1 auf Sicherheitsmodul oder AS Signal nicht Abgefallen// TÜR auf/zu TEST://  Türsicherheitsschalter://  X6:1     E 2.0 // TÜR geschlossen von Türsicherheitsverriegelung UEK//  X6:2     E 2.1 // TÜR verriegelt von Verriegelungsmagnet SK//  X421:6   A 9.2 // Verriegelunsmagnet Maschinentür entriegeln//  Sicherheitsmodul://           A 4.1  // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000//           A 4.0  // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4B135000//           E 4.1  // Ueberwachung von K2 und K3 auf Sicherheitsmodul Y4A135000//           E 4.2  // Ueberwachung von K4 und K5 auf Sicherheitsmodul Y4A135000//  M 12.0    // TÜR zu und Verriegelt//  M 12.1    // TÜR offen//  M 50.3   // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTETU   E 2.0;          // TÜR geschlossen von Türsicherheitsverriegelung UEK=   M 12.0          // TÜR zu und VerriegeltUN  M 12.0          // TÜR zu und Verriegelt=   M 12.1          // TÜR offenU   M 12.0          // TÜR zu und VerriegeltU   DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)=   M 12.2          // TÜR zu und Schalter auf AutomatikU   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUFU   M 12.1          // TÜR offenS   M 12.4          // HM TÜR offenU   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUFU   M 12.0          // TÜR zu und VerriegeltS   M 12.5          // HM TÜR zu und VerriegeltU   M 12.4          // HM TÜR offenU   M 12.0          // TÜR zu und VerriegeltO(U   M 12.5          // HM TÜR zu und VerriegeltU   M 12.1          // TÜR offen)UN  M 11.0          // HM NOT AUS Test ErsteinschaltungFP  M 12.3          // FM TÜR auf/zuNETWORKTITLE = FREIGABE ZUM TÜRENTRIEGELNU(O   M 114.3;        // ISTDREHZAHL KLEINER 20U/MINON  M 145.7         // HM REGLERFREIGABE FUER HAUPTANTRIEB)U(ON  DB20.DBX 324.0; // PROGRAMM LÄUFT: RUECKSETZEN MIT PROGRAMM ENDE BZW. RESET.O   DB20.DBX 324.1; // STOP-ZUSTAND)UN  M 131.7;        // ACHSEN IN BEWEGUNG=   M 12.7;         // FREIGABE ZUM TÜRENTRIEGELNNETWORKTITLE = Verriegelungsmagnet Maschinentür entriegelnO   M 12.1          // TÜR offenO   M 12.7;         // FREIGABE ZUM TÜRENTRIEGELN=   A 9.2;          // Verriegelunsmagnet Maschinentür entriegelnNETWORKTITLE = Verriegelungsmagnet nicht verriegeltUN  A 9.2;          // Verriegelunsmagnet MaschinenTuer entriegelnUN  E 2.1;          // Tuer verriegelt von Verriegelungsmagnet SKL   S5T#1S;         // 1SSE  T 1U   T 1S   DB2.DBX 3.0;    // 6024  ALARM MASCHINENTuer OFFENO   DB1.DBX 1370.2; // QUITTIERT. GEDRUECKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 3.0;    // 6024  ALARM MASCHINENTuer OFFENNETWORKTITLE = MELDUNG 7042  MASCHINENTÜR INIT.O   M 11.4          // HM TÜR auf/zu-Test ErsteinschaltungUN  M 11.0          // HM NOT AUS Test ErsteinschaltungS   M 21.2;         // HM MELDUNG 7042  MASCHINENTÜR INIT.U   M 12.3          // FM TÜR auf/zuR   M 21.2;         // HM 7042  MASCHINENTÜR INIT.R   M 11.4          // HM TÜR auf/zu-Test ErsteinschaltungR   M 12.4          // HM TÜR offenR   M 12.5          // HM TÜR zu und VerriegeltNETWORKTITLE = MELDUNG 7040  MASCHINENTÜR OFFENO   M 12.1          // TÜR offen=   M 21.0;         // HM MELDUNG 7040  MASCHINENTÜR OFFEN=   M 110.1;        // MASCHINENTÜR OFFENNETWORKTITLE = ALARM 6005  K2 oder K3 auf Sicherheitsmodul nicht AbgefallenU   M 12.1          // TÜR offenUN  E 4.1           // Ueberwachung von K2 und K3 auf Sicherheitsmodul Y4A135000UN  A 4.0           // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4B135000L   S5T#500MS;      // 200MSSE  T 81;           // STARTEN  ALS EINSCHALTVERZ.U   T 81;           // STARTEN  ALS EINSCHALTVERZ.S   DB2.DBX 0.5;    // 6005  K2 oder K3 auf Sicherheitsmodul nicht AbgefallenO   DB1.DBX 1370.2; // QUITTIERT. GEDRUECKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 0.5;    // 6005  K2 oder K3 auf Sicherheitsmodul nicht AbgefallenNETWORKTITLE = Türfreigaberelais K3 auf Sicherheitsmodul einschaltenU   M 12.0;         // TÜR zu und VerriegeltUN  E 4.1           // Ueberwachung von K2 und K3 auf Sicherheitsmodul Y4A135000U   M 2.0           // SUMME aller NOT-AUS MöglichkeitenU   A 9.0           // Antriebsfreigabe auf NE Modul X121.64U   M 110.0;        // AUX-ONU   M 131.0;        // NE Modul BETRIEBSBEREITS   A 4.0           // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4B135000S   M 50.0;         // TÜR ZU VON SICHERHEITSMODUL Y4B135000S   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTETON  M 2.0           // SUMME aller NOT-AUS MöglichkeitenO   M 12.1          // Tür offenU   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MINR   A 4.0           // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4B135000R   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1R   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTETON  M 110.0;        // AUX-ONR   A 4.0           // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4B135000ON  M 2.0           // SUMME aller NOT-AUS MöglichkeitenON  E 2.0;          // TÜR geschlossen von Türsicherheitsverriegelung UEKR   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1R   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET; Freigaben Antriebe ein://          E 4.2  // Ueberwachung von K4 und K5 auf Sicherheitsmodul Y4A135000//          A 4.1  // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000NETWORKTITLE = ALARM 6018 K4 und K5 auf Sicherheitsmodul Y4A135000 abgefallenU   M 12.1          // TÜR offenUN  A 4.1           // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000UN  A 4.0           // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4B135000UN  M 113.0         // Einrichtbetrieb AKTIVL   S5T#2000MS;     // 2000MSSE  T 82;           // STARTEN  ALS EINSCHALTVERZ.UN  E 4.2           // Ueberwachung von K4 und K5 auf Sicherheitsmodul Y4A135000L   S5T#500MS;      // 500MSSE  T 84;           // STARTEN  ALS EINSCHALTVERZ.U   T 82;                 // STARTEN  ALS EINSCHALTVERZ.U   T 84;                 // STARTEN  ALS EINSCHALTVERZ.S   DB2.DBX 2.2;    // 6018   K4 oder K5 auf Sicherheitsmodul nicht AbgefallenO   DB1.DBX 1370.2; // QUITTIERT. GEDRUECKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 2.2;    // 6018   K4 oder K5 auf Sicherheitsmodul nicht AbgefallenNETWORKTITLE = Antriebsfreigaberelais K5 einschalten auf Sicherheitsmodul Y4A135000UN  M 11.0          // HM NOT AUS Test ErsteinschaltungUN  M 11.4          // HM TÜR auf/zu-Test ErsteinschaltungUN  DB2.DBX 2.2;    // 6018   K4 oder K5 auf Sicherheitsmodul nicht AbgefallenU   M 12.0          // TÜR zu und VerriegeltU   A 4.0           // Türfreigaberelais K3 ein auf Sicherheitsmodul Y4B135000O   M 113.0         // Einrichtbetrieb AKTIVUN  E 4.2           // Ueberwachung von K4 und K5 auf Sicherheitsmodul Y4A135000U   M 131.0;        // NE Modul BETRIEBSBEREITS   A 4.1           // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000U   M 110.1;        // MASCHINENTÜR OFFENUN  M 113.0         // Einrichtbetrieb AKTIVON  M 131.0;        // NE Modul BETRIEBSBEREITUN  M 131.7;        // ACHSEN IN BEWEGUNGU   M 114.3;        // ISTDREHZAHL KLEINER 20U/MINR   A 4.1           // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000U   A 4.1           // Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4B135000L   S5T#200MS;      // 200MSSE  T 83;           // 200mS EINSCHALTVERZ.Antriebsfreigaberelais K5 ein auf Sicherheitsmodul Y4A135000END_FUNCTIONFUNCTION FC  2 : VOIDNAME: CYCLISCHE ÜBERWACHUNG PICBEGIN//   A 10.0 // Alive Impuls zum PIC-Controller//   E 2.4  // Alive Eingang von PIC-Controller//   E 2.5  // Nicht NOT AUS von USBSPS X2.9NETWORK 2TITLE =  Impuls für PICU   M 11.7          // USBSPS auf Ueberwachungsbetrieb eingestelltFP  M 10.3          // FM USBSPS auf Ueberwachungsbetrieb eingestelltU   E 2.4;          // Alive Eingang von PIC-ControllerFN  M 24.0;         // Negativ FM Alive Eingang E4.7 von PIC-ControllerU   E 2.4;          // Alive Eingang von PIC-ControllerFP  M 24.1;         // Positiv FM Alive Eingang E4.7 von PIC-ControllerU   E 2.5           // Nicht NOT AUS von USBSPS X2.9FN  M 24.6          // Nicht NOT AUS von USBSPS X2.9U   E 2.5           // Nicht NOT AUS von USBSPS X2.9FP  M 24.7;         // Positiv FM NOT AUS von USBSPS X2.9O   M 24.7;         // Positiv FM NOT AUS von USBSPS X2.9O   M 24.0;         // Negativ FM Alive Eingang E4.7 von PIC-ControllerO   M 10.3          // FM USBSPS auf Ueberwachungsbetrieb eingestelltL   S5TIME#500MSSV  T 2;            // IMPULS (VERLÄNGERT)U   T 2;=   A 10.0          // Alive Impuls zum PIC-ControllerU   A 10.0          // Alive Impuls zum PIC-ControllerFN  M 24.2;         // Negativ FM Alive Impuls A10.5 zum PIC-ControllerU   A 10.0          // Alive Impuls zum PIC-ControllerFP  M 24.3;         // Positiv FM Alive Impuls A10.5 zum PIC-ControllerNETWORK 3TITLE =  Zeitüberwachung PIC// Überwachungszeit Resetieren:O   M 24.3;         // Positiv FM Alive Impuls A10.5 zum PIC-ControllerO   M 24.6;         // Negativ FM NOT AUS von USBSPS X2.9ON  E 2.5           // Nicht NOT AUS von USBSPS X2.9R   T 3;// Überwachungszeit Starten:O   M 24.2;         // Negativ FM Alive Impuls A10.5 zum PIC-ControllerO   M 24.1;         // Positiv FM Alive Eingang E4.7 von PIC-ControllerU   E 2.5           // Nicht NOT AUS von USBSPS X2.9L   S5TIME#1S500MS  // Überwachungszeit 1,5S für PICSS  T 3;            // Einschaltverzögerung (SPEICHERND)NETWORK 4TITLE =  Alarm 6074 Keine Rückmeldung von USB-SPSU   A 10.0          // Alive Impuls zum PIC-ControllerS   M 24.4          // 8((( AUX ON PIC OKU   T 3;R   M 24.4          // 8((( AUX ON PIC OKU   M 24.4          // 8((( AUX ON PIC OKFN  M 24.5          // Meldung Time-Out PICU   M 24.5          // Meldung Time-Out PICS   DB2.DBX 9.2;    // Alarm 6074 Keine Rückmeldung von USB-SPSEND_FUNCTIONFUNCTION FC 23: VOIDNAME: LAMPENIMPULSBEGINNETWORKTITLE = BLINKLICHT IMPULSDAUERU   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUFSPBN   M001L   DB10.DBW 20;    // LADE ZEIT AUS SPS-MSDITB;                // UMWANDELN EINER GANZZAHL IN EINEN BCD-WERTT   MW 30;          // TRANSFERIERE IN MW30SET;R   M 31.4;         // ZEITRASTER 0,01S EINSTELLENR   M 31.5;         // ZEITRASTER 0,01S EINSTELLENM001:  NOP 0UN  T 48;           // PAUSENDAUERL   MW 30;          // LADE MW30SV  T 47            // BlinkfrequenzNETWORKTITLE = BLINKLICHT PAUSENDAUERU   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUFSPBN   M002L   DB10.DBW 22;    // LADE ZEIT AUS SPS-MSDITB;                // UMWANDELN EINER GANZZAHL IN EINEN BCD-WERTT   MW 32;          // TRANSFERIERE IN MW32 (ZEITRASTER IST  0,01S)SET;R   M 33.4;         // ZEITRASTER 0,01S EINSTELLENR   M 33.5;         // ZEITRASTER 0,01S EINSTELLENM002:  NOP 0UN  T 47            // BlinkfrequenzL   MW 32;          // LADE MW30SV  T 48;           // STARTEN ALS VERLÄNGERTER IMPULSEND_FUNCTIONFUNCTION FC  7 : VOIDNAME: AUX_ONBEGINNETWORKTITLE = FM TASTE AUX-ON (TASTE MASCHINE START)U   DB20.DBX 826.0  // AUX ON TasteUN  M 109.0UN  M 109.2UN  M 110.0;        // AUX-ONUN  M 110.2         // HM AUX OFF schaltenUN  M 91.1          // SUM ALARME  AFG/EFGUN  M 11.0          // HM NOT AUS Test ErsteinschaltungUN  M 11.4          // HM TÜR auf/zu-Test ErsteinschaltungUN  DB2.DBX 0.0;    // 6000  NOT-AUSU   M 16.7          // Achsendschalter nicht betätigtS   M 109.0S   M 109.1U   M 109.0FP  M 110.5;        // FM TASTE AUX-ONNETWORKTITLE = FM TASTE AUX-OFF (TASTE MASCHINE START)U   DB20.DBX 826.0  // AUX ON TasteUN  M 109.1U   M 109.0UN  DB2.DBX 0.0;    // 6000  NOT-AUSUN  DB20.DBX 324.0; // PROGRAMM LÄUFTU   M 114.3;        // ISTDREHZAHL KLEINER 20U/MINUN  M 131.7;        // ACHSEN IN BEWEGUNGR   M 109.0S   M 109.2UN  DB20.DBX 826.0  // AUX ON TasteR   M 109.1R   M 109.2U   M 109.0FN  M 110.7         // FM TASTE AUX-OFFNETWORKTITLE = ANWAHL AUX-ONU   M 110.5;        // FM TASTE AUX-ONS   M 110.0;        // AUX-ONNETWORKTITLE = FM AUX-ONU   M 110.0;        // AUX-ONFP  M 110.3;        // FM AUX-ONNETWORKTITLE = ABWAHL AUX-ON;       O   DB1.DBX 1370.1; // FATALER FEHLER AUFGETRETEN;       O   DB2.DBX 0.6;    // 6006  NOT AUS-Relais K1 auf Sicherheitsmodul nicht Abgefallen;       O   DB2.DBX 1.1;    // 6009  AUSGABEMODUL NICHT DURCHGESCHALTET;       O   DB2.DBX 3.0;    // 6024  ALARM MASCHINENTÜR OFFEN;       O   DB2.DBX 5.4;    // 6044  BREMSWIDERSTAND UEBERLASTET;       O   DB2.DBX 6.7;    // 6055  KEIN TEIL GESPANNT;       O   DB2.DBX 7.0;    // 6056  PINOLE NICHT BEREIT;       O   DB2.DBX 7.4;    // 6060  C-ACHSE VERRIEGELUNGSUEBERWACHUNG;       O   DB2.DBX 8.1;    // 6065  STÖRUNG LADEMAGAZIN;       O   DB2.DBX 8.3;    // 6067  KEINE DRUCKLUFTO   M 110.7         // FM TASTE AUX-OFFON  M 2.0           // SUMME aller NOT-AUS MöglichkeitenO   DB2.DBX 0.0;    // 6000  NOT-AUSO   DB2.DBX 0.7;    // 6007 VERSORGUNGSSCHUETZE NICHT ABGEFALLENO   DB2.DBX 1.2;    // 6010  ANTRIEB X-ACHSE N. BEREITO   DB2.DBX 1.4;    // 6012  ANTRIEB Z-ACHSE N. BEREITO   DB2.DBX 1.5;    // 6013 HAUPTANTRIEB NICHT BEREITO   DB2.DBX 1.6;    // 6014  KEINE HAUPTSPINDELDREHZAHLO   DB2.DBX 2.3;    // 6019 NE Modul nicht betriebsbereitO   DB2.DBX 9.2;    // 6074 Keine Rückmeldung von USB-SPSO   DB2.DBX 9.3;    // Alarm 6075 Achsendschalter ausgelöstO   DB2.DBX 9.4;    // 6076  ANTRIEB Y-ACHSE N. BEREITS   M 110.2         // HM AUX OFF schaltenUN  E 0.0;          // X-ACHSE SERVO-READYUN  E 0.1;          // Y-ACHSE SERVO-READYUN  E 0.2;          // Z-ACHSE SERVO-READYUN  A 0.0;          // X-ACHSE ReglerfreigabeUN  A 0.1;          // Y-ACHSE ReglerfreigabeUN  A 0.2;          // Z-ACHSE Reglerfreigabe;       U   M 140.3         // C40 BahnsteuerungU   M 110.2         // HM AUX OFF schaltenU   M 114.3;        // ISTDREHZAHL KLEINER 20U/MINR   M 110.0;        // AUX-ONR   M 110.2         // HM AUX OFF schaltenR   M 109.0NETWORKTITLE = AUX-ON  SFGUN  M 110.0;        // AUX-ON=   M 94.0;         // AUX-ON  SFGNETWORKTITLE = AUX-ON   AFG/EFGON  M 110.0;        // AUX-ONON  M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET=   M 90.0;         // AUX-ON   AFG/EFGNETWORKTITLE = MELDUNG 7016  HILFSANTRIEBE EINSCHALTENUN  M 110.0;        // AUX-ON=   M 18.0          // HM MELDUNG 7016  HILFSANTRIEBE EINSCHALTENNETWORKTITLE = SPS/OB-->NOT-AUS AKTIVO   DB2.DBX 0.0;    // 6000  NOT-AUS=   DB1.DBX 1390.5; // SPS/RM-->NOT-AUS AKTIVNETWORKTITLE = SPS/OB-->MASCHINENTÜR GESCHL.U   M 50.0          // TÜR ZU VON TÜRMODUL Y4A043000 X5:4 FG1=   DB1.DBX 1390.1; // SPS/RM-->MASCHINENTÜR GESCHL.NETWORKTITLE = SPS/OB-->AUX-ONU   M 110.0;        // AUX-ON=   DB1.DBX 1390.2; // SPS/RM-->AUX-ONNETWORKTITLE = LAMPE AUX ONU   T 47            // Blinkfrequenz;       UN  M 21.2          // MASCHINENTür INIT.;       UN  M 11.5          // Warten auf USBSPS nicht NOT-AUSUN  M 110.0;        // AUX-ONUN  M 110.2         // HM AUX OFF schaltenUN  M 91.1          // SUM ALARME  AFG/EFGUN  M 11.0          // HM NOT AUS Test ErsteinschaltungUN  M 11.4          // HM TÜR auf/zu-Test ErsteinschaltungUN  DB2.DBX 0.0;    // 6000  NOT-AUSU   M 16.7          // Achsendschalter nicht betätigtO   M 110.0         // AUX ONUN  DB2.DBX 0.0;    // 6000  NOT-AUSU   M 2.0           // SUMME aller NOT-AUS Möglichkeiten=   DB20.DBX 846.0  // LED AUX ON TasteEND_FUNCTIONFUNCTION FC 15: VOIDNAME: MELDUNGENBEGIN;HILFSMERKER ZUORDNUNG:;TITLE = 7000  FALSCHES T-WORT                M 16.0;TITLE = 7016  HILFSANTRIEBE EINSCHALTEN      M 18.0;TITLE = 7017  REFERENZPUNKT ANFAHREN         M 18.1;TITLE = 7018 Schlüsselschalter umschalten    M 18.2;TITLE = 7019  PNEUMATIKÖLER LEER;TITLE = 7021  WERKZEUGWENDER FREIFAHREN      M 18.5;TITLE = 7022  AUFFANGSCHALEUEBERWACHUNG       M 18.6;TITLE = 7023  DRUCKSCHALTER EINSTELLEN       M 18.7;TITLE = 7024  SPANNMITTELBERO EINSTELLEN     M 19.0;TITLE = 7025  WARTEZEIT HAUPTANTRIEB         M 19.1;TITLE = 7026  MOTORSCHUTZ LUEFTER HAUPTANTRIEB AUS     M 56.7  NEU E 160;TITLE = 7038  DRUCKSCH.SCHMIERMITTEL DEFEKT  M 20.6;TITLE = 7039  SCHMIERMITTEL DEFEKT           M 20.7;TITLE = 7040  MASCHINENTÜR OFFEN             M 21.0;TITLE = 7042  MASCHINENTÜR INIT.             M 21.2;TITLE = 7043  SOLLSTUECKZAHL ERREICHT         M 21.3;TITLE = 7055  SPANNMITTEL OFFEN              M 22.0;TITLE = 7054  SPANNMITTEL KEIN TEIL GESPANNT M 22.1;TITLE = 7050  ZANGE SCHLIESSEN               M 22.2;TITLE = 7051  ZANGE/KEIN TEIL GESPANNT       M 22.3;TITLE = 7052  PINOLE IN ZWISCHENSTELLUNG     M 22.4;TITLE = 7053  PINOLE/KEIN TEIL GESPANNT      M 22.5;TITLE = 7060 ENDSCHALTER PINOL FREIFAHREN                      NEU E 160;TITLE = 7061 ENDSCHALTER X-ACHSE FREIFAHREN  M 54.5            NEU E 160;TITLE = 7062 ENDSCHALTER Z-ACHSE FREIFAHREN  M 56.5            NEU E 160;TITLE = 7063 OELSTAND ZENTRALSCHMIERUNG      M 56.6            NEU E 160;TITLE = 7064 FUTTERSCHUTZ OFFEN              M 56.7            NEU E 160;TITLE = 7065 MOTORSCHUTZ KUEHLMITTEL AUS     M 56.7            NEU E 160;TITLE = 7066 WERKZEUG BESTAETIGEN            M 42.3            NEU E 160;TITLE = 7067 HANDBETRIEB                     M 18.4            NEU E 160;TITLE = 7068 X-Handrad im Eingriff           M 19.0          NEU C40;TITLE = 7069 Y-Handrad im Eingriff           M 19.1          NEU C40;TITLE = 7070 Z-Handrad im Eingriff           M 19.2          NEU C40;TITLE = 7071 Werkzeugwechsel Vertikal        M 19.6          NEU C40;TITLE = 7072 Werkzeugwechsel Horizontal      M 19.7          NEU C40;TITLE = 7073 ENDSCHALTER Z-ACHSE FREIFAHREN  M 19.4          NEU C40;TITLE = 7074 WERKZEUG WECHSELN               M 42.0          NEU C40;TITLE = 7076 Fräskopf Schwenkeinrichtung verriegeln M 42.1   NEU C40;TITLE = 7086 Schaltschranktür offen          M 42.2          NEU C40;TITLE = 7087 Motorschutz Hydraulik Spannsystem ausgelöst  M 42.4          NEU C40NETWORKTITLE = ALLE MELDUNGEN LOESCHENL   0T   DB3.DBD 0       // 7000 BIS 7031T   DB3.DBD 4       // 7032 BIS 7063T   DB3.DBD 8       // 7064 BIS 7095NETWORKTITLE = Warten auf USBSPS nicht NOT-AUSO   M 58.1;         // HM ANFORDERUNG NEUES T-WORTO   M 11.5          // Warten auf USBSPS nicht NOT-AUSBEBNETWORKTITLE = 7063 OELSTAND ZENTRALSCHMIERUNGU   M 56.6;         // HM 7063 OELSTAND ZENTRALSCHMIERUNG=   DB3.DBX 7.7;    // 7063 OELSTAND ZENTRALSCHMIERUNGBEBNETWORKTITLE = 7042  MASCHINENTÜR INIT.U   M 21.2          // HM 7042  MASCHINENTÜR INIT.=   DB3.DBX 5.2;    // 7042  MASCHINENTÜR INIT.BEB;  NETWORK;  TITLE = 7016  HILFSANTRIEBE EINSCHALTEN;;       U   M 18.0          // HM 7016  HILFSANTRIEBE EINSCHALTEN;       =   DB3.DBX 2.0;    // 7016  HILFSANTRIEBE EINSCHALTEN;       BEB;NETWORKTITLE = 7061 ENDSCHALTER X-ACHSE FREIFAHRENU   M 54.5;         // HM MELDUNG 7061 ENDSCHALTER X-ACHSE FREIFAHRENUN  M 17.4          // Überbrückung für kurzzeitiges betätigen der Achsendschalter=   DB3.DBX 7.5;    // 7061 ENDSCHALTER X-ACHSE FREIFAHRENBEBNETWORKTITLE = 7073 ENDSCHALTER Y-ACHSE FREIFAHRENU   M 19.4          // HM MELDUNG 7073 ENDSCHALTER Y-ACHSE FREIFAHRENUN  M 17.4          // Überbrückung für kurzzeitiges betätigen der Achsendschalter=   DB3.DBX 9.1;    // 7073 ENDSCHALTER Y-ACHSE FREIFAHRENBEBNETWORKTITLE = 7062 ENDSCHALTER Z-ACHSE FREIFAHRENU   M 56.5;         // HM MELDUNG 7062 ENDSCHALTER Z-ACHSE FREIFAHRENUN  M 17.4          // Überbrückung für kurzzeitiges betätigen der Achsendschalter=   DB3.DBX 7.6;    // 7062 ENDSCHALTER Z-ACHSE FREIFAHRENBEBNETWORKTITLE = 7016  HILFSANTRIEBE EINSCHALTENU   M 18.0          // HM 7016  HILFSANTRIEBE EINSCHALTEN=   DB3.DBX 2.0;    // 7016  HILFSANTRIEBE EINSCHALTENBEBNETWORKTITLE = 7076 Fräskopf Schwenkeinrichtung verriegelnU   M 42.1;         // HM 7076 Fräskopf Schwenkeinrichtung verriegeln=   DB3.DBX 9.4     // 7076 Fräskopf Schwenkeinrichtung verriegelnBEBNETWORKTITLE = 7068 X-Handrad im EingriffU   M 19.0          // X-Handrad im Eingriff=   DB3.DBX 8.4;    // 7068 X-Handrad im EingriffBEBNETWORKTITLE = 7069 Y-Handrad im EingriffU   M 19.1          // Y-Handrad im Eingriff=   DB3.DBX 8.5;    // 7069 Y-Handrad im EingriffBEBNETWORKTITLE = 7070 Z-Handrad im EingriffU   M 19.2          // Z-Handrad im Eingriff=   DB3.DBX 8.6;    // 7070 Z-Handrad im EingriffBEBNETWORKTITLE = 7074 WERKZEUG WECHSELN;       U   M 42.0;         // HM MELDUNG 7074 WERKZEUG WECHSELN;       =   DB3.DBX 9.2;    // 7074 WERKZEUG WECHSELN;       BEBNETWORKTITLE = 7066 WERKZEUG BESTAETIGEN;       U   M 42.3;         // HM MELDUNG 7066 WERKZEUG BESTAETIGEN;       =   DB3.DBX 8.2;    // 7066 WERKZEUG BESTAETIGEN;       BEBNETWORKTITLE = 7064 FUTTERSCHUTZ OFFENU   M 56.7;                 // HM MELDUNG 7064 FUTTERSCHUTZ OFFEN=   DB3.DBX 8.0;          // 7064 FUTTERSCHUTZ OFFENBEBNETWORKTITLE = 7065  MOTORSCHUTZ KUEHLMITTELPUMPEU   M 40.0;               // HM MELDUNG 7065 MOTORSCHUTZ KUEHLMITTELPUMPE=   DB3.DBX 8.1;          // 7065 MOTORSCHUTZ KUEHLMITTELPUMPEBEBNETWORKTITLE = 7026  MOTORSCHUTZ LUFTER HAUPTANTRIEBU   M 40.2;               // HM MELDUNG 7026 MOTORSCHUTZ LUFTER HAUPTANTRIEB=   DB3.DBX 3.2;          // 7026 MOTORSCHUTZ LUEFTER HAUPTANTRIEBBEBNETWORKTITLE = 7087 Motorschutz Hydraulik Spannsystem ausgelöstU   M 42.4;         // HM Meldung 7087 Motorschutz Hydraulik Spannsystem ausgelöst=   DB3.DBX 10.7    // 7087 Motorschutz Hydraulik Spannsystem ausgelöstBEBNETWORKTITLE = 7018  Schlüsselschalter umschaltenU   M 18.2;         // HM 7018  Schlüsselschalter umschalten=   DB3.DBX 2.2;    // 7018  Schlüsselschalter umschaltenBEBNETWORKTITLE = 7067 HANDBETRIEBU   M 18.4;         // HM 7067  HANDBETRIEB=   DB3.DBX 8.3;    // 7067  HANDBETRIEBBEBNETWORKTITLE = 7055  SPANNMITTEL OFFEN !U   M 110.0;        // AUX-ONU   DB20.DBX 324.4; // REFERENZPUNKT AKTIVU   M 22.0;         // HM 7055  SPANNMITTEL OFFEN !=   DB3.DBX 6.7;    // 7055  SPANNMITTEL OFFEN !BEBNETWORKTITLE = 7054 SPANNMITTEL KEIN TEIL GESPANNTU   M 110.0;        // AUX-ONU   DB20.DBX 324.4; // REFERENZPUNKT AKTIVU   M 22.1;         // HM 7054 SPANNMITTEL KEIN TEIL GESPANNT=   DB3.DBX 6.6;    // 7054 SPANNMITTEL KEIN TEIL GESPANNTBEBNETWORKTITLE = 7050  ZANGE SCHLIESSENU   M 110.0;        // AUX-ONU   DB20.DBX 324.4; // REFERENZPUNKT AKTIVU   M 22.2;         // HM 7050  ZANGE SCHLIESSEN=   DB3.DBX 6.2;    // 7050  ZANGE SCHLIESSENBEBNETWORKTITLE = 7051  ZANGE/KEIN TEIL GESPANNTU   M 110.0;        // AUX-ONU   DB20.DBX 324.4; // REFERENZPUNKT AKTIVU   M 22.3;         // HM 7051  ZANGE/KEIN TEIL GESPANNT=   DB3.DBX 6.3;    // 7051  ZANGE/KEIN TEIL GESPANNTBEBNETWORK 24TITLE = 7052  PINOLE IN ZWISCHENSTELLUNGUN  E  6.5;          // PINOLE GESPANNTU   M 22.4;         // HM 7052  PINOLE IN ZWISCHENSTELLUNG=   DB3.DBX 6.4;    // 7052  PINOLE IN ZWISCHENSTELLUNGBEBNETWORK 25TITLE = 7053  PINOLE/KEIN TEIL GESPANNTU   M 22.5;         // HM 7053  PINOLE/KEIN TEIL GESPANNT=   DB3.DBX 6.5;    // 7053  PINOLE/KEIN TEIL GESPANNTBEBNETWORKTITLE = 7016  HILFSANTRIEBE EINSCHALTENU   DB20.DBX 324.4; // REFERENZPUNKT AKTIVU   M 18.0          // HM 7016  HILFSANTRIEBE EINSCHALTEN=   DB3.DBX 2.0;    // 7016  HILFSANTRIEBE EINSCHALTENBEBNETWORKTITLE = 7040  MASCHINENTÜR OFFENU   M 21.0          // HM 7040  MASCHINENTÜR OFFEN=   DB3.DBX 5.0;    // 7040  MASCHINENTÜR OFFENBEBNETWORKTITLE = 7016  HILFSANTRIEBE EINSCHALTENU   M 18.0          // HM 7016  HILFSANTRIEBE EINSCHALTEN=   DB3.DBX 2.0;    // 7016  HILFSANTRIEBE EINSCHALTENBEBNETWORKTITLE = 7071 Werkzeugwechsel VertikalU   M 19.6          // 7071 Werkzeugwechsel Vertikal=   DB3.DBX 8.7     // 7071 Werkzeugwechsel VertikalBEBNETWORKTITLE = 7072 Werkzeugwechsel HorizontalU   M 19.7          // 7072 Werkzeugwechsel Horizontal=   DB3.DBX 9.0     // 7072 Werkzeugwechsel HorizontalBEBNETWORKTITLE = 7038  DRUCKSCHALTER SCHMIERMITTEL DEFEKTU   M 20.6;         // HM 7038  DRUCKSCHALTER SCHM. DEFEKT=   DB3.DBX 4.6;    // 7038  DRUCKSCHALTER SCHM. DEFEKTBEBNETWORKTITLE = 7039  SCHMIERMITTEL DEFEKTU   M 20.7;         // HM 7039  SCHMIERMITTEL DEFEKT=   DB3.DBX 4.7;    // 7039  SCHMIERMITTEL DEFEKTBEBNETWORK 24TITLE = 7052  PINOLE IN ZWISCHENSTELLUNGU   M 22.4;         // HM 7052  PINOLE IN ZWISCHENSTELLUNG=   DB3.DBX 6.4;    // 7052  PINOLE IN ZWISCHENSTELLUNGBEBNETWORKTITLE = 7017  REFERENZPUNKT ANFAHRENU   M 18.1          // HM 7017  REFERENZPUNKT ANFAHREN=   DB3.DBX 2.1;    // 7017  REFERENZPUNKT ANFAHRENBEBNETWORKTITLE = 7021  WERKZEUGWENDER FREIFAHRENU   M 18.5;         // HM 7021  WZW NICHT VERRIEGELT=   DB3.DBX 2.5;    // MELDUNG 7021  WERKZEUGWENDER FREIFAHRENBEBNETWORKTITLE = 7000  FALSCHES T-WORTU   M 16.0;         // HM 7000  FALSCHES T-WORT=   DB3.DBX 0.0;    // 7000  FALSCHES T-WORTBEBNETWORKTITLE = 7043  SOLLSTUECKZAHL ERREICHTU   M 21.3;         // HM 7043  SOLLSTUECKZAHL ERREICHT=   DB3.DBX 5.3;    // 7043  SOLLSTUECKZAHL ERREICHTBEBNETWORKTITLE = 7018 Schlüsselschalter umschaltenU   M 18.2;         // HM 7018 Schlüsselschalter umschalten=   DB3.DBX 2.2;    // 7018 Schlüsselschalter umschaltenBEBEND_FUNCTIONFUNCTION FC 17: VOIDNAME: NE Modul NetzeinspeisungBEGIN// A 9.0 // Antriebsfreigabe auf NE Modul X121.64// A 4.2 // AUX ON Schütz// E 5.1 // Rückmeldung Netzschütz NE-Modul abgefallen// E 5.0 // NE-Modul betriebsbereit// E 2.6 // Überwachung AS Relais U/E Modul// Signale für USBSPS:// DB1.DBX 1590.6 = Ausgang X 2.7 auf USBSPS Impulsfreigabe NE-Modul X161.63,.48,.112// DB1.DBX 1592.6 = Ausgang X 3.7 auf USBSPS Impulsfreigabe Hauptantrieb X431.663// DB1.DBX 1598.2 = 0 Achs-Stillstandsüberwachung aktivieren//                = 1 Achs-Stillstandsüberwachung deaktivieren// DB1.DBX 1598.3 = 0 Spindel-Stillstandsüberwachung aktivieren//                = 1 Spindel-Stillstandsüberwachung deaktivierenNETWORKTITLE = Antriebsfreigabe auf NE-ModulU   M 2.0           // SUMME aller NOT-AUS MöglichkeitenU   M 110.0;        // AUX-ONUN  M 110.2         // HM AUX OFF schaltenS   A 9.0           // Antriebsfreigabe auf NE Modul X121.64UN  M 2.0           // SUMME aller NOT-AUS MöglichkeitenU   M 114.3;        // ISTDREHZAHL KLEINER 20U/MINUN  M 131.7;        // ACHSEN IN BEWEGUNGO   M 35.1          // Hydraulik zum Werkzeugentspannen freigegebenO   DB1.DBX 1740.0  // Schleppfehlerüberwachung ACCO   DB1.DBX 1740.1  // Schleppfehlerüberwachung ACCO   DB1.DBX 1740.2  // Schleppfehlerüberwachung ACCR   A 9.0           // Antriebsfreigabe auf NE Modul X121.64NETWORKTITLE = ALARM 6007 VERSORGUNGSSCHUETZE NICHT ABGEFALLEN;       U   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUF;       UN  E 5.1           // Rückmeldung Netzschütz NE-Modul abgefallen;8(((((((       S   DB2.DBX 0.7;    // ALARM 6007 VERSORGUNGSSCHUETZE NICHT ABGEFALLENNETWORKTITLE = AUX ON Schütz und Impulsfreigabe NE-ModulU   M 110.0;        // AUX-ONU   E 5.1;          // Rückmeldung Netzschütz NE-Modul abgefallenS   A 4.2 ;         // AUX ON SchützS   DB1.DBX 1598.0  // 1590.6  // Ausgang X 2.7 auf USBSPS Impulsfreigabe NE-Modul X161.63,.48,.112UN  M 110.0;        // AUX-ONR   A 4.2           // AUX ON SchützR   DB1.DBX 1598.0  // 1590.6  // Ausgang X 2.7 auf USBSPS Impulsfreigabe NE-Modul X161.63,.48,.112NETWORKTITLE = NE Modul BETRIEBSBEREITU   E 5.0;          // NE-Modul betriebsbereitU   A 4.2           // AUX ON SchützU   DB1.DBX 1598.0  // 1590.6  // Ausgang X 2.7 auf USBSPS Impulsfreigabe NE-Modul X161.63,.48,.112U   A 9.0           // Antriebsfreigabe auf NE Modul X121.64=   M 131.0;        // NE Modul BETRIEBSBEREITNETWORKTITLE = SFG VON NE Modul BETRIEBSBEREITUN  M 131.0;        // NE Modul BETRIEBSBEREIT=   M 94.1;         // NE Modul BETRIEBSBEREITNETWORKTITLE = NE Modul betriebsbereitU   A 4.2           // AUX ON SchützU   A 9.0           // Antriebsfreigabe auf NE Modul X121.64U   DB1.DBX 1598.0  // 1590.6  // Ausgang X 2.7 auf USBSPS Impulsfreigabe NE-Modul X161.63,.48,.112UN  A 9.3           // Leistung HydraulikpumpeL   S5T#5S;         // 25X0,1SSE  T 8;            // STARTEN T8 ALS EINSCHALTVERZ.NETWORKTITLE = ALARM 6019 NE Modul nicht betriebsbereitUN  E 5.0           // NE-Modul betriebsbereitL   S5T#4000MS;    //SE  T 9;            // STARTEN T9 ALS EINSCHALTVERZ.U   T 8;            // NE MODUL UEBERWACHUNG SCHARFU   T 9;            // NE MODUL NICHT-READY (0,2S)S   DB2.DBX 2.3;    // A 6019 NE Modul nicht betriebsbereitO   DB1.DBX 1370.2; // QUITTIERT. GEDRUECKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 2.3;    // A 6019 NE MODUL NICHT BETRIEBSBEREITEND_FUNCTIONFUNCTION FC  3 : VOIDNAME: HAUPTANTRIEB_STEUERUNGBEGIN//  X3:1  Stromistwert HAUPTSPINDEL//  X3:2  GND//  X3:5  Led H2   E 0.3  // Hauptantrieb SERVO-READY//  X3:11 Led H1   A 0.3  // Hauptantrieb Reglerfreigabe//  X3:13 Led H4   A 11.6 // Ausgang  res.//  X5:4           E 4.3  // Überwachung AS Relais Hauptantrieb//  8(((((((       E 2.2  // Winkelfräskopf montiert// Signale für USBSPS://// DB1.DBX 1592.6  // Ausgang X 3.7 auf USBSPS Impulsfreigabe Hauptantrieb X431.663// E 9.7           // Zustimmkontakt von Achs- und Spindeltastern//  M 131.0;        // NE Modul BETRIEBSBEREIT//  M 50.0;         // Tür zu und Verriegelt und Türfreigaberelais K3 ein//  M 110.0;        // AUX-ONNETWORKTITLE = TASTER HAUPTANTRIEB M5 BEDIENPULT (Überlistungsschutz!!!)U   DB20.DBX 826.4  // HA Rechtslauftaste Spindel START M3U   DB20.DBX 826.2  // HA Linkslauftaste Spindel START M4O   DB20.DBX 826.3  // HA StopptasteS   M 145.6         // HM TASTER BEDIENPULT SPINDEL STOP M5UN  DB20.DBX 826.4  // HA Rechtslauftaste Spindel START M3UN  DB20.DBX 826.2  // HA Linkslauftaste Spindel START M4UN  DB20.DBX 826.3  // HA StopptasteR   M 145.6         // HM TASTER BEDIENPULT SPINDEL STOP M5NETWORKTITLE = Hauptantrieb Tippbetrieb bei offener Tür mit max. 500UpmUN  DB20.DBX 826.4  // HA Rechtslauftaste Spindel START M3UN  DB20.DBX 826.2  // HA Linkslauftaste Spindel START M4ON  E 9.7           // Zustimmkontakt von Achs- und SpindeltasternU   M 113.0         // Einrichtbetrieb AKTIVFP  M 145.5         // Hauptantrieb Ausschalten Tippbetrieb bei offener TürNETWORKTITLE = Überwachung AS Relais Hauptantrieb//8(((((           E 4.3  // Überwachung AS Relais Hauptantrieb;  NETWORK;  TITLE = Impulsfreigabe Hauptantrieb über USB-SPS X431.663;;       O   DB20.DBX 826.4  // HA Rechtslauftaste Spindel START M3;       O   DB20.DBX 826.2  // HA Linkslauftaste Spindel START M4;       UN  M 145.6         // HM TASTER BEDIENPULT SPINDEL STOP M5;       O   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGER;       O   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGER;       O   M 145.7;        // HM REGLERFREIGABE FUER HAUPTANTRIEB;       =   DB1.DBX 1592.6  // Ausgang X 3.7 auf USBSPS Impulsfreigabe Hauptantrieb X431.663;NETWORKTITLE = REGLERFREIGABE HAUPTANTRIEBO   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGERO   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGER;       UN  E 4.3           // Überwachung AS Relais Hauptantrieb;       U   DB1.DBX 1592.6  // Ausgang X 3.7 auf USBSPS Impulsfreigabe Hauptantrieb X431.663U   M 104.2;        // SUM  SFGO(UN  M 114.3;        // ISTDREHZAHL KLEINER 20U/MINU   M 145.7;        // HM REGLERFREIGABE FUER HAUPTANTRIEB)=   A 0.3;          // Hauptantrieb Reglerfreigabe=   DB1.DBX 1592.6  // Ausgang X 3.7 auf USBSPS Impulsfreigabe Hauptantrieb X431.663S   M 145.7;        // HM REGLERFREIGABE FUER HAUPTANTRIEBNETWORKTITLE = UEBERWACHUNG HA SCHARFU   DB1.DBX 1592.6  // Ausgang X 3.7 auf USBSPS Impulsfreigabe Hauptantrieb X431.663U   A 0.3;          // Hauptantrieb ReglerfreigabeUN  E 4.3           // Überwachung AS Relais HauptantriebL   S5T#2S;         //SE  T 85;           // STARTEN T8 ALS EINSCHALTVERZ.NETWORKTITLE = Servo-Ready FilterU   E 0.3;          // Hauptantrieb SERVO-READYL   S5T#200MS       // 200 msSA  T 7O   E 0.3;          // Hauptantrieb SERVO-READYO   T 7=   M 36.3          // Hauptantrieb SERVO-READY gefiltertNETWORKTITLE = Reglerfreigabe Hauptantrieb BETRIEBSBEREITU   M 110.0;        // AUX-ON=   DB1.DBX 1460.3  // REGLERFREIGABE ABSOLUTE ACHSE 3NETWORKTITLE = 6013  HAUPTANTRIEB NICHT BEREITU   T 85;           // HA UEBERWACHUNG SCHARFUN  M 36.3          // Hauptantrieb SERVO-READY gefiltertUN  DB2.DBX 0.0;    // 6000  NOT-AUSS   DB2.DBX 1.5;    // 6013  HAUPTANTRIEB NICHT BEREITO   DB1.DBX 1370.2; // QUITTIERT. GEDRUECKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 1.5;    // 6013  HAUPTANTRIEB NICHT BEREITNETWORKTITLE = TASTER HAUPTANTRIEB M3 BEDIENPULTU   DB20.DBX 826.4  // HA Rechtslauftaste Spindel START M3U   E 9.7           // Zustimmkontakt von Achs- und SpindeltasternU   E 9.5           // MOTORSCHUTZ LUEFTER HAUPTANTRIEBU   M 51.7          // FREIGABE VON SICHERHEITSEINRICHTUNGENUN  M 145.6         // HM TASTER BEDIENPULT SPINDEL STOP M5UN  M 132.1;        // SPINDEL HALT AKTIV=   M 52.0          // HM HA Rechtslauftaste Spindel START M3U   M 52.0          // HM HA Rechtslauftaste Spindel START M3UN  E 0.3;          // Hauptantrieb SERVO-READYL   S5TIME#2SSV  T 20;           // IMPULS (VERLÄNGERT)U   DB20.DBX 826.4  // HA Rechtslauftaste Spindel START M3FN  M 52.2          // /FM HA Rechtslauftaste Spindel START M3U   M 52.2          // /FM HA Rechtslauftaste Spindel START M3U   T 20FP  M 52.3          // /FM HA Rechtslauftaste Spindel START M3 < 1sek.NETWORKTITLE = TASTER HAUPTANTRIEB M4 BEDIENPULTU   DB20.DBX 826.2  // HA Linkslauftaste Spindel START M4U   E 9.7           // Zustimmkontakt von Achs- und SpindeltasternU   E 9.5           // MOTORSCHUTZ LUEFTER HAUPTANTRIEBU   M 51.7          // FREIGABE VON SICHERHEITSEINRICHTUNGENUN  M 145.6         // HM TASTER BEDIENPULT SPINDEL STOP M5UN  M 132.1;        // SPINDEL HALT AKTIV=   M 52.1          // HM HA Linkslauftaste Spindel START M4U   M 52.1          // HM HA Linkslauftaste Spindel START M4UN  E 0.3;          // Hauptantrieb SERVO-READYL   S5TIME#2SSV  T 21;           // IMPULS (VERLÄNGERT)U   DB20.DBX 826.2  // HA Linkslauftaste Spindel START M4FN  M 52.5          // /FM HA Linkslauftaste Spindel START M4U   M 52.5          // /FM HA Linkslauftaste Spindel START M4U   T 21FP  M 52.4          // /FM HA Linkslauftaste Spindel START M4 < 1sek.U   E 4.5           // HA Drehzahl=0 von RelaisFN  M 52.6U   M 52.6R   T 20R   T 21NETWORKTITLE = ANWAHL HAUPTANTRIEB M3UN  DB20.DBX 224.3; // M3 STAT.U(  ;O   DB20.DBX 192.3; // M3 DYN.O(  ;U   M 148.2;        // HM M3 GESPEICHERT M0/M1U   DB20.DBX 0.2;   // FC NC-START)   ;O(  ;U   M 52.0          // HM HA Rechtslauftaste Spindel START M3;8(((       U   M 104.5;        // HM BETRIEBSART JOG UND INCUN  DB20.DBX 327.2; // BETRIEBSART REFERENZUN  DB20.DBX 324.0; // PROGRAMM LÄUFTUN  M 23.0          // Werkzeugwechsel aktiv)   ;)   ;U   M 104.2;        // SUM  SFGS   M 145.0;         // HM ANWAHL HAUPTANTRIEB M3O   M 145.0         // HM ANWAHL HAUPTANTRIEB M3=   DB20.DBX 256.3; // M3 RUECKMELDENR   M 148.2;        // HM M3 GESPEICHERT M0/M1R   M 145.1         // HM ANWAHL HAUPTANTRIEB M4NETWORKTITLE = ANWAHL HAUPTANTRIEB   M4UN  DB20.DBX 224.4; // M4 STAT.U(  ;O   DB20.DBX 192.4; // M4 DYN.O(  ;U   M 148.3;        // HM M4 GESPEICHERT M0/M1U   DB20.DBX 0.2;   // FC NC-START)   ;O(  ;U   M 52.1          // HM HA Linkslauftaste Spindel START M4;8((((       U   M 104.5;        // HM BETRIEBSART JOG UND INCUN  DB20.DBX 324.0; // PROGRAMM LÄUFTUN  DB20.DBX 327.2; // BETRIEBSART REFERENZUN  M 23.0          // Werkzeugwechsel aktiv)   ;)   ;U   M 104.2;        // SUM  SFGS   M 145.1         // HM ANWAHL HAUPTANTRIEB M4O   M 145.1         // HM ANWAHL HAUPTANTRIEB M4=   DB20.DBX 256.4; // M4 RUECKMELDEN;       S   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGER;       R   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGERR   M 148.3;        // HM M4 GESPEICHERT M0/M1R   M 145.0;        // HM ANWAHL HAUPTANTRIEB M3NETWORKTITLE = M3,M4 GESPEICHERT VON M0,M1U   M 34.1;         // HM M0/M1 DYNAMISCHU(O   DB20.DBX 192.3; // M3 DYN.O   DB20.DBX 224.3; // M3 STAT.)UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1S   M 148.2;        // HM M3 GESPEICHERT M0/M1U   M 34.1;         // HM M0/M1 DYNAMISCHU(O   DB20.DBX 192.4; // M4 DYN.O   DB20.DBX 224.4; // M4 STAT.)UN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1S   M 148.3;         // HM M4 GESPEICHERT M0/M1O   DB1.DBX 1440.0  // RESET AUSGELÖSTO   DB1.DBX 1370.3; // RESETTASTE GEDRUECKTR   M 148.2;        // HM M3 GESPEICHERT M0/M1R   M 148.3;        // HM M4 GESPEICHERT M0/M1NETWORKTITLE = ANWAHL HAUPTANTRIEB    M5U   M 34.1;         // HM M0/M1 DYNAMISCHUN  M 148.4;        // HM M3/M4 GESPEICHERT M0/M1O(;U   M 145.6         // HM TASTER BEDIENPULT SPINDEL STOP M5;8((((       U   M 104.5;        // HM BETRIEBSART JOG UND INCUN  DB20.DBX 324.0; // PROGRAMM LÄUFT)O(;U   M 132.7;        // FM SPINDEL HALT;8(((((       U   M 104.5;        // HM BETRIEBSART JOG UND INCUN  DB20.DBX 324.0; // PROGRAMM LÄUFT)O   DB20.DBX 192.5; // M5 dynamischO   DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUFO   DB1.DBX 1440.0  // RESET AUSGELÖSTO   DB1.DBX 1370.3; // RESETTASTE GEDRUECKTO   DB20.DBX 324.2; // DRYRUN AKTIVO   DB20.DBX 192.2; // M2 dynO   DB20.DBX 195.6; // M30 dyn;8((((       O   M 109.5;        // /FM AUX-ONO   M 52.3          // /FM HA Rechtslauftaste Spindel START M3 < 1sek.O   M 52.4          // /FM HA Linkslauftaste Spindel START M4 < 1sek.O   M 110.2         // HM AUX OFF schaltenO   DB20.DBX 327.2; // BETRIEBSART REFERENZO   M 23.0          // Werkzeugwechsel aktivO   M 145.5         // Hauptantrieb Ausschalten Tippbetrieb bei offener TürO   M 113.1;        // Anwahl Sonderbetrieb beenden=   DB20.DBX 256.5; // M5 RUECKMELDENR   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGERR   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGERR   M 145.0         // HM ANWAHL HAUPTANTRIEB M3R   M 145.1         // HM ANWAHL HAUPTANTRIEB M4NETWORKTITLE = HM M3/M4 GESPEICHERT M0/M1O   M 148.2;        // HM M3 GESPEICHERT M0/M1O   M 148.3;        // HM M4 GESPEICHERT M0/M1S   M 148.4;        // HM M3/M4 GESPEICHERT M0/M1UN  M 34.1;         // HM M0/M1 DYNAMISCHR   M 148.4;        // HM M3/M4 GESPEICHERT M0/M1NETWORKTITLE = TasterlampenansteuerungU   M 145.0         // HM ANWAHL HAUPTANTRIEB M3U(U   T 47            // BlinkfrequenzON  M 132.1;        // SPINDEL HALT AKTIV)=   DB20.DBX 846.4  // LED HA Rechtslauftaste Spindel START M3U   M 145.1         // HM ANWAHL HAUPTANTRIEB M4U(U   T 47            // BlinkfrequenzON  M 132.1;        // SPINDEL HALT AKTIV)=   DB20.DBX 846.2  // LED HA Linkslauftaste Spindel START M4NETWORKTITLE = ISTDREHZAHL KLEINER 20U/MINU   DB1.DBX 1356.3; // HAUPTANTRIEB STILLSTANDU(O   E 4.5           // HA Drehzahl=0 von RelaisON  DB1.DBX 1592.6  // Ausgang X 3.7 auf USBSPS Impulsfreigabe Hauptantrieb X431.663ON  A 9.0           // Antriebsfreigabe auf NE Modul X121.64)L   S5T#100MS;      // 100MSSE  T 0U   T 0=   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MINR   M 145.7         // HM REGLERFREIGABE FUER HAUPTANTRIEBNETWORKTITLE = HA LAUFT AUS  AFG/EFGU   DB20.DBX 224.5; // M5 STAT.UN  M 114.3;        // ISTDREHZAHL KLEINER 20U/MIN=   M 90.6;         // HA LAUFT AUS  AFG/EFGNETWORKTITLE = 6014  KEINE HAUPTSPINDELDREHZAHLO   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGERO   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGERUN  M 132.1;        // SPINDEL HALT AKTIVUN  DB20.DBX 328.0; // HS-SPINDEL STOPPENL   S5T#5S;         // 5 SSE  T 27;           // STARTEN T 27 ALS EINSCHALTVERZ.U   T 27;           // M3/M4-VERZÖGERUNGSZ. ABGELAUFENU   DB1.DBX 1356.3; // HAUPTANTRIEB STILLSTANDL   S5T#2S;         // 2 SSE  T 10;           // STARTEN T 10 ALS EINSCHALTVERZ.U   T 10;           // M3/M4-VERZÖGERUNGSZ. ABGELAUFENS   DB2.DBX 1.6;    // 6014  KEINE HAUPTSPINDELDREHZAHLO   DB1.DBX 1370.2; // QUITTIERT. GEDRUECKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTR   DB2.DBX 1.6;    // 6014  KEINE HAUPTSPINDELDREHZAHLNETWORKTITLE = LUEFTER HAUPTANTRIEBU   A 0.3;          // Hauptantrieb ReglerfreigabeS   M 41.0;         // HM LUEFTER EIN M3/M4UN  A 0.3;          // Hauptantrieb ReglerfreigabeR   M 41.0;         // HM LUEFTER EIN M3/M4U   A 0.3;          // Hauptantrieb ReglerfreigabeFN  M 41.1;         // FM M3/M4 AUSU   M 41.1;L   S5T#30MS;        // 8((((((((((((((  30MS????SA  T 63;           // NACHLAUFZEIT LUEFTER ABFALLVERZOEGERTO   M 41.0;         // HM LUEFTER EIN M3/MO   T 63;           // NACHLAUFZEIT LUEFTER ABFALLVERZOEGERT=   A 9.1;          // LEISTUNG LUEFTER EINON  E 9.5           // MOTORSCHUTZ LUEFTER HAUPTANTRIEBR   T 63;           // NACHLAUFZEIT LUEFTER ABFALLVERZOEGERTNETWORKTITLE = MELDUNG 7026 MOTORSCHUTZ LUFTER HAUPTANTRIEBUN  E 9.5           // MOTORSCHUTZ LUEFTER HAUPTANTRIEBS   M 40.2;         // HM MELDUNG 7026 MOTORSCHUTZ LUFTER HAUPTANTRIEBO   DB1.DBX 1370.2; // QUITTIERT. GEDRUECKT (MSTT/PC)O   DB1.DBX 1370.3; // RESET-TASTE GEDRUECKTU   E 9.5           // MOTORSCHUTZ LUEFTER HAUPTANTRIEBR   M 40.2;         // HM MELDUNG 7026 MOTORSCHUTZ LUFTER HAUPTANTRIEBNETWORKTITLE = Drehrichtung bei montiertem Fräskopf ändernU   E 2.2           // Winkelfräskopf montiertU   M 145.0         // HM ANWAHL HAUPTANTRIEB M3O(UN  E 2.2           // Winkelfräskopf montiertU   M 145.1         // HM ANWAHL HAUPTANTRIEB M4)=   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGERR   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGERU   E 2.2           // Winkelfräskopf montiertU   M 145.1         // HM ANWAHL HAUPTANTRIEB M4O(UN  E 2.2           // Winkelfräskopf montiertU   M 145.0         // HM ANWAHL HAUPTANTRIEB M3)=   DB20.DBX 340.1; // SPINDEL EIN GEGEN UHRZEIGERR   DB20.DBX 340.0; // SPINDEL EIN IM UHRZEIGEREND_FUNCTIONFUNCTION FC 13: VOIDNAME: INITIALISIERUNGEN UEBERWACHUNGEN UND ALARMEBEGINNETWORKTITLE = Elektronisches Handrad vorhandenU   E 5.3           // NOT AUS HandradUN  DB2.DBX 0.0;    // 6000  NOT-AUSUN  M 11.5          // Warten auf USBSPS nicht NOT-AUSUN  DB1.DBX 1370.0; // 1.SPS SCHLEIFENDURCHLAUFS   M 38.7          // Elektronisches Handrad angeschlossenNETWORKTITLE = Remanente Bereiche aus SE/Daten ladenU     DB1.DBX 1370.0;     // 1. PLC-DurchlaufSPBN     M1301;L     DB15.DBW 20;        // Maschinenkonfig. in SE-DatenT     MW 5;               // akt. MaschinenkonfigurationM1301: NOP   0;NETWORKTITLE = SCHLUESSELSCHALTER VORHANDENU   DB1.DBX 1370.0; // 1.SPS-SCHLEIFENDURCHLAUFS   DB1.DBX 1418.2; // SCHLUESSELSCHALTER VORHANDENNETWORKTITLE = M0,M1 AUSLÖSUNGO   M 58.0;         // FM ANFORDERUNG NEUES T-WORTO   DB20.DBX 192.0; // M0 DYNAMISCH=   DB20.DBX 256.0; // M0 RUECKMELDENU   DB20.DBX 192.1; // M1 DYNAMISCHU   DB20.DBX 324.5; // BEDINGTER HALT AKTIV=   DB20.DBX 256.1; // M1 RUECKMELDENU   DB20.DBX 192.1; // M1 DYNAMISCHU   DB20.DBX 324.5; // BEDINGTER HALT AKTIVO   M 58.0;         // FM ANFORDERUNG NEUES T-WORTO   DB20.DBX 192.0; // M0 DYNAMISCH=   M 34.1;         // HM M0/M1 DYNAMISCHNETWORKTITLE = SPS/OB-->EINZELSTUECK AKTIVUN  DB10.DBX 1.0;   // SPS-MSD DAUERLAUF AKTIV=   DB1.DBX 1390.3; // SPS/RM-->EINZELSTUECK AKTIVNETWORKTITLE = VORSCHUBSCHALTER AUF 0%L   DB20.DBW 358;   // FEED-OVERRIDE-ISTWERTL   W#16#0000;      // LADE 0==I;                // VERGLEICH AUF GLEICH=   M 100.2;        // VORSCHUBSCHALTER AUF 0%NETWORKTITLE = EILGANG UEBERLAGERUNGU   DB20.DBX 827.4  // Eilgang TasterU   DB20.DBX 324.4; // REFERENZPUNKT AKTIV=   DB20.DBX 824.0  // EILGANG UEBERLAGERUNG KANAL 0=   DB20.DBX 847.4  // LED Eilgang TasterNETWORKTITLE = HAUPTANTRIEB LÄUFTUN  M 114.3;        // ISTDREHZAHL KLEINER 20U/MIN=   M 20.0;         // HAUPTANTRIEB LÄUFTNETWORKTITLE = FREIGABE VON SICHERHEITSEINRICHTUNGEN;       U   M 50.3;         // FREIGABEKREIS AUF AUSGABEMODUL DURCHGESCHALTET;       U   M 50.0          // Tür ZU VON TürMODUL Y4A043000 X5:4 FG1U   DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)U   M 12.0          // TÜR zu und VerriegeltO(UN  DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)U   E 9.7           // Zustimmkontakt von Achs- und SpindeltasternU   M 12.1          // TÜR offen)=   M 51.7          // FREIGABE VON SICHERHEITSEINRICHTUNGENFN  M 51.6          // NEGATIV FLANKENMERKER AUS FREIGABE VON SICHERHEITSEINRICHTUNGENNETWORKTITLE = ACHSEN IN BEWEGUNGL   DB1.DBB 1358;   // ACHSEN IN BEWEGUNGL   B#16#0;         // LADE KONSTANTE HEX 0<>I;                // VERGLEICH AUF UNGLEICH=   M 131.7;        // ACHSEN IN BEWEGUNGNETWORK 5TITLE = Reset-Taste an USBSPS weiterleitenU   DB1.DBX 1440.0  // RESET AUSGELÖSTU   DB1.DBX 1370.3  // RESET-TASTE GEDRUECKT=   DB1.DBX 1598.3  // Reset-Taste an USBSPS weiterleitenNETWORKTITLE =  EasyCycle beenden und LED löschenU   DB1.DBX 1440.1; // PROGRAMM BEENDENU   M 110.0;        // AUX-ONR   DB1.DBX 1440.1; // PROGRAMM BEENDENU   DB1.DBX 1440.1; // PROGRAMM BEENDENUN  M 110.0;        // AUX-ONSPBN   M1302L   W#16#0;         // LADE KONSTANTE HEX 0T   DB20.DBW 846    // LED IM BEDIENPULT LÖSCHENT   DB20.DBW 848    // LED IM BEDIENPULT LÖSCHEN;       T   DB20.DBW 850    // LED IM BEDIENPULT LÖSCHEN;       T   DB20.DBW 852    // LED IM BEDIENPULT LÖSCHENM1302:  NOP 0END_FUNCTIONFUNCTION FC 14: VOIDNAME: PLC NC-UEBERGABE UND AFG/EFG/SFGBEGINNETWORKTITLE = SUM ALARME 1L   DB2.DBW 0;      // WORT/ALARME 1L   W#16#0;         // LADE KONSTANTE HEX 0<>I;                // VERGLEICH AUF UNGLEICH=   M 105.0;        // SUM ALARME 1NETWORKTITLE = SUM ALARME 2L   DB2.DBW 2;      // WORT/ALARME 2L   W#16#0;         // LADE KONSTANTE HEX 0<>I;                // VERGLEICH AUF UNGLEICH=   M 105.1;        // SUM ALARME 2NETWORKTITLE = SUM ALARME 3/THERM. ALARMEL   DB2.DBW 4;      // BYTE/ALARME 3L   W#16#0;         // LADE KONSTANTE HEX 0<>I;                // VERGLEICH AUF UNGLEICH=   M 105.2;        // SUM ALARME 3/THERM. ALARMENETWORKTITLE = SUM ALARME 5L   DB2.DBW 6;      // WORT/ALARME 5L   W#16#0;         // LADE KONSTANTE HEX 0<>I;                // VERGLEICH AUF UNGLEICH=   M 105.3;        // SUM ALARME 5NETWORKTITLE = SUM ALARME 6L   DB2.DBW 8;      // WORT/ALARME 6L   W#16#0;         // LADE KONSTANTE HEX 0<>I ;               // VERGLEICH AUF UNGLEICH=   M 105.4;        // SUM ALARME 6NETWORKTITLE = SUM ALARME AFG/EFGO   M 105.0;        // SUM ALARME 1O   M 105.1;        // SUM ALARME 2O   M 105.2;        // SUM ALARME 3/THERM. ALARMEO   M 105.3;        // SUM ALARME 5O   M 105.4;        // SUM ALARME 6=   M 91.1;         // SUM ALARME  AFG/EFGU   M 91.1;         // SUM ALARME  AFG/EFGFP  M 53.2          // FM SUM ALARME  AFG/EFGNETWORKTITLE = SUM MELDUNGEN  AFG/EFG;//  BELEGUNG VON MELDUNGSWORT DB3.DBW 0:;//  DB3.DBX 0.0;  7000  FALSCHES T-WORTL   DB3.DBW 0;      // WORT/MELDUNGEN  AFG/EFGL   W#16#0;         // LADE KONSTANTE HEX 0<>I;                // VERGLEICH AUF UNGLEICH 0=   M 91.0;         // SUM MELDUNGEN  AFG/EFGNETWORKTITLE = AFG/EFG VON SICHERHEITSEINRICHTUNGENUN  M 51.7;         // FREIGABE VON SICHERHEITSEINRICHTUNGEN=   M 91.4;         // AFG/EFG VON SICHERHEITSEINRICHTUNGENNETWORKTITLE = AFG/EFG Fräskopfschwenkeinrichtung in ParkpositionUN  E 2.3           // Fräskopfschwenkeinrichtung in Parkposition=   M 91.2;         // Fräskopfschwenkeinrichtung in Parkposition AFG/EFG=   M 42.1;         // HM 7076 Fräskopf Schwenkeinrichtung verriegelnNETWORKTITLE = ACHSFREIGABE;       UN  M 90.0;         // AUX-ON   AFG/EFG;       UN  M 90.4;         // AWZ EINKUPPELANFORDERUNG;       UN  M 90.5;         // AWZ LAUFT AUS  AFG/EFG;       UN  M 90.7;         // AUFFANGSCHALE IN BEWEGUNG;       UN  M 91.3;         // TürBEWEGUNG AKTIV  AFG/EFG;       UN  M 91.5;         // SPANNMITTELBEWEGUNG AKTIV  AFG/EFG;       UN  M 91.5;         // ZANGENBEWEGUNG AKTIV  AFG/EFGUN  M 90.1;         // ACHSEN BETRIEBSBEREIT  AFG/EFGUN  M 90.2;         // Achsendschalter betätigt AFG/EFGUN  M 90.6;         // HA LAUFT AUS  AFG/EFGUN  M 91.0;         // SUM MELDUNGEN  AFG/EFGUN  M 91.1;         // SUM ALARME  AFG/EFGUN  M 91.2;         // Fräskopfschwenkeinrichtung in Parkposition AFG/EFGUN  M 91.4;         // AFG/EFG VON SICHERHEITSEINRICHTUNGENUN  M 91.6;         // VORSCHUB HALT AKTIV  AFG/EFGUN  M 91.7;         // SPINDEL HALT AKTIV  AFG/EFG=   M 102.0;        // SUM ACHSFREIGABENETWORKTITLE = AchsfreigabeU   M 102.0;        // SUM ACHSFREIGABE=   DB20.DBX 340.4  // ACHSFREIGABENETWORKTITLE = ReglerfreigabeU   A 0.0           // Reglerfreigabe AchsbaugruppeU   E 0.0           // Betriebsbereit Achsbaugruppe=   DB1.DBX 1460.0  // Reglerfreigabe absolute Achse 0U   A 0.1           // Reglerfreigabe AchsbaugruppeU   E 0.1           // Betriebsbereit Achsbaugruppe=   DB1.DBX 1460.1  // Reglerfreigabe absolute Achse 1U   A 0.2           // Reglerfreigabe AchsbaugruppeU   E 0.2           // Betriebsbereit Achsbaugruppe=   DB1.DBX 1460.2  // Reglerfreigabe absolute Achse 2NETWORKTITLE = EINLESEFREIGABE;       UN  M 90.0;         // AUX-ON   AFG/EFG;       UN  M 90.1;         // ACHSEN BETRIEBSBEREIT  AFG/EFG;       UN  M 90.4;         // AWZ EINKUPPELANFORDERUNG;       UN  M 90.5;         // AWZ LAUFT AUS  AFG/EFG;       UN  M 90.6;         // HA LAUFT AUS  AFG/EFG;       UN  M 90.7;         // AUFFANGSCHALE IN BEWEGUNG;       UN  M 91.0;         // SUM MELDUNGEN  AFG/EFG;       UN  M 91.1;         // SUM ALARME  AFG/EFG;       UN  M 91.3;         // TürBEWEGUNG AKTIV  AFG/EFG;       UN  M 91.5;         // SPANNMITTELBEWEGUNG AKTIV  AFG/EFG;       UN  M 91.5;         // ZANGENBEWEGUNG AKTIV  AFG/EFG;;       UN  M 91.6;         // VORSCHUB HALT AKTIV  AFG/EFG;       UN  M 91.7;         // SPINDEL HALT AKTIV  AFG/EFG;       UN  M 91.4;         // AFG/EFG VON SICHERHEITSEINRICHTUNGENUN  M 90.1;         // ACHSEN BETRIEBSBEREIT  AFG/EFGUN  M 90.2;         // Achsendschalter betätigt AFG/EFGUN  M 90.6;         // HA LAUFT AUS  AFG/EFGUN  M 91.0;         // SUM MELDUNGEN  AFG/EFGUN  M 91.1;         // SUM ALARME  AFG/EFGUN  M 91.2;         // Fräskopfschwenkeinrichtung in Parkposition AFG/EFGUN  M 91.4;         // AFG/EFG VON SICHERHEITSEINRICHTUNGENUN  M 91.6;         // VORSCHUB HALT AKTIV  AFG/EFGUN  M 91.7;         // SPINDEL HALT AKTIV  AFG/EFG=   M 104.0;        // SUM EINLESEFREIGABEU   M 104.0;        // SUM EINLESEFREIGABE=   DB20.DBX 340.3; // EINLESEFREIGABENETWORKTITLE = Freigaben für Betriebsart ReposU   DB20.DBX 324.0; // PROGRAMM LÄUFTU   DB20.DBX 324.1; // PROGRAMM ANGEHALTENU   DB20.DBX 326.3; // BETRIEBSART REPOSSPBN  M1401;=   DB25.DBX 340.3; // EINLESEFREIGABE K1=   DB25.DBX 340.4; // ACHSFREIGABE    K1M1401: NOP   0;NETWORKTITLE = SPINDELFREIGABE SPINDEL 0;//    BELEGUNG VON MW 94 (SFG)UN  M 94.0;         // AUX-ONUN  M 94.1;         // ER Modul BETRIEBSBEREITUN  M 95.7;         // SPINDEL HALT AKTIV=   M 104.2;        // SUM  SFGU   M 104.2;        // SUM  SFGU   M 36.3          // Hauptantrieb SERVO-READY gefiltertUN  M 94.2;         // Spindelfreigabe WERKZEUGBESTAETIGUNG AKTIVUN  DB20.DBX 324.2; // DRYRUN AKTIV=   DB20.DBX 340.5; // SPINDELFREIGABE SPINDEL 0NETWORKTITLE = SPS/OB-->WERKZEUGW. AKTIVU   DB10.DBX 75.5;  // SPS-MSD /WERKZEUGWENDER=   DB20.DBX 382.0; // SPS/RM-->WERKZEUGW. AKTIVNETWORKTITLE = SPS/OB-->TürAUTOMATIK AKTIVU   DB10.DBX 75.0;  // SPS-MSD /TürAUTOMATIK=   DB1.DBX 1418.0; // SPS/RM-->TürAUTOMATIK AKTIVNETWORKTITLE = SPS/OB-->PNEUM. SPM AKTIVU   DB10.DBX 75.2;  // SPS-MSD /PNEUM. SPM=   DB20.DBX 382.1; // SPS/RM-->PNEUM. SPM AKTIVNETWORKTITLE = SPS/OB-->PNEUM. PINOLE AKTIVU   DB10.DBX 75.1;  // SPS-MSD /PINOLE=   DB20.DBX 382.2; // SPS/RM-->PNEUM. PINOLE AKTIVNETWORKTITLE = SPS/OB-->AUSBLASEINR. AKTIVU   DB10.DBX 75.3;  // SPS-MSD /AUSBLASEN=   DB20.DBX 382.4; // SPS/RM-->AUSBLASEINR. AKTIVNETWORKTITLE = SPS/OB-->KUEHLMITTEL AKTIVSET;=   DB20.DBX 382.3; // SPS/RM-->KUEHLMITTEL AKTIV;  NETWORK;  TITLE = SUM SPINDEL EIN/AUS;;       UN  DB20.DBX 326.1; // BETRIEBSART EDIT;       UN  DB20.DBX 326.2; // BETRIEBSART MDI;       UN  DB20.DBX 326.3; // BETRIEBSART REPOS;       UN  DB20.DBX 326.4; // BETRIEBSART AUTOMATIK;       UN  DB20.DBX 327.2; // BETRIEBSART REFERENZ;       UN  DB20.DBX 327.4; // BETRIEBSART PRESET;       =   M 104.5;        // HM BETRIEBSART JOG UND INC;END_FUNCTIONFUNCTION FC 12: VOIDNAME: Einricht-AutomatikbetriebBEGIN//    E 9.7  // Zustimmkontakt von Achs- und Spindeltastern//    DB20.DBX 827.6 // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)NETWORKTITLE = FG EinrichtbetriebU   M 110.0;        // AUX-ONUN  DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)U   E 9.7           // Zustimmkontakt von Achs- und SpindeltasternU   M 110.1;        // MASCHINENTÜR OFFENUN  DB20.DBX 326.4; // BETRIEBSART AUTOMATIKUN  M 113.1;        // Anwahl Sonderbetrieb beendenS   M 113.0;        // Einrichtbetrieb AKTIVO   DB1.DBX 1440.0  // RESET AUSGELÖSTO   DB1.DBX 1370.3; // RESETTASTE GEDRUECKTR   M 113.1;        // Anwahl Sonderbetrieb beendenR   M 113.0;        // SONDERBETRIEB AKTIVNETWORKTITLE = Sonderbetrieb nach loslassen der Zustimmtaste oder Schlüsselschalter beendenON  E 9.7           // Zustimmkontakt von Achs- und SpindeltasternO   DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)U   M 113.0;        // Einrichtbetrieb AKTIVS   M 113.1;        // Anwahl Sonderbetrieb beendenU   M 113.1;        // Anwahl Sonderbetrieb beendenUN  M 131.7;        // ACHSEN IN BEWEGUNGU   M 114.3;        // ISTDREHZAHL KLEINER 20U/MINR   M 113.1;        // Anwahl Sonderbetrieb beendenR   M 113.0;        // SONDERBETRIEB AKTIVNETWORKTITLE = MELDUNG 7067  HANDBETRIEB AKTIVU   M 113.0;        // Einrichtbetrieb AKTIV=   M 18.4;         // HM MELDUNG 7067  HANDBETRIEB AKTIVNETWORKTITLE = SB AKTIV/VORSCHUBBEGR. 2M/MINU   M 113.0         // Einrichtbetrieb AKTIV=   DB20.DBX 340.2; // SB AKTIV/VORSCHUBBEGR.FUER AC 2M/MINNETWORKTITLE = SPS/OB-->HANDBETRIEB EINU   M 113.0         // Einrichtbetrieb AKTIV=   DB1.DBX 1390.6; // SPS/RM-SCHLUESSELSCHALTER AUF SONDERBETRIEBNETWORKTITLE = RESET WENN SCHLUESSELSCHALTER UMGESCHALTEN WIRDU   DB20.DBX 327.2; // BETRIEBSART REFERENZFP  M 43.5;         // FM BETRIEBSART REFERENZUN  DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)FP  M 43.6;         // FM SCHLUESSELSCHALTER AUF SONDERBETRIEBU   DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)FP  M 43.7;         // FM SCHLUESSELSCHALTER AUF AUTOMATIKBETRIEBO   M 43.7;         // FM SCHLUESSELSCHALTER AUF AUTOMATIKBETRIEBO   M 43.6;         // FM SCHLUESSELSCHALTER AUF SONDERBETRIEBO   M 43.5;         // FM BETRIEBSART REFERENZO   M 43.0          // FM Programm läuft und ein Handrad wurde herausgezogenO(U   DB20.DBX 1.2;   // FC JOG-ACHSENU   M 112.0;        // JOG-ACHSEN verhindern)SPBN M002;R   M 113.1;        // Anwahl Sonderbetrieb beenden=   DB20.DBX 4.0;   // Anforderung für Reset-Taste (Verhalten wie bei Taste!)=   DB1.DBX 1440.0  // NC-RESET AUSLÖSENM002:  NOP 0NETWORKTITLE = 7018  SCHLUESSEL UMSCHALTENU   E 9.7           // Zustimmkontakt von Achs- und SpindeltasternU   M 12.1          // Tür offenU   DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal)O(U   M 12.0          // TÜR zu und VerriegeltUN  DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal))=   M 18.2;         // HM 7018  Schlüsselschalter umschaltenEND_FUNCTIONFUNCTION FC 10 : VOIDNAME: BEI_PROGRAMM_ENDE_RESET_ODER_NEUSTARTBEGINNETWORK 1TITLE = DAUERLAUF BIT FREISCHALTENU   DB10.DBX 1.0;   // SPS-MSD DAUERLAUF-BITUN  DB10.DBX 77.2;  // LADEMAGAZIN AKTIVIEREN=   M 10.2          // NEUSTART NACH PROGRAMMENDENETWORK 2TITLE = LED 1x TASTE AKTIVIERENU   DB10.DBX 77.2;  // LADEMAGAZIN UND 1x TASTE AKTIVIERENSPB   M001=   M 8.2           // 1X AKTIVM001:  NOP 0;NETWORK 3TITLE = NEUSTART VON 1X TASTE UND VON M30,M32// M30 UND M32 SIND NICHT IM SELBEN PLC-CYCLUS AKTIV !!!!!!!!U   DB20.DBX 195.6; // M30 DYN.U   DB10.DBX 77.2;  // LADEMAGAZIN AKTIVIERENUN  M 8.2           // 1X AKTIVS   M 10.6          // HM M30 DYN.U   DB20.DBX 196.0; // M32 DYN.U   DB10.DBX 77.2;  // LADEMAGAZIN AKTIVIERENUN  M 8.2           // 1X AKTIVS   M 10.7          // HM M32 DYN.U   M 10.6          // HM M30 DYN.U   M 10.7          // HM M32 DYN.S   M 10.2          // NEUSTART NACH PROGRAMMENDENETWORK 4TITLE = PROGRAMM ENDE AN NCU   M 10.1;         // HMUN  M 10.2          // NEUSTART NACH PROGRAMMENDER   M 10.1;         // HM=   DB20.DBX 348.1; // PROGRAMM LÄUFT WIRD ZURÜCKGESETZTR   M 10.6          // HM M30 DYN.R   M 10.7          // HM M32 DYN.NETWORK 5TITLE = PROGRAMM ENDE UND NEUSTART (DAUERLAUF) AN NCU   M 10.1;         // HMU   M 10.2          // NEUSTART NACH PROGRAMMENDEU   M 104.3;        // SUM  NC-STARTFREIGABEU   DB20.DBX 340.3; // EINLESEFREIGABER   M 10.1;         // HM=   DB20.DBX 348.2; // PROGRAMM LÄUFT WIRD ZURÜCKGESETZT UND GESTARTETR   M 10.2          // NEUSTART NACH PROGRAMMENDER   M 10.6          // HM M30 DYN.R   M 10.7          // HM M32 DYN.NETWORK 6TITLE = ISTDREHZAHL KLEINER 20U/MINO   DB20.DBX 192.2; // M2 DYN.O   DB20.DBX 195.6; // M30 DYN.S   M 10.0;         // HMU   M 10.0;         // HM ENDE ODER NEUSTARTU   M 114.3;        // HA ISTDREHZAHL KLEINER 20U/MINS   M 10.1;         // HMR   M 10.0;         // HM ENDE ODER NEUSTARTNETWORK 7TITLE = M2 M30 und M32 RÜCKMELDEN VON M2,M30,M32 UND RESETO   DB20.DBX 348.1; // PROGRAMM LÄUFT WIRD ZURÜCKGESETZTO   DB20.DBX 348.2; // PROGRAMM LÄUFT WIRD ZURÜCKGESETZT UND GESTARTETO   DB1.DBX 1370.3; // RESETTASTE GEDRÜCKTO   DB1.DBX 1440.0; // RESET AUSGELÖSTR   M 10.0;         // HM ENDE ODER NEUSTARTR   M 10.1;         // HMR   M 10.2          // NEUSTART NACH PROGRAMMENDER   M 10.6          // HM M30 DYN.R   M 10.7          // HM M32 DYN.=   DB20.DBX 259.6; // M30 RÜCKMELDEN=   DB20.DBX 260.0; // M32 RÜCKMELDEN=   DB20.DBX 256.2; // M2 RÜCKMELDENEND_FUNCTIONORGANIZATION_BLOCK OB  1NAME: ORGANISATIONSBAUSTEINBEGIN;          U   DB20.DBX 826.0  // AUX ON Taste;          =   DB20.DBX 846.0  // LED AUX ON Taste;          U   DB20.DBX 826.1  // CYCLE START Taste;          =   DB20.DBX 846.1  // LED CYCLE START Taste;          U   DB20.DBX 826.2  // HA Linkslauftaste;          =   DB20.DBX 846.2  // LED HA Linkslauftaste;          U   DB20.DBX 826.3  // HA Stopptaste;          =   DB20.DBX 846.3  // LED HA Stopptaste;          U   DB20.DBX 826.4  // HA Rechtslauftaste;          =   DB20.DBX 846.4  // LED HA Rechtslauftaste;          U   DB20.DBX 826.5  // Vorschubschalter;          =   DB20.DBX 846.5  // LED Vorschubschalter;          U   DB20.DBX 826.6  // -Z Taster;          =   DB20.DBX 846.6  // LED -Z Taster;          U   DB20.DBX 826.7  // +Y Taster;          =   DB20.DBX 846.7  // LED +Y Taster;          U   DB20.DBX 827.0  // NOT AUS Taster USB Bedienpult;          =   DB20.DBX 847.0  // LED NOT AUS Taster;          U   DB20.DBX 827.1  // Programm Halt Taster;          =   DB20.DBX 847.1  // LED Programm Halt Taster;          U   DB20.DBX 827.3  // +X Taster;          =   DB20.DBX 847.3  // LED +X Taster;          U   DB20.DBX 827.4  // Eilgang Taster;          =   DB20.DBX 847.4  // LED Eilgang Taster;          U   DB20.DBX 827.5  // -X Taster;          =   DB20.DBX 847.5  // LED -X Taster;          U   DB20.DBX 827.6  // Einricht / Automatik Schalter  (Einricht=0- Automatik=1-Signal);          =   DB20.DBX 847.6  // LED Hand / Automatik Schalter;          U   DB20.DBX 827.7  // Werkzeugbestätigung Taster;          =   DB20.DBX 847.7  // LED Werkzeugbestätigung Taster;          O   DB20.DBX 828.0  // Kühlmittelschalter Handbetrieb;          O   DB20.DBX 828.1  // Kühlmittelschalter Spindelbetrieb;          =   DB20.DBX 848.0  // LED Kühlmittelschalter;          U   DB20.DBX 828.2  // -Y Taster;          =   DB20.DBX 848.1  // LED -Y Taster;          U   DB20.DBX 828.3  // +Z Taster;          =   DB20.DBX 848.2  // LED +Z TasterCALL   FC  8  // NC-STARTVERRIEGELUNGU     M 11.7 // USBSPS auf Ueberwachungsbetrieb eingestelltCC     FC  2  // CYCLISCHE ÜBERWACHUNG PICCALL   FC 28  // Hydraulischer WerkzeugentspannerCALL   FC 11  // Neues SicherheitskonzeptCALL   FC 12  // Einricht-AutomatikbetriebCALL   FC  4  // Achsmodul Imp.und ReglerfreigabeCALL   FC 13  // INITIALISIERUNGEN UEBERWACHUNGEN UND ALARMECALL   FC  1  // SCHMIERMITTELCALL   FC 22  // WERKZEUGWECHSELBESTAETIGUNG HYDRAULISCHCALL   FC 23  // LAMPENIMPULSCALL   FC 17  // NE Modul NetzeinspeisungCALL   FC  3  // HA STEUERUNG SPINDEL0 (M3/M4/M5)CALL   FC  5  // JOG ACHSEN und HandräderCALL   FC 10  // BEI PROGRAMM ENDE RESET ODER NEUSTARTCALL   FC 19  // Spindel Start/Stopp im AutomatikbetriebCALL   FC  6  // REF ACHSENUN    DB10.DBX 75.0   // Kühlmittel ein/aus mit M8 und M9 im Automatikbetrieb erlaubtCC     FC 18  // KUEHLMITTEL SchalterU     DB10.DBX 75.0   // Kühlmittel ein/aus mit M8 und M9 im Automatikbetrieb erlaubtCC     FC 20  // KUEHLMITTEL (M8/M9)CALL   FC  7  // AUX-ONCALL   FC 15  // MELDUNGEN 7000CALL   FC 14  // PLC NC-UEBERGABE UND AFG/EFG/SFGU   M 38.7 // Elektronisches Handrad angeschlossenCC     FC 30  // Elektronisches HandradEND_ORGANIZATION_BLOCK